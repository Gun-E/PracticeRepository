<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>

    <title>다담몰 | 식자재는 다담몰</title>
    <meta charset="UTF-8" />
    <link rel="icon" href="../../images/favicon.ico" />
    <link rel="stylesheet" href="../../css/swiper.min.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta content="../../images/etc/dadam_thumbnail.jpg" property="og:image"/>
    <script type="text/javascript" src="../../Scripts/jquery-1.12.4.min.js"></script>
    <script type="text/javascript" src="../../Scripts/common.js?v=20240210170338"></script>
    <script type="text/javascript" src="../../Scripts/rt_common.js?v=20240210170338"></script>
    <script type="text/javascript" src="../../Scripts/bxslider.min.js"></script>
    <link rel="stylesheet" href="../../css/slick.css" />
    <link rel="stylesheet" href="../../css/jquery-ui.min.css" />
    <link rel="stylesheet" href="../../css/common.css?v=20240210170338" />
    <link rel="stylesheet" href="../../css/nice-select.css" />
    <script type="text/javascript" src="../../Scripts/slick.min.js"></script>
    <script type="text/javascript" src="../../Scripts/swiper.min.js"></script>

    <script type="text/javascript" src="../../Scripts/jquery-table2excel.js"></script>
    <script type="text/javascript" src="../../Scripts/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../Scripts/jquery.nice-select.js"></script>


    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="1071005738639-mhis81kc12lfh81nc22porjr67l6gaeb.apps.googleusercontent.com" />
    <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>

    <script type="text/javascript" src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.0.js" charset="utf-8"></script>


    <!-- Google 및 Naver 에서 사이트 검색이 가능하도록 메타테그 추가 -->

    <meta name="naver-site-verification" content="20d8959e3624b4dbd596cefbad4aac6c0986c7f0" />
    <meta name="google-site-verification" content="LTFzwqYtRSCzSq9ws0o9v5ZGhlw5L9AYm6z9AayCE0c" />
    <meta name="google-site-verification" content="3mIJUIZ0S0PlNihsXzqR5W3aCVtc4TQvJVFfbILJ_MM" />


    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
    <script type="text/javascript" src="../../Scripts/AES128/AES128.js"></script>



    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-S6K9SKM8QZ"></script>
    <script> window.dataLayer = window.dataLayer || []; function gtag() { dataLayer.push(arguments); } gtag('js', new Date()); gtag('config', 'G-S6K9SKM8QZ'); </script>

    <!--20210623, 구글 태그매니저 -->

    <script>
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
            'isApp': 'N',                      // N 또는 Y
            'isLogin': 'N',                               // N
        });
    </script>

    <!--20210618, 구글 태그매니저 -->
    <!-- Google Tag Manager -->
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
            var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-N6P8JNP');
    </script>
    <!-- End Google Tag Manager -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="keywords" content="다담몰 다담식자재 다담식자재마트 다담 식자재 업소용식자재 대용량식자재 식자재도매" />
    <meta name="description" content="필수 식자재 매일 특가중. 신선식품부터 공산품까지 one-stop 식자재 쇼핑. 배송은 빠르게 결제는 간편하게. 식자재는 다담몰" />


    <meta property="og:title" content="다담몰 : 언제,어디서나 모든 식자재" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="언제,어디서나 간편한 식자재 쇼핑 ! One-Stop 식자재 다담몰!" />
    <meta property="og:url" content="www.dadammall.co.kr" />

    <!-- BORAWARE LOG SCRIPT. -->
    <script type="text/javascript">
        var protect_id = 'b136';
    </script>
    <script type="text/javascript" src="//script.boraware.kr/protect_script.js"></script>
    <!-- END OF BORAWARE LOG SCRIPT -->

    <!-- 이니시스 표준결제 js -->
    <!--f
        
    연동시 유의 사항!!
        
    1) 테스트 URL(stgstdpay.inicis.com) - 샘플에 제공된 테스트 MID 전용으로 실제 가맹점 MID 사용 시 에러가 발생 할 수 있습니다.
    3) 상용 URL(stdpay.inicis.com) - 실제 가맹점 MID 로 테스트 및 오픈 시 해당 URL 변경하여 사용합니다.
    3) 가맹점의 URL이 http:// 인경우 js URL도 https://stgstdpay.inicis.com/stdjs/INIStdPay.js 로 변경합니다.	
    4) 가맹점에서 사용하는 케릭터셋이 EUC-KR 일 경우 charset="UTF-8"로 UTF-8 일 경우 charset="UTF-8"로 설정합니다.
      	
    -->

    <!-- 상용 JS(가맹점 MID 변경 시 주석 해제, 테스트용 JS 주석 처리 필수!) -->

    <script language="javascript" type="text/javascript" src="https://stdpay.inicis.com/stdjs/INIStdPay.js" charset="UTF-8"></script>

    <!-- 테스트 JS(샘플에 제공된 테스트 MID 전용) -->

    <!--추가할 부분1208-->
    <script type="text/javascript">
        !function (q, g, r, a, p, h, js) {
            if (q.qg) return;
            js = q.qg = function () {
                js.callmethod ? js.callmethod.call(js, arguments) : js.queue.push(arguments);
            };
            js.queue = [];
            p = g.createElement(r); p.async = !0; p.src = a; h = g.getElementsByTagName(r)[0];
            h.parentNode.insertBefore(p, h);
        }(window, document, 'script', 'https://cdn.qgr.ph/qgraph.4990ddda9fee14cb266e.js');
    </script>
    <!--추가할 부분1208-->

    <!--에어브릿지 SDK 추가 20221017-->
    <script>
        (function (a_, i_, r_, _b, _r, _i, _d, _g, _e) { if (!a_[_b]) { var d = { queue: [] }; _r.concat(_i).forEach(function (a) { var i_ = a.split("."), a_ = i_.pop(); i_.reduce(function (a, i_) { return a[i_] = a[i_] || {} }, d)[a_] = function () { d.queue.push([a, arguments]) } }); a_[_b] = d; a_ = i_.getElementsByTagName(r_)[0]; i_ = i_.createElement(r_); i_.onerror = function () { d.queue.filter(function (a) { return 0 <= _i.indexOf(a[0]) }).forEach(function (a) { a = a[1]; a = a[a.length - 1]; "function" === typeof a && a("error occur when load airbridge") }) }; i_.async = 1; i_.src = "//static.airbridge.io/sdk/latest/airbridge.min.js"; a_.parentNode.insertBefore(i_, a_) } })(window, document, "script", "airbridge", "init fetchResource setBanner setDownload setDownloads openDeeplink setDeeplinks sendWeb setUserAgent setUserAlias addUserAlias setMobileAppData setUserId setUserEmail setUserPhone setUserAttributes clearUser setDeviceIFV setDeviceIFA setDeviceGAID events.send events.signIn events.signUp events.signOut events.purchased events.addedToCart events.productDetailsViewEvent events.homeViewEvent events.productListViewEvent events.searchResultViewEvent".split(" "), ["events.wait"]);

        airbridge.init({
            app: 'dadammall',
            webToken: '0699330056c04cbeb7791c952d295055',
            utmParsing: true
        });
    </script>
    <!--에어브릿지 SDK 추가 20221017-->

    <style>
        a {
            cursor: pointer;
        }

        #loaderMask {
            position:fixed;
            z-index: 998;
            width: 100%;
            height: 100%;
            top:0;
            left:0;
            display:none;
            background: rgba(0,0,0,0.3);
        }

        .swiper-wrapper, .swiper-slide {
            width:auto !important;
            /*padding-right:1em;*/
        }
        #customCategory .swiper-slide {
            display: inline-block;
            padding: 0 23px;
        }
        #customCategory .swiper-slide a {
            font-size: 16px;
            color: #333;
            display: block;
            width: 100%;
            font-family: "Lato",'Noto Sans KR','Nanum Gothic',Malgun Gothic,"맑은 고딕",AppleGothic,Dotum,"돋움",sans-serif;
        }


        #loader {
            position: fixed;
            left: 44px;
            left: -webkit-calc(100%/2 - 50px);
            left: -moz-calc(100%/2 - 50px);
            left: calc(100%/2 - 50px);
            top: 45px;
            top: -webkit-calc(100%/2 - 80px);
            top: -moz-calc(100%/2 - 80px);
            top: calc(100%/2 - 80px);
            z-index: 999;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: radial-gradient(farthest-side, #fc6011 94%, #0000) top/9px 9px no-repeat,
            conic-gradient(#0000 30%, #fc6011);
            -webkit-mask: radial-gradient(farthest-side, #0000 calc(100% - 9px), #000 0);
            animation: spinner-c7wet2 1s infinite linear;
        }

        @keyframes spinner-c7wet2 {
            100% {
                transform: rotate(1turn);
            }
        }

        /*
        #loader {
            position: fixed;
            left: 44px;
            left: -webkit-calc(100%/2 - 50px);
            left: -moz-calc(100%/2 - 50px);
            left: calc(100%/2 - 50px);
            top: 45px;
            top: -webkit-calc(100%/2 - 80px);
            top: -moz-calc(100%/2 - 80px);
            top: calc(100%/2 - 80px);
            z-index: 999;
            width: 100px;
            height: 100px;
            background: url("../../images/etc/loading_bar.gif");
        }
            #popupCode_layer_122_form {background: ;}
            #popupCode_layer_122_form .box .view {width:400px; height:456px; overflow: hidden;}
        */
        #popupCode_layer_form .check {
            background-color: #000000;
            color: #ffffff;
            text-align: right;
        }

        #popupCode_layer_form .check .form_element .check_s {
            background-color: #000000;
        }

        .sys_pop {
            position: absolute;
            padding: 0;
            background: #fff;
            z-index: 150;
        }

        .sys_pop .box .check {
            padding: 5px 10px 5px 0;
            text-align: right;
            height: 20px;
        }

        .sys_pop .box .close {
            display: block;
            position: absolute;
            top: 6px;
            right: 6px;
            width: 18px;
            height: 18px;
            text-indent: -9999px;
            background: url(../../../images/btn/btn_layerClose_type02.png) no-repeat left top;
        }

        .ui-menu {
            z-index: 9999999;
            overflow: auto;
            background-color: rgb(255, 255, 255);
            border-radius: 21px;
            box-shadow: rgb(0 0 0 / 16%) 0px 2px 25px 0px;
            padding: 20px 0px;
            background: rgb(249, 250, 251);
            display: block;
            position: absolute;
            left: 0px;
            right: 0px;
            top: -18px !important;
            width: 280px !important;
        }

        .ui-menu li {
            padding: 10px 30px;
        }

        .ui-menu li:hover, .ui-menu li ui-state-active {
            background-color: rgb(238, 238, 238) !important;
        }

        .highlight {
            background-color: rgb(238, 238, 238) !important;
        }

        .ui-state-active {
            background-color: rgb(238, 238, 238) !important;
            font-weight: bold !important;
            color: black !important;
        ;
            border: none !important;
        }

        .ui-state-hover, .ui-widget-content .ui-state-hover,
        .ui-widget-header .ui-state-hover, .ui-state-focus,
        .ui-widget-content .ui-state-focus, .ui-widget-header .ui-state-focus {
            background-color: rgb(238, 238, 238) !important;
        }

        #forAuto {
            left: 225px;
            top: 145px;
        }

        #forAuto.fixed {
            left: 190px;
            top: 98px;
        }

        .clickCate {
            color : #fc6011 !important;
        }


        .top_search_num li:first-child {
            margin-top : 0;
            padding :  0 0 0 0 ;

        }
        .top_search_num li {
            position : relative;
            margin : 4px 0 0 0;
            padding : 0 0 0 0 ;

        }

        .top_search_num li {

            transition : transform 0.5s ease 0s;

        }

        .top_search_num li.move {

            transform : translateY(-52px);
        }

        .top_search_num .tit {

            display : inline-block
        }


        .row_wrap:hover {
            cursor : pointer;

        }

        .move_realtime_term {
            text-overflow : ellipsis;
            max-width:120px;
            overflow: hidden;
            vertical-align : bottom;
            line-height : 48px;
        }
        .move_realtime_term:hover {
            cursor:pointer;
        }
        .realtime_search_wrap {
            font-family : "Lato",'Noto Sans KR','Nanum Gothic',Malgun Gothic,"맑은 고딕",AppleGothic,Dotum,"돋움",sans-serif;

        }

        .csCenter table td {

            font-family : "Lato",'Nanum Gothic','Noto Sans KR',Malgun Gothic,"맑은 고딕",AppleGothic,Dotum,"돋움",sans-serif !important;
        }

        #itemDeliveryWrap {
            border-radius: 75px;
            border: 1px solid #e5e5e5;
            /*padding: 3px 7px;*/
            position: relative;
            display: inline-block;
            padding: 6px 20px 6px 10px;
            background: no-repeat url(../../images/btn/btn_next.png) right 5px center;
        }

        #deliveryMtd {
            /*color: #fc6011;*/
            font-weight: bold;
            padding: 2px 10px 0 20px;
            border: none;
            float: left;
            background: url('../../images/icon/icon_location_gray.png') no-repeat left 2px center;
            height: 12px;
            /*background-size: 7px 4px;*/
        }
        #deliveryMtd.selected {filter: invert(45%) sepia(39%) saturate(4885%) hue-rotate(354deg) brightness(103%) contrast(98%);}

        #deliveryAddr {
            display: block;
            float: right;
            padding: 2px 0 0 0;
            white-space: nowrap;
            overflow: hidden;
            font-size: 12px;
            line-height: 12px;
            max-width: 250px;
            text-overflow: ellipsis;
        }
    </style>

    <script type="text/javascript">
        var ttttt = "";
        //전역변수
        var globalStrCode = "";
        var vCategoryDate = "";
        var vMenuDate = "";
        var vMainDate = "";
        var orderUseYn = "Y";
        var defaultNavCnt = 10; //페이징으로 출력되는 하단 항목의 갯수 [1][2]...[10]
        var defaultRowCnt = 10; //리스트에 출력되는 로우의 갯수
        var g_layerPopupHtml = '';
        //중분류 카테고리 정보를 가지고 있는 2차 배열
        var midArr = [];
        //소분류 카테고리 정보를 가지고 있는 2차 배열
        var smlArr = [];
        var g_originalProduct = ''; // 장바구니로 선택한 상품이 본상품인지 옵션상품인지 구분

        //기존 쿠키 삭제
        setCookie("cookieBasket", "", -1);

        //기본은 송정점
        globalStrCode = "20001";

        $(document).on("keyup", "input:text[numberOnly]", function () { $(this).val($(this).val().replace(/[^0-9]/gi, "")); });
        $(document).on("keyup", "input:text[engOnly]", function () { $(this).val($(this).val().replace(/[^\a-zA-Z0-9]+$/gi, "")); });
        $(document).on("keyup", "input:text[commaOnly]", function () {
            var str = uncomma($(this).val());
            str = comma(str);
            $(this).val(str);
        });

        //<!CDATA
        $(function () {
            $("#txtSearch").autocomplete({
                source: function (request, response) {
                    var json = {
                        KEYWORD: request.term
                    }
                    var result;
                    var keyword = request.term

                    //         //20220609 유태희 엘라스틱 서치 추가
                    //        $.ajax({
                    //            type: "POST",
                    //            url: 'http://localhost:9200/dadamproduct/_search?q='+keyword+'&from=0&size=10',
                    //            data: '{}',
                    //            contentType: "application/json; charset=utf-8",
                    //            async: false,
                    //            dataType: "json",
                    //            success: function (data) {
                    //                //서버에서 json 데이터 response 후 목록에 추가
                    //                console.log(data)
                    //                dataList = data.hits.hits

                    //                response(
                    //                    $.map(dataList, function (item, key) {    //json[i] 번째 에 있는게 item 임.
                    //                        return {
                    //                            label: item._source.item_name,    //UI 에서 보여지는 글자, 실제 검색어랑 비교 대상
                    //                            value: item._source.item_name//그냥 사용자 설정값?
                    //                        }
                    //                    })
                    //                );

                    //            },
                    //            failure: function (response) {
                    //            },
                    //            error: function (response) {
                    //                console.log("error")
                    //            }
                    //        });


                    $.ajax({
                        type: 'post',
                        url: '/View/Main/Main.aspx/SearchElasticSearch',
                        dataType: "json",
                        contentType: "application/json; charset=utf-8",
                        data: "{ keyword : '" + keyword + "' , strSize : '10'}",
                        success: function (data) {
                            //서버에서 json 데이터 response 후 목록에 추가
                            var rtnJson = JSON.parse(data.d)

                            var dataList = rtnJson.hits.hits

                            response(
                                $.map(dataList, function (item, key) {    //json[i] 번째 에 있는게 item 임.
                                    // 20220913 유태희 엘라스틱서치 점수 필터링 주석 처리 
                                    //if (item._score <= 5) {
                                    //    return
                                    //}
                                    return {
                                        label: item._source.item_name,    //UI 에서 보여지는 글자, 실제 검색어랑 비교 대상
                                        value: item._source.item_name//그냥 사용자 설정값?
                                    }
                                })
                            );
                        }

                    });
                },
                open: function (event, ui) {
                },
                select: function (event, ui) {
                    //location.href = encodeURI(encodeURIComponent('../Product/Products?menu=S&search=' + ui.item.value));
                    //location.href = '../Product/Products?menu=S&search=' + escape(ui.item.value)//decodeURI(decodeURIComponent(ui.item.value));
                    //location.href = '../Product/Products?menu=S&search=' + (ui.item.value.replace(/\+/gi, "%2B").replace(/ /gi, "+").replace(/\&/gi, "%26"));
                    //20220613 실시간 검색어 유태희
                    var searchText = (ui.item.value.replace(/\+/gi, "%2B").replace(/ /gi, "+").replace(/\&/gi, "%26"))
                    productSearch(searchText)


                },
                focus: function (event, ui) {    //포커스 가면
                    //$("li.ui-menu-item").addClass("highlight")
                    return false;//한글 에러 잡기용도로 사용됨
                },
                minLength: 1,// 최소 글자수
                autoFocus: false, //첫번째 항목 자동 포커스 기본값 false
                classes: {    //잘 모르겠음

                },
                delay: 150,    //검색창에 글자 써지고 나서 autocomplete 창 뜰 때 까지 딜레이 시간(ms)
                position: { my: "right top", at: "right bottom" },    //잘 모르겠음
                close: function (event, ui) {    //자동완성창 닫아질때 호출
                },
                appendTo: $("#forAuto")
            }).autocomplete("instance")._renderItem = function (ul, item) {
                var searchText = $("#txtSearch").val();
                var resultTerm = item.value;
                var appendHtml = "";

                if (resultTerm.indexOf(searchText) != -1) {
                    var itemName = resultTerm.split(searchText);
                    appendHtml = itemName[0];
                    for (var i = 1; i < itemName.length; i++) {
                        appendHtml += '<em style="color:#fc6011">' + searchText + '</em>' + itemName[i];
                    }
                } else {
                    appendHtml = resultTerm;
                }
                return $("<li>")
                    .append("<span>" + appendHtml + "</span>")
                    .appendTo(ul);
            };
        });
        //]]>

        function fn_searchTextGo() {
            var searchText = $("#txtSearch").val();
            searchText = (searchText.replace(/\+/gi, "%2B").replace(/ /gi, "+").replace(/\&/gi, "%26"));
            productSearch(searchText);
        }

        $(document).ready(function () {

            console.log('STR_CODE : ,DELIVERY_CODE : ');
            //20220722 실시간 검색어 추가 유태희 
            $.ajax({
                type: "POST",
                url: '/View/Common/Common.aspx/GetSearchTextRank',
                data: '{}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    var result = $.parseJSON(response.d);
                    var appendHtml = ''
                    var searchText = ''
                    var updateTime = ''
                    var searchNumHtml = ''
                    updateTime = result[0].CREATE_DATE + " 기준"
                    $(".realtime_search_wrap .time").text(updateTime)
                    for (var i = 0; i < result.length; i++) {
                        object = result[i]
                        searchText = object.SEARCH_TEXT

                        appendHtml += '<div class="row_wrap" data-number="' + (i + 1) + '" data-text="' + searchText + '"><span class="num">' + (i + 1) + '.</span><span class="tit">' + searchText + '</span></div>'

                        if (i == 0 || i == 1) { // 처음 상단에 보이는 순위 
                            searchNumHtml += '<li><span class="num">' + (i + 1) + '.</span><div class="move_realtime_term" data-text="' + searchText + '">' + searchText + '</div></li>'
                        }


                        if (i == 9) {
                            $(".realtime_search_wrap .half_w_left").append(appendHtml)
                            appendHtml = ''

                        } else if (i == 19) {
                            $(".realtime_search_wrap .half_w_right").append(appendHtml)
                            appendHtml = ''
                        }


                    }
                    $(".top_search_num ul").html(searchNumHtml)



                },
                failure: function (response) {
                    messageShow(response);
                },
                error: function (response) {
                    messageShow(response);
                }
            });


            var changeSearchTerm = setInterval(function () {

                $(".top_search_num li:eq(0)").addClass("move")

                $(".top_search_num li:eq(1)").addClass("move")

                var nowNumber = parseInt($(".top_search_num li:eq(1) .num").text().replace('.', ''))

                var postNumber = ''
                var firstTerm = $(".realtime_search_box  div[data-number=" + nowNumber + "] .tit").text()
                postNumber = nowNumber + 1
                if (nowNumber == 20) {
                    postNumber = 1
                }
                var secodeTerm = $(".realtime_search_box  div[data-number=" + postNumber + "] .tit").text()


                var deleteSearchTerm = setTimeout(function () {
                    var appendHtml = ''
                    appendHtml += '<li><span class="num">' + nowNumber + '.</span><div class="move_realtime_term" data-text="' + firstTerm + '">' + firstTerm + '</div></li>'
                        + '<li><span class="num">' + postNumber + '.</span><div class="move_realtime_term" data-text="' + secodeTerm + '">' + secodeTerm + '</div></li>'

                    $(".top_search_num ul").html(appendHtml)


                }, 3000)




            }, 5000)

            // 실시간 검색어 클릭 시 검색 기능 
            $(".realtime_search_box .row_wrap  , .realtime_search_wrap .move_realtime_term").on("click", function () {
                var text = $(this).data("text")
                productSearch(text)
            })

            var navTop = $(window).height() - 350

            $(".side_nav").show().css({ top: navTop + "px" });

            $("#txtSearch").focus(function () {
                if ($(this).val() == "") {

                }
                else {
                    $(this).autocomplete("search");
                }
            });

            var pathUrl = window.location.pathname
            var paramUrl = window.location.search;



            //$("#loader").css("left", (window.innerWidth / 2 - $("#loader").width() / 2) + "px");
            //$("#loader").css("top", (window.innerHeight / 2 - $("#loader").height() / 2) - 30 + "px");

            var UserAgent = navigator.userAgent;
            /* 모바일 접근 체크*/
            // 모바일일 경우 (변동사항 있을경우 추가 필요)
            if (UserAgent.match(/dadam|iPhone|iPod|Android|Windows CE|BlackBerry|Symbian|Windows Phone|webOS|Opera Mini|Opera Mobi|POLARIS|IEMobile|lgtelecom|nokia|SonyEricsson/i) != null || UserAgent.match(/LG|SAMSUNG|Samsung/) != null) {
                location.href = "https://m.dadammall.co.kr" + location.pathname + location.search;
            }
            if (window.location.host == "dadammall.co.kr") {
                location.href = "https://www.dadammall.co.kr" + location.pathname + location.search;
            }
            //간편계정 연동 표시
            var apiFlag = "";

            if (apiFlag == '') {
                $('#apiIcon').hide();
            } else {
                $('#apiIcon').show();
                $('#apiIcon').empty();
                var iconHtml;
                if (apiFlag == 'G') {
                    iconHtml = '<img src="../../images/icon/google_icon.png" style="height:20px;position:absolute;top:10px;" />'
                } else if (apiFlag == 'K') {
                    iconHtml = '<img src="../../images/icon/kakao_icon.png" style="height:20px;position:absolute;top:10px;" />'
                } else if (apiFlag == 'N') {
                    iconHtml = '<img src="../../images/icon/naver_icon.png" style="height:20px;position:absolute;top:10px;" />'
                } else if (apiFlag == 'A') {
                    iconHtml = '<img src="../../images/icon/apple_icon.png" style="height:20px;position:absolute;top:10px;" />'
                }

                $(iconHtml).appendTo('#apiIcon');
            }

            //20220608 유태희 메뉴 설정 추가 
            $.ajax({
                type: "POST",
                url: '/View/Common/Common.aspx/GetMenuConfig',
                data: '{}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    var result = $.parseJSON(response.d);
                    var appendHtml = ''
                    $("#customCategory").children(".swiper-wrapper").empty();


                    for (var i = 0; i < result.length; i++) {
                        var menu = result[i]
                        var menuNo = menu.MENU_NO
                        var menuUrl = menu.MENU_URL
                        if (menuNo != '100001' && menuNo != '100002') {
                            var menuId = ''
                            if (menuNo == '100003') {
                                menuId = 'menuC'     // 특가상품
                            } else if (menuNo == '100004') {
                                menuId = 'menuN'     // 신제품 
                            } else if (menuNo == '100005') {
                                menuId = 'menuF'     // 신선제품
                            } else if (menuNo == '100007') { // 식자제 베스트
                                menuId = 'menuB'
                            } else if (menuNo == '100006') { // 자주 찾는 상품 
                                menuId = 'Favorite'
                            } else if (menuNo == '100008') { // 기획전 
                                menuId = 'Event'
                            } else { // 관리자가 만든 페이지 
                                menuId = menuNo
                                menuUrl += "?menu=" + menuNo + "&menutype=m"// m : 메뉴 , s : 메인 메뉴의 서브 메뉴 

                            }

                            appendHtml += '<div class="swiper-slide"> <a href="' + menuUrl + '" id="' + menuId + '">' + menu.MENU_NAME + '</a></div>'
                        }

                    }

                    $("#customCategory").children(".swiper-wrapper").append(appendHtml)

                },
                failure: function (response) {
                    messageShow(response);
                },
                error: function (response) {
                    messageShow(response);
                }
            });

            if (pathUrl == '/View/Product/Products') {

                var param = paramUrl.split('?')[1];


                if (param == 'menu=C') {
                    $("#menuC").addClass("clickCate")
                } else if (param == 'menu=N') {
                    $("#menuN").addClass("clickCate")
                } else if (param == 'menu=F') {
                    $("#menuF").addClass("clickCate")
                } else if (param == 'menu=B') {
                    $("#menuB").addClass("clickCate")
                }

            } else if (pathUrl == '/View/Product/Favorite') {

                $("#Favorite").addClass("clickCate")
            } else if (pathUrl == '/View/Product/Event') {

                $("#Event").addClass("clickCate")
            } else {
                menuNo = getUrlParam()["menu"]
                //$("#" + menuNo).css("color", '#fc6011')
                $("#" + menuNo).addClass("clickCate")
            }

        });

        //Page에 필요한 초기 정보를 가져옴
        getLoadInfo();
        function getLoadInfo() {//공통 정보 가져오기
            $.ajax({
                type: "POST",
                url: '/View/Common/Common.aspx/getLoadInfo',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    var responseArr = $.parseJSON(response.d);
                    var tbCategoryInLoad = responseArr.Table;
                    var tbPopup = responseArr.Table1;

                    //값이 있는 경우
                    if (tbCategoryInLoad.length > 0) {
                        var systemStopYn = tbCategoryInLoad[0].SYSTEM_STOP_YN;
                        var testID = getUrlParam()['testid'];
                        var sstestID = "";
                        orderUseYn = tbCategoryInLoad[0].ORDER_USE_YN;

                        //if (ttttt != "dadamtest") {
                        //    //if (testID != 'dtest') {
                        //    if (systemStopYn == "Y") {
                        //        //시스템 점검중이기 때문에 해당 페이지로 이동
                        //        location.href = "../../Default.htm";
                        //    }
                        //}
                        vCategoryDate = tbCategoryInLoad[0].CATEGORY_DATE;
                        vMenuDate = tbCategoryInLoad[0].MENU_DATE;          //메뉴 구성 변경 일자
                        vMainDate = tbCategoryInLoad[0].MAIN_DATE;          //메인 구성 변경 일자
                    }

                    if (tbPopup.length > 0) {
                        var nowUrl = window.location.pathname;
                        var searchUrl = window.location.search;

                        if (tbPopup != null && tbPopup != undefined) {
                            if (tbPopup.length > 0) {
                                for (var i = 0; i < tbPopup.length; i++) {
                                    if (tbPopup[i].PARENT_URL == nowUrl + searchUrl || tbPopup[i].PARENT_URL + ".aspx" == nowUrl + searchUrl) {
                                        if (!getCookie('popUpCookie' + tbPopup[i].POPUP_CODE)) {    //쿠키에 없을때만 팝업

                                            if (tbPopup[i].POPUP_TYPE == "M") {
                                                var scrollYn = "no";
                                                if (tbPopup[i].SCROLL_YN == "Y") scrollYn = "yes";
                                                var option = "width=" + tbPopup[i].SCALE_W + ", height=" + tbPopup[i].SCALE_H + ", left=" + tbPopup[i].POINT_X + ", top=" + tbPopup[i].POINT_Y + ", location=no, toolbar=no, menubar=no, scrollbars=" + scrollYn + ", resizable=no";
                                                //var option = "width=" + tbPopup[i].SCALE_W + ", height=" + tbPopup[i].SCALE_H + ", left=0, top=0, location=no, toolbar=no, menubar=no, scrollbars=" + scrollYn + ", resizable=no";
                                                window.open("../../View/Popup/Popup?popup=" + tbPopup[i].POPUP_CODE, i.toString(), option);
                                            } else if (tbPopup[i].POPUP_TYPE == "L") {

                                                var appendHtml = "";
                                                var contents = "";

                                                if (tbPopup[i].IMG_PATH == "") { //이미지 팝업이 없는 경우 텍스트 출력 (무조건 이미지 우선 -> 이미지, 텍스트 둘다 있음 이미지)
                                                    var text = replaceAll(tbPopup[i].CONTENTS, '\n', '<br>');
                                                    text = replaceAll(text, '\r\n', '<br>');
                                                    contents += '<p class="maincontSubTitle">' + text + '</p>';
                                                } else {

                                                    if (tbPopup[i].Link_URL == "") {
                                                        contents += '<img src="../..' + tbPopup[i].IMG_PATH + '" style="width:100%;height:100%;" />';
                                                    } else {
                                                        contents += '<a href = "' + tbPopup[i].Link_URL + '" >';
                                                        contents += '<img src="../..' + tbPopup[i].IMG_PATH + '" style="width:100%;height:100%;" />';
                                                        contents += '</a>';
                                                    }

                                                }

                                                appendHtml += //'<div class="layerPopWrap layerPopup' + i + '" tabindex="99" style="background-color:transparent;">' +
                                                    '<div id="popupCode_layer_form"   class="sys_pop layerPopup' + i + '"  style="width:' + tbPopup[i].SCALE_W + 'px;height:' + tbPopup[i].SCALE_H + 'px;position:absolute;left:' + (parseInt(tbPopup[i].POINT_X) + 0/*240*/) + 'px;top:' + tbPopup[i].POINT_Y + 'px;min-width:0px;" >' +
                                                    '  <div class="box">' +
                                                    '    <div class="view" style=width:' + tbPopup[i].SCALE_W + 'px;height:' + tbPopup[i].SCALE_H + 'px; overflow: hidden;" >' +
                                                    contents +
                                                    '  </div>' +
                                                    '<div class="check">' +
                                                    '   <span class="form_element">' +
                                                    '    <input type="checkbox" id="_' + tbPopup[i].POPUP_CODE + '" class="checkbox" onclick="addCookie(\'popUpCookie' + tbPopup[i].POPUP_CODE + '\', \'N\', 1);closePopup(\'layerPopup' + i + '\');"  /> ' +
                                                    '    <label for="_' + tbPopup[i].POPUP_CODE + '" class="check_s">24시간 동안 보지 않기</label>' +
                                                    '   </span>' +
                                                    '</div>' +
                                                    '   <button type="button" class="close" onclick="closePopup(\'layerPopup' + i + '\');" title="닫기">닫기</button>' +
                                                    '</div>' +
                                                    '</div>' +
                                                    '</div>';

                                                g_layerPopupHtml += appendHtml;
                                                /*
                                                appendHtml += '<div class="layerPopWrap layerPopup' + i + '" tabindex="99">' +
                                                    '<div class="layerPop"  style="width:' + tbPopup[i].SCALE_W + 'px;height:' + tbPopup[i].SCALE_H + 'px;position:relative;left:' + (parseInt(tbPopup[i].POINT_X) + 240) + 'px;top:' + tbPopup[i].POINT_Y + 'px;min-width:0px;">' +
                                                    '<p class="layerTitle">' + tbPopup[i].TITLE + '</p>' +
                                                    '<button type="button" class="layerClose type02" onclick="javascript:closePopup(\'layerPopup' + i + '\')">닫기</button>' +
                                                    '<div class="cartBox" style="padding-left:10px;padding-top:10px;">' +
                                                    contents +
                                                    '</div><div style="position:absolute;bottom:1px;right:1em;"><label><input type="checkbox" onclick="addCookie(\'popUpCookie' + tbPopup[i].POPUP_CODE + '\', \'N\', 1);closePopup(\'layerPopup' + i + '\');">24시간 동안 보지않기</input></label></div>' +
                                                    '</div>' +
                                                    '</div>';
                                                g_layerPopupHtml = appendHtml;
                                                //$("#allWrap").append(appendHtml);
                                                //아래에서 ready될때 사라짐
                                                //document.ready 안에서 append
                                                */
                                            }
                                        } else { }
                                    }
                                }
                            }
                        }
                    }
                },
                failure: function (response) {
                    console.log("다담몰 정보를 가져오지 못하였습니다.");
                },
                error: function (response) {
                    console.log("다담몰 정보를 가져오지 못하였습니다.");
                }
            });
        }

        $(document).ready(function () {
            var recentCookie = getCookie('latelyProduct');
            //공통으로 사용하는 정보를 가져옴
            initCategory();
            //상단 장바구니 정보 세팅
            initTopBasket();
            $('#allWrap').append(g_layerPopupHtml);
        });

        function closePopup(id) {
            $("." + id).css("display", "none");
        }

        //세션 체크
        function checkSession() {
            return "False";
        }

        //로그인 체크
        function checkLogin() {
            if (checkSession() == "False") {
                messageShowAndSendUrl("로그인을 먼저 해주세요!!", "../Login/Login");
                return false;
            }
            else {
                return true;
            }
        }

        function checkLoginOrder() {
            goOrderPage();
            if (checkSession() == "False") {
                messageShowAndSendUrl("로그인을 먼저 해주세요!!", "../Login/Login?NextPage=Order");
                return false;
            }
            else {
                return true;
            }
        }
        function goOrderPage(mode) {    //주문전 쿠키 수정
            $(".minicartView ul>li").each(function () {
                var scanCode = $(this).attr("data-scancode");
                var memo = $(this).attr("data-memo");
                var qty = $(this).find('.realcount').text();
                modTopBasket(scanCode, "Y", qty, memo);
            });
        }
        //로그아웃
        function Logout() {
            $.ajax({
                type: "POST",
                url: '/View/Login/Login.aspx/Logout',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    var result = response.d;
                    var qg_filter_subscription_push = result.substr(0, 1);
                    qg_filter_subscription_push = qg_filter_subscription_push == "Y" ? "true" : "false";
                    var login_status = "false";

                    var busi_flag = "";
                    var mbr_grade = "";
                    airbridgeLogout(busi_flag, mbr_grade);

                    airbridge.clearUser();
                    braze_log_out();
                    messageShowAndSendUrl("로그아웃 되었습니다.", "../../View/Main/Main");
                    setCookie("cookieBasket1", "", 365);
                    //delOrderMemoCookie();                    
                    return false;
                },
                failure: function (response) {
                    messageShow("로그아웃이 실패하였습니다.");
                    return false;
                },
                error: function (response) {
                    messageShow("로그아웃이 실패하였습니다.");
                    return false;
                }
            });
        }

        function airbridgeLogout(busi_flag, mbr_grade) {
            airbridge.events.send('airbridge.user.signout', {
                action: busi_flag,
                label: mbr_grade
            });
        }

        function initCategory() {
            //카테고리 정보 세팅
            var cookieCategory = getCookie("cookieCategory");
            var categoryArray = cookieCategory.split("※");
            var categoryDate = "190001010000"; //마지막에 업데이트 한 일자
            var categoryValue = "";            //카테고리 텍스트 정보
            if (cookieCategory.length > 0) {
                categoryDate = categoryArray[0];
                categoryValue = categoryArray[1];
            }

            //카테고리 업데이트 날짜를 이용해서 변경되었다면 다시 가져옴
            if (categoryDate <= vCategoryDate) {
                //현재 날짜시간 구하기
                var dtNow = new Date();
                var yearNow = String(dtNow.getFullYear());
                var monthNow = (dtNow.getMonth() + 1) < 10 ? ("0" + String(dtNow.getMonth() + 1)) : String(dtNow.getMonth() + 1);
                var dateNow = dtNow.getDate() < 10 ? ("0" + String(dtNow.getDate())) : String(dtNow.getDate());
                var hourNow = dtNow.getHours() < 10 ? ("0" + String(dtNow.getHours())) : String(dtNow.getHours());
                var minuteNow = dtNow.getMinutes() < 10 ? ("0" + String(dtNow.getMinutes())) : String(dtNow.getMinutes());
                vCategoryDate = yearNow + monthNow + dateNow + hourNow + minuteNow;

                //DB로부터 카테고리 정보 가져와서 쿠키에 담기 (∬ => ∫ => § => |)
                $.ajax({
                    type: "POST",
                    url: '/View/Common/Common.aspx/getCategoryInfo',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {
                        var responseArr = $.parseJSON(response.d);
                        var tbLrg = responseArr.Table;
                        var tbMid = responseArr.Table1;
                        var tbSml = responseArr.Table2;

                        categoryValue = "";
                        var lastJ = 0;
                        var lastK = 0;

                        for (var i = 0; i < tbLrg.length; i++) {
                            if (i > 0) categoryValue = categoryValue + "∬"; // 마지막 ∬ 붙임
                            categoryValue = categoryValue + tbLrg[i].LRG_CD + "∫" + tbLrg[i].LRG_NM + "∫" + tbLrg[i].IMG_PATH;

                            for (var j = lastJ; j < tbMid.length; j++) {
                                if (tbLrg[i].LRG_CD == tbMid[j].LRG_CD) {
                                    categoryValue = categoryValue + "∫" + tbMid[j].MID_CD + "§" + tbMid[j].MID_NM;
                                    lastJ = j + 1;

                                    for (var k = lastK; k < tbSml.length; k++) {
                                        if (tbMid[j].MID_CD == tbSml[k].MID_CD) {
                                            categoryValue = categoryValue + "§" + tbSml[k].SML_CD + "|" + tbSml[k].SML_NM;
                                            lastK = k + 1;
                                        }
                                    }
                                }
                            }
                        }
                        categoryValue = categoryValue.substr(0, categoryValue.length); //마지막 |를 제거
                        setCookie("cookieCategory", vCategoryDate + "※" + categoryValue, 365);
                    },
                    failure: function (response) {
                        console.log("상품 카테고리 정보를 가져오지 못하였습니다.");
                    },
                    error: function (response) {
                        console.log("상품 카테고리 정보를 가져오지 못하였습니다.");
                    }
                });
            }

            //화면에 그리기 (순서 : ∬ => ∫ => § => |)
            var cateArray = categoryValue.split("∬");
            midArr = [];
            smlArr = [];
            if (categoryValue != "" && cateArray.length > 0) {
                var appendHtml = '';
                $.each(cateArray, function (idx, val) {
                    var lrgCateArray = val.split("∫");
                    var lrgCd = lrgCateArray[0];
                    var lrgNm = lrgCateArray[1];
                    var lrgImg = '';
                    if (lrgCateArray[2] == "undefined" || lrgCateArray[2] == "" || lrgCateArray[2] == null)
                        lrgImg = '../images/icon/menu_icon' + (idx + 1) + '.png';
                    else
                        lrgImg = '../../Upload/Category/' + lrgCateArray[2];

                    $.each(lrgCateArray, function (lrgIdx, lrgVal) {
                        if (lrgIdx >= 3) {
                            var midCateArray = lrgCateArray[lrgIdx].split("§");
                            var midCd = midCateArray[0];
                            var midNm = midCateArray[1];
                            midArr.push([lrgCd, midCd, midNm]);

                            $.each(midCateArray, function (midIdx, midVal) {
                                if (midIdx >= 2) {
                                    var smlCateArray = midVal.split("|");
                                    var smlCd = smlCateArray[0];
                                    var smlNm = smlCateArray[1];
                                    smlArr.push([midCd, smlCd, smlNm]);
                                }
                            });
                        }
                    });

                    if (idx == 0) {
                        appendHtml = appendHtml + '<li class="menu_1dpeth on" data-lrg="' + lrgCd + '"><a href="#"><em class="icon" style="background: url(\'' + lrgImg + '\')no-repeat center;background-size: cover;"></em><span class="tit">' + lrgNm + '</span><em class="menu_arrow"></em></a></li>';
                        midCatSet(lrgCd);
                    }
                    else
                        appendHtml = appendHtml + '<li class="menu_1dpeth" data-lrg="' + lrgCd + '"><a href="#"><em class="icon" style="background: url(\'' + lrgImg + '\')no-repeat center;background-size: cover;"></em><span class="tit">' + lrgNm + '</span><em class="menu_arrow"></em></a></li>';
                });
                $(".menu_1depth_wrap").html("");
                $(".menu_1depth_wrap").append(appendHtml);
            }
        }

        $(document).on("mouseover", ".menu_1dpeth", function () {
            $(".menu_1dpeth").removeClass("on");
            $(this).addClass("on");

            var lrgCd = $(this).attr("data-lrg");
            midCatSet(lrgCd);
        });

        $(document).on("mouseover", ".menu_2depth", function () {
            $(".menu_2depth").removeClass("on");
            $(this).addClass("on");

            var midCd = $(this).attr("data-mid");
            smlCatSet(midCd);
        });

        function midCatSet(lrgCd) {
            var appendHtml = '';
            var isFirst = true;
            $.each(midArr, function (idx, val) {
                if (midArr[idx][0] == lrgCd) {
                    var midCd = midArr[idx][1];
                    var midNm = midArr[idx][2];

                    if (isFirst) {
                        appendHtml = appendHtml + '<li class="menu_2depth on" data-mid="' + midCd + '"><a href="#"><span class="tit">' + midNm + '</span><em class="menu_arrow"></em></a></li>';
                        smlCatSet(midCd);
                        isFirst = false;
                    }
                    else
                        appendHtml = appendHtml + '<li class="menu_2depth" data-mid="' + midCd + '"><a href="#"><span class="tit">' + midNm + '</span><em class="menu_arrow"></em></a></li>';
                }
            });
            if (appendHtml == "") {
                $(".menu_3depth_wrap").html("");
            }

            $(".menu_2depth_wrap").html("");
            $(".menu_2depth_wrap").append(appendHtml);
        }

        function smlCatSet(midCd) {
            var appendHtml = '';
            appendHtml = appendHtml + '<li class="menu_3depth"><a href="../../View/Product/Products?menu=A&smlcat=' + midCd + '00">전체보기</a></li>';
            $.each(smlArr, function (idx, val) {
                if (smlArr[idx][0] == midCd) {
                    var smlCd = smlArr[idx][1];
                    var smlNm = smlArr[idx][2];
                    appendHtml = appendHtml + '<li class="menu_3depth"><a href="../../View/Product/Products?menu=A&smlcat=' + smlCd + '">' + smlNm + '</a></li>';
                }
            });

            $(".menu_3depth_wrap").html("");
            $(".menu_3depth_wrap").append(appendHtml);
        }


        /*
        $('.menu_1dpeth').hover(function () {
            $(this).addClass("on").siblings().removeClass("on");
            var menu_num = $(this).index();

            $(".menu_2depth_wrap").eq(menu_num).addClass("on").siblings(".menu_2depth_wrap").removeClass("on");
            $(".menu_3depth_wrap").eq(menu_num).addClass("on").siblings(".menu_3depth_wrap").removeClass("on");

        }, function () { }); //1depth 호버시


        $('.menu_2depth').hover(function () {
            var menu_num2 = $(this).index();
            $(".menu_3depth_wrap").eq(menu_num2).addClass("on").siblings(".menu_3depth_wrap").removeClass("on");
        }, function () {

        }); //2depth 호버시

        $('.menu_2depth').hover(function () { $(this).addClass("on").siblings().removeClass("on"); }, function () { });
        */

        //상단장바구니 버튼 이벤트
        $(document).on("click", ".count .plus", function () {
            var nowvalue = $(this).parent().find(".realcount").text()
            var scanCode = $(this).parent().parent("li").attr("data-scancode");
            var price = $(this).parent().parent("li").attr("data-price");
            var limitCnt = $(this).parent().parent("li").attr("data-limitcnt"); //구매 제한 개수
            var stockqty = $(this).parent().parent("li").attr("data-stockqty"); //상품 재고 개수
            var memo = $(this).parent().parent("li").attr("data-memo");
            var parentCode = $(this).parent().parent("li").attr("data-parentcode");
            var totalQty = $(this).parent().parent("li").attr("data-totalqty");


            if (Number(nowvalue) >= Number(limitCnt)) {
                messageShow("구매 제한수량(" + limitCnt + ")을 초과할 수 없습니다.");
            }
            else if (Number(nowvalue) >= Number(stockqty)) {
                messageShow("현 상품의 재고 수량(" + stockqty + ")을 초과할 수 없습니다.<br/>주문 수량을 수정 부탁드립니다.");
            }
            else {
                nowvalue++;
                totalQty++;
                if (nowvalue == "1") {
                    $(this).parent().addClass("hide")
                } else {
                    $(this).parent().removeClass("hide")
                }
                //쿠키 값 변경

                modTopBasket(scanCode, "", nowvalue, memo, parentCode, totalQty);
            }
        });

        $(document).on("click", ".count .minus", function () {
            var nowvalue = $(this).parent().find(".realcount").text()
            var scanCode = $(this).parent().parent("li").attr("data-scancode");
            var memo = $(this).parent().parent("li").attr("data-memo");
            var price = $(this).parent().parent("li").attr("data-price");
            var parentCode = $(this).parent().parent("li").attr("data-parentcode");
            var totalQty = $(this).parent().parent("li").attr("data-totalqty");

            if (nowvalue > 1) {
                nowvalue--;
                totalQty--;
                if (nowvalue == "1") {
                    $(this).parent().addClass("hide")
                } else {
                    $(this).parent().removeClass("hide")
                }
                //쿠키 값 변경
                modTopBasket(scanCode, "", nowvalue, memo, parentCode, totalQty);
            }
        });

        $(document).on("click", ".del", function () {
            var scanCode = jQuery(this).parent("li").attr("data-scancode");
            var memo = jQuery(this).parent("li").attr("data-memo");
            var parentCode = $(this).parent("li").attr("data-parentcode")
            delTopBasket(String(scanCode), memo, parentCode)
            minicartSlideStae();

            if (scanCode == parentCode) {
                $(".minicartView li[data-parentcode='" + scanCode + "']").each(function () {
                    delTopBasket(String($(this).data("scancode")), "", scanCode)
                })

            }

        });

        $(document).on("keydown", "#txtSearch", function (event) {
            if (event.keyCode == 13) {
                var searchText = $('#txtSearch').val().replace(/\+/gi, "%2B").replace(/ /gi, "+").replace(/\&/gi, "%26")
                productSearch(searchText);
            }
        });
        // 20220613 유태희 실시간 검색어 추가 
        function productSearch(searchText) {
            //location.href = '../Product/Products?menu=S&search=' + escape($('#txtSearch').val());  

            $.ajax({
                type: "POST",
                url: '/View/Common/Common.aspx/InsertSearchText',
                data: '{SEARCH_TEXT : "' + searchText + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    var responseArr = $.parseJSON(response.d);

                    var rtnCode = responseArr[0].RTN_CODE
                    if (rtnCode == '0000') {
                        location.href = '../Product/Products?menu=S&search=' + encodeURI(searchText);

                    } else if (rtnCode = 'E999') {
                        messageShow("검색어 입력 중 오류가 발생했습니다..<br/>관리자에게 문의하세요.");

                    }


                },
                failure: function (response) {
                    console.log("상품 카테고리 정보를 가져오지 못하였습니다.");
                },
                error: function (response) {
                    console.log("상품 카테고리 정보를 가져오지 못하였습니다.");
                }
            });

        }
        /* getCookie("cookieBasket1")
         * 
         0: "2100000636662"
         1: "Y"
         2: "1"
         3: "34500"
         4: "9cm"
         * 
         */
        //초기에 상단의 장바구니 정보를 세팅 (쿠키 이용)
        function initTopBasket() {
            var cookieBasket = getCookie("cookieBasket1");
            var itemArray = cookieBasket.split("§");
            var itemBasket = "";


            //if (cookieBasket != "" && itemArray.length > 0) {
            //로그인을 안한 경우 쿠키 정보를 사용한다.
            if (checkSession() == "False") {
                //상품코드를 변수로 묶기
                $.each(itemArray, function (i, val) {
                    if (val == "") return true; //continue;
                    var objArray = val.split("|");
                    var parentCode = objArray[0];
                    var totalQty = objArray[2];
                    if (objArray.length > 5) {
                        var parentCode = objArray[5];
                        var totalQty = objArray[6];
                    }
                    if (totalQty == "undefined" || totalQty == "" || totalQty == null) totalQty = objArray[2]
                    if (parentCode == "undefined" || parentCode == "" || parentCode == null || typeof parentCode == "undefined") parentCode = objArray[0]
                    if (typeof totalQty == 'undefined' || totalQty < 0) {
                        totalQty = objArray[2]
                    }

                    var ordMemo = ""
                    ordMemo = objArray[4];
                    if (ordMemo == -1) ordMemo = "";
                    //if (totalQty == "undefined" || totalQty == "" || totalQty == null) totalQty = objArray[2]
                    //if (parentCode == "undefined" || parentCode == "" || parentCode == null) parentCode = objArray[0]


                    itemBasket = itemBasket + objArray[0] + "|" + ordMemo + "|" + objArray[2] + "|" + parentCode + "|" + totalQty + "$";
                })
                itemBasket = itemBasket.substr(0, itemBasket.length - 1); //마지막 문자는 제거

                if (itemBasket.length == 0) {
                    return false;
                }


            }

            //DB에서 상품 정보를 조회 (가격이 변경될 수 있어서 DB를 조회함)
            cookieBasket = "";

            $.ajax({
                type: "POST",
                url: '/View/Common/Common.aspx/getTopBasket',
                data: '{STR_CODE:"' + globalStrCode + '",ITEM_DATA:"' + itemBasket + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    var tbCartProduct = $.parseJSON(response.d);
                    if (tbCartProduct.length > 0) {
                        var totPrice = 0;
                        //상단 장바구니 리스트 초기화
                        $(".minicartView ul").html("");
                        for (var i = 0; i < tbCartProduct.length; i++) {
                            var vScanCode = tbCartProduct[i].SCAN_CODE;
                            var vCheckYN = "Y";
                            var vQty = tbCartProduct[i].SALE_QTY;
                            //Memo 확인	
                            var vMemo = tbCartProduct[i].MEMO;
                            var vParentCode = tbCartProduct[i].PARENT_SCAN_CODE;
                            if (vParentCode == '' || vParentCode == undefined) {
                                vParentCode = tbCartProduct[i].SCAN_CODE;
                            }
                            /*
                            if (vMemo == "" || vMemo == -1 || vMemo== undefined) {

                            } else {
                                scnCodeMap.set(scanCode, vMemo);
                            }
                            */
                            if (itemBasket.length == 0) {
                                //로그인이 되어 있다면, DB에서 가져온 장바구니 상품 개수를 세팅
                                vQty = tbCartProduct[i].SALE_QTY;
                                $.each(itemArray, function (i, val) {
                                    if (val == "") return true; //continue;
                                    var objArray = val.split("|");
                                    if (vScanCode == objArray[0] && vMemo == objArray[4] && vParentCode == objArray[5]) {
                                        vCheckYN = objArray[1];
                                        //vQty = objArray[2];
                                        return false;
                                    }
                                });
                            }
                            else {
                                //로그인이 안되어 있다면, 기본적으로 쿠키의 개수를 세팅 
                                //var objArray = itemArray[i].split("|");
                                //vCheckYN = objArray[1];
                                //vQty = objArray[2];


                            }


                            var optionHtml = ''
                            if (tbCartProduct[i].SCAN_CODE != tbCartProduct[i].PARENT_SCAN_CODE) {
                                optionHtml = 'class= "optionItem" title = "옵션상품"'
                            }

                            cookieBasket = cookieBasket + tbCartProduct[i].SCAN_CODE + "|" + vCheckYN + "|" + tbCartProduct[i].SALE_QTY + "|" + tbCartProduct[i].PRICE + "|" + vMemo + "|" + tbCartProduct[i].PARENT_SCAN_CODE + "|" + tbCartProduct[i].TOTAL_QTY + "§";
                            if (tbCartProduct[i].NEW_SALE_YN == 'Y') {
                                totPrice += Number(tbCartProduct[i].PRICE) + Number(tbCartProduct[i].BASE_SPRC * (Number(vQty) - 1));
                            } else {
                                totPrice += Number(vQty) * tbCartProduct[i].PRICE;
                            }

                            var appendHtml = '';
                            appendHtml = appendHtml + '<li ' + optionHtml + ' data-scancode="' + tbCartProduct[i].SCAN_CODE + '" data-price="' + tbCartProduct[i].PRICE + '" data-limitcnt="' + tbCartProduct[i].LIMIT_CNT + '" data-stockqty="' + tbCartProduct[i].CUR_INV_QTY + '" data-memo="' + tbCartProduct[i].MEMO + '" data-parentcode="' + tbCartProduct[i].PARENT_SCAN_CODE + '" data-totalqty="' + tbCartProduct[i].TOTAL_QTY + '">';
                            appendHtml = appendHtml + '<a href="../../View/Product/Detail?item=' + tbCartProduct[i].SCAN_CODE + '&bundle=N" tabindex="-1"><img src="../../Upload/Product/Icon/' + tbCartProduct[i].PRD_IMG_PATH + '" onerror="this.src=\'../../images/etc/noimage.jpg\'" style="width:60px;height:60px;" alt=""></a>';
                            appendHtml = appendHtml + '<button type="button" class="del">메뉴삭제</button>';
                            appendHtml = appendHtml + '<span class="count"><button  type="button" class="minus">-</button>';
                            appendHtml = appendHtml + '<span class="realcount">' + tbCartProduct[i].SALE_QTY + '</span>';
                            appendHtml = appendHtml + '<button  type="button" class="plus">+</button></span>';
                            appendHtml = appendHtml + '</li>';

                            $(".minicartView ul").append(appendHtml);
                        }

                        $(".totPrice").attr("data-totprice", totPrice);
                        $(".totPrice").text(comma(totPrice));
                        $(".totCnt").text(tbCartProduct.length);

                        minicartSlideStae();
                        cookieBasket = cookieBasket.substr(0, cookieBasket.length - 1); //마지막 문자는 제거
                        setCookie("cookieBasket1", cookieBasket, 365);


                    }
                },
                failure: function (response) {
                    console.log(response);
                },
                error: function (response) {
                    console.log(response);
                }
            });
            //}
        }

        $('#txtSearch').keydown(function (event) {
            if (event.keyCode == 13) {
                productSearch();
            }
        });

        function getAppAddCartPrdInfo(itemData) {
            var appScanCode = itemData.split("|")[0];
            var airBridgeQuantity = itemData.split("|")[1];

            $.ajax({
                type: "POST",
                url: '/View/Common/Common.aspx/getAppProductInfo',
                data: '{SCAN_CODE:"' + appScanCode + '", STR_CODE:"' + globalStrCode + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    var result = $.parseJSON(response.d);
                    var common = result.Table[0];
                    if (common.PRD_IMG_PATH && common.SCAN_CODE && common.BUNDLE_YN) {
                        var bun = common.BUNDLE_YN;
                        var category = common.CATEGORY;
                        var brand = common.BRAND_NAME ? common.BRAND_NAME : common.MANUFACTURE_NAME;
                        var product_id = common.SCAN_CODE;
                        var product_name = common.ITEM_NAME;
                        var product_image_url = 'https://www.dadammall.co.kr/Upload/Product/original/' + common.PRD_IMG_PATH;
                        var product_url = encodeURI('https://www.dadammall.co.kr/View/Product/Detail?item=' + product_id + '&' + 'bundle=' + bun);
                        var product_price = common.PRICE;
                        var airbridge_category = common.AIRBRIDGE_CATEGORY;

                        braze_add_to_cart(product_name); // braze 상품 장바구니 담을 경우
                        bluxCartAddEvent(product_id); // Blux
                        airBridgeAddToCart(airbridge_category, brand, product_id, product_name, product_price, airBridgeQuantity);
                        //AceCounter : 장바구니 담기 갯수 업데이트
                        AM_PRODUCT(airBridgeQuantity);
                    }
                },
                failure: function (response) {
                    messageShow(response);
                },
                error: function (response) {
                    messageShow(response);
                }
            });
        }

        // airBridge 장바구니에 상품 담고 전송
        function airBridgeAddToCart(airbridge_category, brand, product_id, product_name, product_price, airBridgeQuantity) {
            airbridge.events.send('airbridge.ecommerce.product.addedToCart', {
                action: airbridge_category,
                label: product_id,
                value: product_price,
                semanticAttributes: {
                    products: [
                        {
                            brand: brand,
                            name: product_name,
                            currency: 'KRW',
                            quantity: airBridgeQuantity,
                        }
                    ]
                }
            });
        }

        //상단 장바구니에 상품 추가
        //itemData : 상품코드, 개수
        //checkYN  : 장바구니 체크 여부
        //orderYN  : 주문하기 여부
        function addTopBasket(itemData, checkYN, orderYN) {
            var appendHtml = '';
            var isSearch = false;
            var isFailed = false;                           //중간에 실패한 경우 중지를 위해 만듬
            var totPrice = 0;                               //전체 금액
            var cookieBasket = getCookie("cookieBasket1");
            var cookieArray = cookieBasket.split("§");      //쿠키 값을 아이템 단위로 나눔
            var vItemData = "";                             //DB 업데이트를 위해 값을 저장해둠
            var uItemData = "";                             //나중에 수량을 업데이트하기 위해 추가

            getAppAddCartPrdInfo(itemData);

            //console.log(cookieOption)
            //setCookie("optionInfo", "",365)
            //return;

            /*
            //Memo 쿠키 조회
            var itemMemoCookie = getCookie("orderMemo").split(",");
            console.log(itemData);
            */

            //장바구니 쿠키에 상품들이 있을 경우 상품들을 가져옴
            if (cookieBasket != "" && cookieArray.length > 0) {
                cookieBasket = "";
                $.each(cookieArray, function (i, CookieVal) {
                    if (CookieVal == "") return true; //continue;

                    var vObjArray = CookieVal.split("|");

                    var vScanCode = vObjArray[0];
                    var vCheckYN = vObjArray[1];
                    var vQty = vObjArray[2];
                    var vPrice = vObjArray[3];
                    var vMemo = vObjArray[4];
                    if (vMemo == -1) vMemo = "";
                    var vTotalQty = vObjArray[2]; // 단일 상품이 본 상품으로, 서로 다른 상품의 옵션상품으로 들어갈 수 있기 때문에 수량과 총수량으로 구분해야됌.
                    var vParentCode = vObjArray[0]; // 옵 션상품의 본 상품, 본 상품의 경우우엔 공백 
                    if (vObjArray.length > 5) {
                        vTotalQty = vObjArray[6]; // 단일 상품이 본 상품으로, 서로 다른 상품의 옵션상품으로 들어갈 수 있기 때문에 수량과 총수량으로 구분해야됌.
                        vParentCode = vObjArray[5]; // 옵 션

                    }

                    var itemArray = itemData.split("$");            //선택된 상품들의 값을 아이템 단위로 나눔

                    if (itemData != "" && itemArray.length > 0) {
                        itemData = "";
                        $.each(itemArray, function (j, itemVal) {
                            if (itemVal == "") return true; //continue;
                            var objArray = itemVal.split("|");
                            var scanCode = objArray[0];
                            var qty = objArray[1];
                            var memo = objArray[2];
                            var parentCode = objArray[0];


                            if (objArray.length >= 4) {

                                parentCode = objArray[3]
                            }


                            if (vScanCode == scanCode && memo == vMemo) {
                                isSearch = true;
                                vCheckYN = checkYN;
                                // 본 상품이 아니라 옵션상품에 존재하는 값들도 확인할 수 있도록 변경 필요 
                                var limitCnt = $(".minicartView li[data-scancode=" + vScanCode + "]").attr("data-limitcnt"); //구매 제한 개수
                                var stockqty = $(".minicartView li[data-scancode=" + vScanCode + "]").attr("data-stockqty"); //상품 재고 개수

                                // 이미 이전 옵션상품으로 선택한 상품을 다시 본 상품으로 선택했을 때 체크하는 로직 필요, 그래야 추가하는 로직을 탈 수 있음

                                //주문하기일 경우는 기존의 개수는 초기화 시킴
                                if (orderYN == "Y")
                                    vQty = "0";

                                if (Number(vTotalQty) + Number(qty) > Number(limitCnt)) {
                                    messageShow("구매 제한수량(" + limitCnt + ")을 초과할 수 없습니다.");
                                    isFailed = true;
                                    return false;                           //실패한 경우 each문을 종료
                                    //qty = Number(limitCnt) - Number(vQty);
                                }
                                else if (Number(vTotalQty) + Number(qty) > Number(stockqty)) {
                                    messageShow("현 상품의 재고 수량(" + stockqty + ")을 초과할 수 없습니다.<br/>주문 수량을 수정 부탁드립니다.");
                                    isFailed = true;
                                    return false;                           //실패한 경우 each문을 종료
                                    //qty = Number(stockqty) - Number(vQty);
                                }

                                vQty = String(Number(vQty) + Number(qty));
                                vTotalQty = String(Number(vTotalQty) + Number(qty));
                                // 같을 경우 총개수도 업데이트 시 추가 해야야됌.
                                $(".minicartView li[data-scancode=" + vScanCode + "][data-memo='" + memo + "']").each(function () {
                                    $(this).attr("data-totalqty", vTotalQty)

                                })

                                if (parentCode == vParentCode) {

                                    CookieVal = vScanCode + "|" + vCheckYN + "|" + vQty + "|" + vPrice + "|" + vMemo + "|" + vParentCode + "|" + vTotalQty;                //쿠키 상품정보 변경
                                    uItemData = uItemData + vScanCode + "|" + vMemo + "|" + vQty + "|" + vParentCode + "$";                              //구매 제한, 상품 재고에 대한 체크가 완료가 되어 쿠키 및 DB 업데이트 되면 화면의 수량을 변경
                                    vItemData = vItemData + vScanCode + "|" + vMemo + "|" + vQty + "|" + vParentCode + "$";

                                } else {
                                    if (parentCode != '') { // 옵션상품일 경우 하나의 상품 서로 다른 상품의 옵션상품으로 들어갈 경우를 대비 vScanCode와 memo 가 같은 값이 여러개일 경우 중복이 발생할 수 있음 DB 에서 GROUP BY

                                        itemData = itemData + scanCode + "|" + qty + "|" + memo + "|" + parentCode + "|" + vTotalQty + "$";
                                    }
                                }

                            }
                            else {
                                itemData = itemData + scanCode + "|" + qty + "|" + memo + "|" + parentCode + "|" + qty + "$";
                            }
                        });
                        itemData = itemData.substr(0, itemData.length - 1); //마지막 문자는 제거                  
                    }
                    if (isFailed)
                        return false;                                       //실패한 경우 each문을 종료
                    totPrice += Number(vQty) * Number(vPrice);
                    cookieBasket = cookieBasket + CookieVal + "§";                                               //쿠키 값 변경
                });

                uItemData = uItemData.substr(0, uItemData.length - 1); //마지막 문자는 제거
            }
            // 이전에 있던 옵션상품의 상품을 본 상품으로 추가하면 장바구니에 본상품으로 추가하는 로직을 타지 않음


            if (isFailed)
                return false;                                               //실패한 경우 each문을 종료

            if (itemData.length > 0) {
                var itemBasket = "";
                var itemArray = itemData.split("$");            //선택된 상품들의 값을 아이템 단위로 나눔
                //상품코드를 변수로 묶기
                $.each(itemArray, function (i, val) {
                    var objArray = val.split("|");

                    var ordMemo = ""
                    var totalQty = objArray[1]
                    var parentCode = objArray[0]
                    ordMemo = objArray[2];
                    if (ordMemo == undefined || ordMemo == "" || ordMemo == null) ordMemo = "";

                    if (objArray.length = 4) {
                        parentCode = objArray[3]
                        if (parentCode == undefined || parentCode == "" || parentCode == null) {
                            parentCode = objArray[0]
                        }

                    } else if (objArray.length = 5) {
                        totalQty = objArray[4]
                        parentCode = objArray[3]
                    }



                    itemBasket = itemBasket + objArray[0] + "|" + ordMemo + "|" + objArray[1] + "|" + parentCode + "|" + totalQty + "$";

                })
                itemBasket = itemBasket.substr(0, itemBasket.length - 1); //마지막 문자는 제거



                if (itemBasket.length > 0) {
                    $.ajax({
                        type: "POST",
                        url: '/View/Common/Common.aspx/getTopBasket',
                        data: '{STR_CODE:"' + globalStrCode + '",ITEM_DATA:"' + itemBasket + '"}',
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: false,
                        success: function (response) {

                            var tbCartProduct = $.parseJSON(response.d);
                            if (tbCartProduct.length > 0) {
                                for (var i = 0; i < tbCartProduct.length; i++) {
                                    var objArray = itemArray[i].split("|");
                                    var qty = objArray[1];
                                    var limitCnt = tbCartProduct[i].LIMIT_CNT;
                                    var stockqty = tbCartProduct[i].CUR_INV_QTY;
                                    var memo = tbCartProduct[i].MEMO;

                                    if (Number(qty) > Number(limitCnt)) {
                                        messageShow("구매 제한수량(" + limitCnt + ")을 초과할 수 없습니다.");
                                        return false;
                                        //qty = limitCnt;
                                    }
                                    else if (Number(qty) > Number(stockqty)) {
                                        messageShow("현 상품의 재고 수량(" + stockqty + ")을 초과할 수 없습니다.<br/>주문 수량을 수정 부탁드립니다.");
                                        return false;
                                        //qty = stockqty;
                                    }

                                    var optionHtml = ''
                                    if (tbCartProduct[i].SCAN_CODE != tbCartProduct[i].PARENT_SCAN_CODE) {
                                        optionHtml = 'class= "optionItem" title = "옵션상품"'
                                    }

                                    appendHtml = appendHtml + '<li ' + optionHtml + ' data-scancode="' + tbCartProduct[i].SCAN_CODE + '" data-price="' + tbCartProduct[i].PRICE + '" data-limitcnt="' + tbCartProduct[i].LIMIT_CNT + '" data-stockqty="' + tbCartProduct[i].CUR_INV_QTY + '" data-memo="' + tbCartProduct[i].MEMO + '" data-parentcode ="' + tbCartProduct[i].PARENT_SCAN_CODE + '" data-totalqty="' + tbCartProduct[i].TOTAL_QTY + '">';
                                    appendHtml = appendHtml + '<a href="../../View/Product/Detail?item=' + tbCartProduct[i].SCAN_CODE + '&bundle=N" tabindex="-1"><img src="../../Upload/Product/Icon/' + tbCartProduct[i].PRD_IMG_PATH + '" onerror="this.src=\'../../images/etc/noimage.jpg\'" style="width:60px;height:60px;" alt=""></a>';
                                    appendHtml = appendHtml + '<button type="button" class="del">메뉴삭제</button>';
                                    appendHtml = appendHtml + '<span class="count"><button  type="button" class="minus">-</button>';
                                    appendHtml = appendHtml + '<span class="realcount">' + qty + '</span>';
                                    appendHtml = appendHtml + '<button  type="button" class="plus">+</button></span>';
                                    appendHtml = appendHtml + '</li>';

                                    cookieBasket = cookieBasket + tbCartProduct[i].SCAN_CODE + "|" + checkYN + "|" + qty + "|" + tbCartProduct[i].PRICE + "|" + memo + "|" + tbCartProduct[i].PARENT_SCAN_CODE + "|" + tbCartProduct[i].TOTAL_QTY + "§";
                                    if (tbCartProduct[i].NEW_SALE_YN == 'Y') {
                                        totPrice += Number(tbCartProduct[i].PRICE) + Number(tbCartProduct[i].BASE_SPRC * (Number(qty) - 1));
                                    } else {
                                        totPrice += Number(qty) * tbCartProduct[i].PRICE;
                                    }


                                    vItemData = vItemData + tbCartProduct[i].SCAN_CODE + "|" + memo + "|" + qty + "|" + tbCartProduct[i].PARENT_SCAN_CODE + "$";




                                }
                                $(".minicartView ul").append(appendHtml);

                                $(".totPrice").attr("data-totprice", totPrice);
                                $(".totPrice").text(comma(totPrice));
                                $(".totCnt").text($(".minicartView ul li").length);

                                changeTopBasketQty(uItemData);

                                minicartSlideStae();
                                //상단 장바구니에 상품 추가 시 가장 끝의 뷰로 이동시킴
                                var ableIdx = miniMaxIdx - minicart;   // minMaxidx -  장부가니 상품 중 가장큰 idx, minicart- 상단 장바구니 최대 상품 표시 개수
                                isclick = false;
                                while (true) {
                                    if (miniIdx < ableIdx) {
                                        $(".miniCart ul").animate({ "marginLeft": "-=60" }, 100, function () {
                                            //안에 넣으면 miniIdx가 ++가 안되어 무한루프돔
                                        })
                                        miniIdx++;
                                    } else {
                                        break;
                                    }
                                }

                                cookieBasket = cookieBasket.substr(0, cookieBasket.length - 1); //마지막 문자는 제거
                                setCookie("cookieBasket1", cookieBasket, 365);

                                if (checkSession() == "True") {
                                    vItemData = vItemData.substr(0, vItemData.length - 1); //마지막 문자는 제거
                                    var messageYN = orderYN == "Y" ? "N" : "Y";
                                    console.log('ㅇ라ㅓㄴ라ㅓ날')
                                    console.log(vItemData)
                                    addSetTopBasketDB(vItemData, messageYN);
                                }

                                jQuery(".pop1").css("display", "none");
                                if (orderYN == "Y") {
                                    if (checkSession() == "False") {
                                        $("#hdnReturnUrl").val("../../View/Order/Basket");
                                        location.href = "../../View/Login/Login?NextPage=Order";
                                    }
                                    else {
                                        location.href = "../../View/Order/Order_Member";
                                    }
                                }
                            }
                        },
                        failure: function (response) {
                            messageShow(response);
                        },
                        error: function (response) {
                            messageShow(response);
                        }
                    });
                }
            }
            else {
                $(".totPrice").attr("data-totprice", totPrice);
                $(".totPrice").text(comma(totPrice));
                $(".totCnt").text($(".minicartView ul li").length);

                changeTopBasketQty(uItemData);

                minicartSlideStae();
                cookieBasket = cookieBasket.substr(0, cookieBasket.length - 1); //마지막 문자는 제거
                setCookie("cookieBasket1", cookieBasket, 365);

                if (checkSession() == "True") {
                    vItemData = vItemData.substr(0, vItemData.length - 1); //마지막 문자는 제거
                    var messageYN = orderYN == "Y" ? "N" : "Y";
                    addSetTopBasketDB(vItemData, messageYN);
                }

                jQuery(".pop1").css("display", "none");
                if (orderYN == "Y") {
                    if (checkSession() == "False") {
                        $("#hdnReturnUrl").val("../../View/Order/Basket");
                        location.href = "../../View/Login/Login?NextPage=Order";
                    }
                    else {
                        location.href = "../../View/Order/Order_Member";
                    }
                }
            }
        }

        //상단 장바구니의 상품의 개수를 업데이트
        function changeTopBasketQty(itemData) {
            var itemArray = itemData.split("$");            //선택된 상품들의 값을 아이템 단위로 나눔
            if (itemData != "" && itemArray.length > 0) {
                $.each(itemArray, function (j, itemVal) {
                    if (itemVal == "") return true; //continue;
                    var objArray = itemVal.split("|");
                    var scanCode = objArray[0];
                    var qty = objArray[2];
                    var memo = objArray[1];
                    var parentCode = objArray[3];
                    $(".minicartView li[data-scancode=" + scanCode + "][data-memo='" + memo + "'][data-parentCode='" + parentCode + "'] span .realcount").text(qty); //화면에 상품의 개수 변경
                });

            }
        }

        function addSetTopBasketDB(itemData, messageYN) {

            $.ajax({
                type: "POST",
                url: '/View/Common/Common.aspx/setTopBasketMany',
                data: '{GUBUN : "I", ITEM_DATA : "' + itemData + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    var result = $.parseJSON(response.d);

                    if (result[0].RTN_CODE == "0000") {
                        if (messageYN == "Y") //주문 바로가기할 경우는 메시지가 나오면 안됨
                            messageShow("장바구니에 등록되었습니다.");
                    } else if (result[0].RTN_CODE == "E999") {
                        if (messageYN == "Y") //주문 바로가기할 경우는 메시지가 나오면 안됨
                            messageShow(result[0].RTN_MSG);
                    } else if (result[0].RTN_CODE == "E101") {
                        if (messageYN == "Y") //주문 바로가기할 경우는 메시지가 나오면 안됨
                            messageShow("재고가 부족합니다.<br/>관리자에게 문의하세요.");
                    } else if (result[0].RTN_CODE == "E102") {
                        if (messageYN == "Y") //주문 바로가기할 경우는 메시지가 나오면 안됨
                            messageShow("제한개수가 초과하였습니다.<br/>관리자에게 문의하세요.");
                    }
                },
                failure: function (response) {
                    messageShow(response);
                },
                error: function (response) {
                    messageShow(response);
                }
            });
        }

        function modTopBasketAll(checkYN) {
            var cookieBasket = getCookie("cookieBasket1");
            var itemArray = cookieBasket.split("§");

            if (cookieBasket != "" && itemArray.length > 0) {
                cookieBasket = "";
                $.each(itemArray, function (i, val) {
                    if (val == "") return true; //continue;
                    var objArray = val.split("|");
                    var vScanCode = objArray[0];
                    var vCheckYN = objArray[1];
                    var vQty = objArray[2];
                    var vPrice = objArray[3];
                    var vMemo = objArray[4]
                    var vParentScanCode = objArray[0];
                    var vTotalQty = objArray[2];
                    vCheckYN = checkYN == "" ? vCheckYN : checkYN;
                    val = vScanCode + "|" + vCheckYN + "|" + vQty + "|" + vPrice + "|" + vMemo + "|" + vParentScanCode + "|" + vTotalQty;     //상품정보 변경
                    cookieBasket = cookieBasket + val + "§";                          //쿠키 값 변경
                });
                cookieBasket = cookieBasket.substr(0, cookieBasket.length - 1); //마지막 문자는 제거
                setCookie("cookieBasket1", cookieBasket, 365);
            }
        }

        //개수만 변경 시 데이터 변경이 계속 발생할 우려를 대비하여 timer를 주고 한번만 변경 되도록 함
        var prevScanCode = "";
        var preParentCode = "";
        var prevQty = 0;
        var PrevCnt = 0;
        //var testQty = [];
        function modTopBasket(scanCode, checkYN, qty, memo, parentCode, totalQty) {
            var cookieBasket = getCookie("cookieBasket1");
            var itemArray = cookieBasket.split("§");
            var totPrice = 0;

            if (cookieBasket != "" && itemArray.length > 0) {
                cookieBasket = "";
                $.each(itemArray, function (i, val) {
                    if (val == "") return true; //continue;
                    var objArray = val.split("|");
                    var vScanCode = objArray[0];
                    var vCheckYN = objArray[1];
                    var vQty = objArray[2];
                    var vPrice = objArray[3];
                    var vMemo = objArray[4];
                    var vParentCode = objArray[0];

                    if (objArray.length > 5) {
                        vParentCode = objArray[5];
                    }

                    if (vScanCode == scanCode && memo == vMemo) {
                        val = vScanCode + "|" + vCheckYN + "|" + vQty + "|" + vPrice + "|" + memo + "|" + parentCode + "|" + totalQty;     // 같은 scan_code 상품들의 총 수량 변경 

                    }


                    if (vScanCode == scanCode && memo == vMemo && parentCode == vParentCode) {
                        vCheckYN = checkYN == "" ? vCheckYN : checkYN;
                        vQty = qty == "" ? vQty : qty;
                        val = vScanCode + "|" + vCheckYN + "|" + vQty + "|" + vPrice + "|" + memo + "|" + parentCode + "|" + totalQty;     //상품정보 변경

                        $(".minicartView li[data-scancode=" + vScanCode + "][data-memo='" + memo + "'][data-parentcode='" + vParentCode + "']  span .realcount").text(vQty); //화면에 상품의 개수 변경

                        //  동일한 SCAN_CODE 를 갖는 상품들의 총 수량도 깍아줘야함.
                        $(".minicartView li[data-scancode=" + vScanCode + "][data-memo='" + memo + "']").each(function () {
                            $(this).attr("data-totalqty", totalQty)

                        })

                        if (vQty > 1) {
                            $(".minicartView li[data-scancode=" + vScanCode + "][data-memo='" + memo + "'] .count").removeClass("hide");
                        } else {
                            $(".minicartView li[data-scancode=" + vScanCode + "][data-memo='" + memo + "'] .count").addClass("hide");
                        }

                        //로그인이 되어 있다면 DB에도 반영을 함
                        if (checkSession() == "True") {

                            if (qty != "") {
                                if ((prevScanCode == "" || prevScanCode == scanCode) && (preParentCode == "" || preParentCode == parentCode)) {
                                    PrevCnt++;
                                    setTimeout("modSetTimeout('" + scanCode + "', '" + vQty + "', '" + memo + "','" + parentCode + "')", 500);    //0.5초 텀을 주고 업데이트되도록 함
                                }
                                else {
                                    modSetTopBasketDB(prevScanCode, qty, memo, parentCode);
                                    console.log(qty);
                                }
                                prevScanCode = scanCode;
                                preParentCode = parentCode
                            }
                        }
                    }
                    totPrice += Number(vQty) * Number(vPrice);
                    cookieBasket = cookieBasket + val + "§";//쿠키 값 변경
                })

                $(".totPrice").attr("data-totprice", totPrice);
                $(".totPrice").text(comma(totPrice));
                $(".totCnt").text($(".minicartView ul li").length);
                cookieBasket = cookieBasket.substr(0, cookieBasket.length - 1); //마지막 문자는 제거
                setCookie("cookieBasket1", cookieBasket, 365);
            }
        }

        function modSetTimeout(scanCode, qty, memo, parentCode) {
            PrevCnt--;
            if (PrevCnt < 1 && prevScanCode == scanCode && preParentCode == parentCode)
                modSetTopBasketDB(scanCode, qty, memo, parentCode);
        }

        function modSetTopBasketDB(scanCode, qty, memo, parentCode) {
            $.ajax({
                type: "POST",
                url: '/View/Common/Common.aspx/setTopBasket',
                data: '{GUBUN : "U", SCAN_CODE : "' + scanCode + '", QTY : "' + qty + '", MEMO : "' + memo + '",PARENT_SCAN_CODE : "' + parentCode + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: true,
                success: function (response) {
                    var responseArr = $.parseJSON(response.d);
                    var qtyArr = responseArr.Table;

                    if (qtyArr.length > 0) {
                        for (var i = 0; i < qtyArr.length; i++) {
                            ampl_quantity[i] = qtyArr[i].SALE_QTY;
                        }
                    }
                },
                failure: function (response) {
                },
                error: function (response) {
                }
            });
        }

        function delTopBasketMany(itemData) {
            var isSearch = false;
            var cookieBasket = getCookie("cookieBasket1");
            var cookieArray = cookieBasket.split("§");      //쿠키 값을 아이템 단위로 나눔
            var totPrice = 0;

            if (cookieBasket != "" && cookieArray.length > 0) {
                cookieBasket = "";
                $.each(cookieArray, function (i, CookieVal) {
                    if (CookieVal == "") return true; //continue;
                    isSearch = false;
                    var vObjArray = CookieVal.split("|");
                    var vScanCode = vObjArray[0];
                    var vCheckYN = vObjArray[1];
                    var vQty = vObjArray[2];
                    var vPrice = vObjArray[3];

                    var itemArray = itemData.split("$");            //선택된 상품들의 값을 아이템 단위로 나눔
                    if (itemData != "" && itemArray.length > 0) {
                        $.each(itemArray, function (j, itemVal) {
                            if (itemVal == "") return true; //continue;
                            var objArray = itemVal.split("|");
                            var scanCode = objArray[0];
                            var memo = vObjArray[1]

                            if (vScanCode == scanCode && vMemo == memo) {
                                isSearch = true;
                                return true; //continue;
                            }
                        });
                    }

                    if (!isSearch) {
                        totPrice += Number(vQty) * Number(vPrice);
                        cookieBasket = cookieBasket + CookieVal + "§";                                               //쿠키 값 변경
                    }
                });

                //삭제 상품들 DB반영
                $.ajax({
                    type: "POST",
                    url: '/View/Common/Common.aspx/setTopBasketMany',
                    data: '{GUBUN : "D", ITEM_DATA : "' + itemData + '"}',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: true,
                    success: function (response) {
                    },
                    failure: function (response) {
                    },
                    error: function (response) {
                    }
                });

                $(".totPrice").attr("data-totprice", totPrice);
                $(".totPrice").text(comma(totPrice));
                $(".totCnt").text($(".minicartView ul li").length);

                cookieBasket = cookieBasket.substr(0, cookieBasket.length - 1); //마지막 문자는 제거
                setCookie("cookieBasket1", cookieBasket, 365);

                //orderMemo 쿠키 전부 삭제
                document.cookie = "orderMemo=;expires=Thu, 01 Jan 1999 00:00:10 GTM;path=/;";
            }
        }

        function delTopBasket(scanCode, memo, parentCode) {
            var cookieBasket = getCookie("cookieBasket1");
            var itemArray = cookieBasket.split("§");
            var totPrice = 0;

            if (cookieBasket != "" && itemArray.length > 0) {
                cookieBasket = "";
                $.each(itemArray, function (i, val) {
                    if (val == "") return true; //continue;
                    var objArray = val.split("|");
                    var vScanCode = objArray[0];
                    var vCheckYN = objArray[1];
                    var vQty = objArray[2];
                    var vPrice = objArray[3];
                    var vMemo = objArray[4];
                    var vParentCode = objArray[0];
                    var vTotalQty = objArray[2]
                    // 같은 거 있으면  총 수량도 깍아줘야 함 
                    if (objArray.length > 5) {
                        vParentCode = objArray[5];
                        vTotalQty = objArray[6];
                    }
                    if (vTotalQty == "undefined" || vTotalQty == "" || vTotalQty == null) vTotalQty = objArray[2]
                    if (vParentCode == "undefined" || vParentCode == "" || vParentCode == null || typeof vParentCode == "undefined") vParentCode = objArray[0]
                    if (typeof vTotalQty == 'undefined' || typeof vTotalQty != 'number' || vTotalQty < 0) {
                        vTotalQty = objArray[2]
                    }

                    if (vScanCode == scanCode && memo == vMemo && parentCode == vParentCode) {

                        $(".minicartView li[data-scancode='" + vScanCode + "'][data-memo='" + memo + "'][data-parentcode='" + parentCode + "']").remove();

                        if (0 < miniIdx) {
                            jQuery(".miniCart ul").animate({ "marginLeft": "+=60" }, 500, function () {
                                miniIdx--;
                                isclick = false;
                            })
                        }

                        //로그인이 되어 있다면 DB에도 반영을 함
                        if (checkSession() == "True") {
                            $.ajax({
                                type: "POST",
                                url: '/View/Common/Common.aspx/setTopBasket',
                                data: '{GUBUN : "D", SCAN_CODE : "' + scanCode + '", QTY : "0", MEMO : "' + memo + '", PARENT_SCAN_CODE : "' + parentCode + '"}',
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                async: true,
                                success: function (response) {
                                },
                                failure: function (response) {
                                },
                                error: function (response) {
                                }
                            });
                        }

                        return true; //continue;
                    }
                    totPrice += Number(vQty) * Number(vPrice);
                    cookieBasket = cookieBasket + val + "§";                                               //쿠키 값 변경
                })

                $(".totPrice").attr("data-totprice", totPrice);
                $(".totPrice").text(comma(totPrice));
                $(".totCnt").text($(".minicartView ul li").length);

                cookieBasket = cookieBasket.substr(0, cookieBasket.length - 1); //마지막 문자는 제거
                setCookie("cookieBasket1", cookieBasket, 365);
            }

        }

        var isclick = false; //슬라이드 버블링 방지
        $(document).on("click", ".minicart_next.active", function () {
            if (!isclick) {
                isclick = true;
                var ableIdx = miniMaxIdx - minicart; //alert(miniIdx + " / " + ableIdx);
                if (miniIdx < ableIdx) {
                    jQuery(".miniCart ul").animate({ "marginLeft": "-=60" }, 500, function () {
                        miniIdx++;
                        isclick = false;
                    })
                } else {
                    isclick = false;
                }
            }
        })

        $(document).on("click", ".minicart_prev.active", function () {
            if (!isclick) {
                isclick = true;
                if (0 < miniIdx) {
                    jQuery(".miniCart ul").animate({ "marginLeft": "+=60" }, 500, function () {
                        miniIdx--;
                        isclick = false;
                    })
                } else {
                    isclick = false;
                }
            }
        })

        $(window).load(function () {
            $("#allWrap").fadeIn(500);

            $("#loader").fadeOut(100);
            window.dispatchEvent(new Event('resize'));

            var referer = encodeURI(document.referrer);
            var url = encodeURI(window.location.href);
        });

        function paySend() {
            INIStdPay.pay('frmSendPay');
        }

        $(document).on("click", '.cutBtn', function () {
            let selSize = $(event.target).data("option");
            $("input#cartDefaultValue2").data("option", selSize);
            if (selSize == '') $("#noCutSize2").css("display", "block");
            else $("#noCutSize2").css("display", "none");
        });


        //재입고알림 팝업 띄우기
        function addRestock(SCAN_CODE, BUNDLE_YN) {

            $("#restockOptionList").html("");
            $("#restockProductList").html("");

            if ($("#hdnLoginId").val() == "") {
                messageShow("재입고 알림 신청 서비스는 로그인 후 이용 가능합니다.");
                return;
            }
            console.log(SCAN_CODE);
            $.ajax({
                type: "POST",
                url: '/View/Main/Main.aspx/PrdSearch',
                data: '{SCAN_CODE : "' + SCAN_CODE + '", BUNDLE_YN : "' + BUNDLE_YN + '", STR_CODE : "' + globalStrCode + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {

                    var responseArr = $.parseJSON(response.d);

                    if (BUNDLE_YN == "Y") {
                        $("#restockDefaultValue").val("옵션선택");
                        $("#restockDefaultValue").attr("data-option", "");

                        var bundleArr = responseArr.Table;     //번들정보
                        var productArr = responseArr.Table1;  //상품정보
                        var bgImgPath = bundleArr[0].BG_IMG_PATH;
                        if (bgImgPath == null) bgImgPath = "";
                        var bgImgPathArr = bgImgPath.split('.');

                        $("#restockBgImgPath").addClass(bgImgPathArr[0]);
                        $("#restockPrdImgPath").attr("src", "../../Upload/BundleProduct/thumbnail/" + bundleArr[0].PRD_IMG_PATH);
                        $("#restockBrandName").html(bundleArr[0].BRAND_NAME);
                        $("#restockItemName").html(bundleArr[0].ITEM_NAME);

                        $("#restockOption").css("display", "block");

                        if (productArr.length > 0) {
                            var appendHtml = '';
                            for (var i = 0; i < productArr.length; i++) {
                                appendHtml += '<li><button type="button" onclick="javascript:selectClick(this, \'restockProduct\');" data-option="' + productArr[i].SCAN_CODE + '" data-itemname="' + productArr[i].ITEM_NAME + '" data-price="' + productArr[i].PRICE + '" data-imgpath="' + productArr[i].PRD_IMG_PATH + '">' + productArr[i].ITEM_NAME + '(' + comma(productArr[i].PRICE) + ' 원)' + '</button></li>';
                            }
                            $("#restockOptionList").append(appendHtml);
                        }

                    } else {
                        var productArr = responseArr.Table;
                        var bgImgPath = productArr[0].BG_IMG_PATH;
                        if (bgImgPath == null) bgImgPath = "";
                        var bgImgPathArr = bgImgPath.toString().split('.');

                        $("#restockBgImgPath").addClass(bgImgPathArr[0]);
                        $("#restockPrdImgPath").attr("src", "../../Upload/Product/thumbnail/" + productArr[0].PRD_IMG_PATH);
                        $("#restockBrandName").html(productArr[0].BRAND_NAME);
                        $("#restockItemName").html(productArr[0].ITEM_NAME);

                        $("#restockOption").css("display", "none");

                        var appendHtml = '';
                        appendHtml += '<div class="goodsCount restockProduct"  data-scancode="' + productArr[0].SCAN_CODE + '" data-bundleyn="N" data-price="' + productArr[0].PRICE + '" data-imgpath="' + productArr[0].PRD_IMG_PATH + '">' +
                            '<div class="optionLine recall">' +
                            '<span class="optionName">' + productArr[0].ITEM_NAME + '</span>' +
                            '<span class="optionPrice">' + comma(productArr[0].PRICE) + '<em>원</em></span>' +
                            '</div>' +
                            '</div>';

                        $("#restockProductList").append(appendHtml);
                    }

                    $("#restockCustName").val($("#hdnCustName").val());
                    $("#restockMobilNo").val($("#hdnMobilNo").val());

                    jQuery(".pop2").css("display", "block");
                    jQuery(".pop2").focus();
                },
                failure: function (response) {
                    messageShow(response);
                },
                error: function (response) {
                    messageShow(response);
                }
            });
        }

    </script>

    <!--##### RecoPick 로그수집 스크립트( 2023.09.05(LDH) ) ##### -->
    <script type="text/javascript">
        var recopick_url = "https://api.recopick.com";
        var recopick_service_id = "3541";
        var pSetMID = "";
        var pAge = "";
        var pSex = "";
        // RecoPick(공통) 
        (function (w, d, n, s, e, o) {
            w[n] = w[n] || function () { (w[n].q = w[n].q || []).push(arguments) };
            e = d.createElement(s); e.async = 1; e.charset = 'utf-8'; e.src = '//static.recopick.com/dist/production.min.js';
            o = d.getElementsByTagName(s)[0]; o.parentNode.insertBefore(e, o);
        })(window, document, 'recoPick', 'script');
        recoPick('service', 'dadammall.co.kr');
        // RecoPick(공통) //

        if (pSetMID != "") {
            recoPick('setMID', pSetMID); // 사용자 아이디 (SHA256)            
            var pNow = new Date();
            var pbirthday = "";
            var pSexCode = "";
            if (pSex == "남자") pSexCode = "M";
            if (pSex == "여자") pSexCode = "F";
            if (isEmpty(pAge) == false) {
                pbirthday = (pNow.getFullYear() - pAge).toString();
                recoPick('setUserInfo', { birthyear: pbirthday, gender: pSexCode }) // 사용자 구분 정보(생일, 성별)
            }
        }
    </script>
    <!--##### RecoPick 로그수집 스크립트 ##### //-->

    <!--braze 연동 JS -->

    <script type="text/javascript" src="/Scripts/Braze/braze_sdk.js?ver=20240210170338" ></script>

    <script type="text/javascript" src="/Scripts/Braze/braze_api.js?ver=20240210170338" ></script>
    <!--braze 연동 JS // -->

    <!--Blux GTM 연동 JS -->
    <script src="https://scripts.zaikorea.org/dac3c17d-ab32-4c6c-a956-0423eed5476d/zai_collector_gtm.js"></script>
    <script type="text/javascript" src="/Scripts/Blux/blux_api.js?ver=20240210170338" ></script>
    <!--Blux GTM 연동 JS //-->

    <!-- This script is for AceCounter Mobile START -->
    <script language='javascript'>
        var m_id = '';          // 로그인 - 회원아이디
        var m_ag = 0;           // 로그인 - 회원의 나이
        var m_mr = '';          // 로그인 - 회원의 결혼여부 ('single' , 'married' )
        var m_gd = '';          // 로그인 - 회원의 성별 ('man' , 'woman')

        var m_skey = '';        // 내부검색어

        var m_jn = '';          // 회원가입('join'), 회원탈퇴('withdraw')
        var m_jid = '';         // 회원가입 - 회원아이디

        var m_ud1 = '';         // 사용자 정의변수 1 ( 1 ~ 10 정수값)
        var m_ud2 = '';         // 사용자 정의변수 2 ( 1 ~ 10 정수값)
        var m_ud3 = '';         // 사용자 정의변수 3 ( 1 ~ 10 정수값)

        // 제품결제처리
        var m_order_code = '';
        var m_buy = '';         // 구매 완료 변수(finish 고정값)
        var m_pay = '';         // 결제수단(ex 신용카드,무통장,가상계좌)
    </script>
    <!-- AceCounter END -->

    <!-- 뷰저블 유저 저니맵 분석용 태그 -->
    <script type="text/javascript">
        (function (w, d, a) {
            w.__beusablerumclient__ = {
                load: function (src) {
                    var b = d.createElement("script");
                    b.src = src; b.async = true; b.type = "text/javascript";
                    d.getElementsByTagName("head")[0].appendChild(b);
                }
            }; w.__beusablerumclient__.load(a + "?url=" + encodeURIComponent(d.URL));
        })(window, document, "//rum.beusable.net/load/b190930e212209u141");
    </script>
    <!-- 뷰저블 유저 저니맵 분석용 태그 //-->
</head>

<body>
<!-- 채널톡 스크립트 추가 2022-05-17 -->
<script>
    (function () {
        var w = window;
        if (w.ChannelIO) {
            return (window.console.error || window.console.log || function () { })('ChannelIO script included twice.');
        }
        var ch = function () {
            ch.c(arguments);
        };
        ch.q = [];
        ch.c = function (args) {
            ch.q.push(args);
        };
        w.ChannelIO = ch;
        function l() {
            if (w.ChannelIOInitialized) {
                return;
            }
            w.ChannelIOInitialized = true;
            var s = document.createElement('script');
            s.type = 'text/javascript';
            s.async = true;
            s.src = 'https://cdn.channel.io/plugin/ch-plugin-web.js';
            s.charset = 'UTF-8';
            var x = document.getElementsByTagName('script')[0];
            x.parentNode.insertBefore(s, x);
        }
        if (document.readyState === 'complete') {
            l();
        } else if (window.attachEvent) {
            window.attachEvent('onload', l);
        } else {
            window.addEventListener('DOMContentLoaded', l, false);
            window.addEventListener('load', l, false);
        }
    })();

</script>
<script type="text/javascript">
    var custNo = "";
    var custName = "";
    var mobileNo = "";
    var email = "";
    var pushYn = "";
    var recentOrder = "";
    var emailYn = "";
    var smsYn = "";
    var level = "";

    ChannelIO('boot', {
        "pluginKey": "21ac7c87-e48a-477f-80c7-64cdc6169874", //please fill with your plugin key
        "memberId": custNo, //fill with user id
        "hasPushToken" : pushYn,
        "profile": {
            "name": custName, //fill with user name
            "mobileNumber": mobileNo, //fill with user phone number
            "email": email,
            "hasPushToken" : pushYn,
            "unsubscribeEmail" : emailYn,
            "unsubscribeTexting" : smsYn,
            "lastCheckoutCompletedAt": recentOrder,
            "level" : level,
            //"CUSTOM_VALUE_1": "VALUE_1", //any other custom meta data
            //"CUSTOM_VALUE_2": "VALUE_2"
        }
    });
    //console.log("custNo:" + custNo);
    //console.log("custName:" + custName);
    //console.log("mobileNo:" + mobileNo);
    //console.log("email:" + email);
    //console.log("pushYn:" + pushYn);
    //console.log("emailYn:" + emailYn);
    //console.log("smsYn:" + smsYn);
    //console.log("recentOrder:" + recentOrder);
    //console.log("level:" + level);


</script>
<!-- End Channel Plugin -->

<!--20210618, 구글 태그매니저 -->
<!-- Google Tag Manager (noscript) -->
<noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N6P8JNP" height="0" width="0" style="display: none; visibility: hidden"></iframe>
</noscript>
<!-- End Google Tag Manager (noscript) -->

<!-- 결제시 필요한 변수 선언 Start -->
<form method="post" action="./Main" id="frmSendPay">
    <div class="aspNetHidden">
        <input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="BZ2oNhQRoFMRbeuOot6n/26kZ6KXMh/a2ofJePRKzDs6+7Oa6aN6lYghQsStQSN0JODSGUTw+iyDxGC0Ru+UyT2LlENHd2XqkGzSudQsQy8=" />
    </div>

    <div class="aspNetHidden">

        <input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="29791787" />
    </div>
    <input type="hidden" id="version" name="version" />
    <!-- CommonClass version -->
    <input type="hidden" id="mid" name="mid" />
    <!-- CommonClass strMid -->
    <input type="hidden" id="goodname" name="goodname" />
    <!-- 주문 시 입력 -->
    <input type="hidden" id="oid" name="oid" />
    <!-- 주문 시 입력 -->
    <input type="hidden" id="price" name="price" />
    <!-- 주문 시 입력 -->
    <input type="hidden" id="currency" name="currency" />
    <!-- CommonClass strCurrency -->
    <input type="hidden" id="buyername" name="buyername" />
    <!-- 주문 시 입력 -->
    <input type="hidden" id="buyertel" name="buyertel" />
    <!-- 주문 시 입력 -->
    <input type="hidden" id="buyeremail" name="buyeremail" />
    <!-- 주문 시 입력 -->
    <input type="hidden" id="timestamp" name="timestamp" />
    <!-- 주문 시 입력 -->
    <input type="hidden" id="signature" name="signature" />
    <!-- 주문 시 입력 -->
    <input type="hidden" id="returnUrl" name="returnUrl" />
    <!-- 주문 시 입력 -->
    <input type="hidden" id="mKey" name="mKey" />
    <!-- CommonClass signKey -->
    <input type="hidden" id="gopaymethod" name="gopaymethod" />
    <input type="hidden" id="quotabase" name="quotabase" value="2:3:4:5:6" />
    <!-- 다담PAY 추가 Parameter -->
    <input type="hidden" id="resetCssUrl" name="resetCssUrl" value="https://www.dadammall.co.kr/css/custom_guide.css" />
    <input type="hidden" id="resetTextUrl" name="resetTextUrl" value="https://www.dadammall.co.kr/css/custom_text_guide.css" />
    <input type="hidden" id="customTitle" name="customTitle" value="다담PAY" />
    <input type="hidden" id="customShortcutUrl" name="customShortcutUrl" value="https://www.dadammall.co.kr/images/favicon.ico" />
    <input type="hidden" id="userId" name="userId" />
    <input type="hidden" id="ci" name="ci" />
    <input type="hidden" id="userNm" name="userNm" />
    <input type="hidden" id="hNum" name="hNum" />
    <input type="hidden" id="hCorp" name="hCorp" />
    <input type="hidden" id="birthDay" name="birthDay" />
    <input type="hidden" id="socialNo2" name="socialNo2" />
    <input type="hidden" id="frnrYn" name="frnrYn" />
    <input type="hidden" id="wpayUserKey" name="wpayUserKey" />
    <input type="hidden" id="wpayToken" name="wpayToken" />
    <input type="hidden" id="payMethod" name="payMethod" />
    <input type="hidden" id="bankCardCode" name="bankCardCode" />
    <input type="hidden" id="goodsName" name="goodsName" />
    <input type="hidden" id="goodsPrice" name="goodsPrice" />
    <input type="hidden" id="buyerName" name="buyerName" />
    <input type="hidden" id="buyerTel" name="buyerTel" />
    <input type="hidden" id="buyerEmail" name="buyerEmail" />
    <input type="hidden" id="cardQuota" name="cardQuota" />
    <input type="hidden" id="cardInterest" name="cardInterest" />
    <input type="hidden" id="couponCode" name="couponCode" />
    <input type="hidden" id="flagPin" name="flagPin" />
    <input type="hidden" id="flagCardPoint" name="flagCardPoint" />
    <input type="hidden" id="cshRecpSave" name="cshRecpSave" />
    <input type="hidden" id="cshRecpCode" name="cshRecpCode" />
    <input type="hidden" id="cshRecpInfo" name="cshRecpInfo" />
</form>
<!-- 결제시 필요한 변수 선언 End -->

<!-- Naver Pay 주문정보 전송을 위한 Form Start -->

<!-- Naver Pay 주문정보 전송을 위한 Form  End -->

<input name="ctl00$hdnAge" type="hidden" id="hdnAge" />
<input name="ctl00$hdnLoginId" type="hidden" id="hdnLoginId" />
<input name="ctl00$hdnCustName" type="hidden" id="hdnCustName" />
<input name="ctl00$hdnCustNo" type="hidden" id="hdnCustNo" />
<input name="ctl00$hdnMobilNo" type="hidden" id="hdnMobilNo" />
<div id="loaderMask"></div>
<div id="loader"></div>
<div id="allWrap"  style="display: none;">
    <div class="category_bg"></div>
    <div class="headerWrap">
        <div class="header">
            <div class="globalWrap">

                <div id="itemDeliveryWrap" onclick="openAddrSelect();" style="float:left;">
                    <span id="deliveryMtd" class=""></span>
                    <span id="deliveryAddr">배송지 정보를 입력해 주세요.</span>
                </div>
                <script>
                    function openAddrSelect() {
                        if (checkSession() == "False") {
                            location.href = '../Login/Login.aspx';
                            return;
                        }
                        if (!location.pathname.includes('View/Order/Order_Member')) {
                            $('.pop06').css('display', 'inline-block');
                        }
                    }

                </script>

                <div >
                    <ul class="glmenu">
                        <div class="mallappdown">
                            <p><span>다담몰</span> 앱 다운로드</p>
                            <div class="mallList">
                                <a href="https://apps.apple.com/kr/app/id1474339594" class="ios">앱스토어</a>
                                <a href="https://play.google.com/store/apps/details?id=kr.co.retailtech.dadammall" class="android">구글플레이스토어</a>
                            </div>
                        </div>

                        <li><a href="../../View/Login/Login">로그인</a></li>
                        <li><a href="../../View/Join/Terms">회원가입</a></li>

                        <li><a href="../Info/DeliveryInfo.aspx">배송안내</a></li>
                        <li><a href="../../View/MyPage/Main" onclick="return checkLogin();">마이페이지</a></li>
                        <li><a href="../../View/Util/CsMain">고객센터</a></li>
                        <li><a href="../../View/Order/Basket">장바구니 <span class="cart_item_count">12</span></a></li> <!-- 평소에는 보이지 않습니다. 화면이 스크롤 되서 fixed되야 보입니다. 장바구니 상품갯수는 항상 넣어주세요 -->
                    </ul>
                </div>

            </div>

            <script type="text/javascript">
                $(document).ready(function () {

                });


            </script>

            <div class="searhandcart" style="position:relative;">
                <h1><a href="../../View/Main/Main">다담몰</a></h1>
                <div class="gl_searchWrap">
                    <input type="text" class="glsearch" id="txtSearch" placeholder="다중검색예시 : 된장,고추장(쉼표로 구분)" />
                    <button type="button" onclick="javascript:fn_searchTextGo();">검색</button>
                </div>
                <!--실시간검색 20220615-->
                <div class="realtime_search_wrap">
                    <div class="row_wrap top_search_num">
                        <ul>

                            <li><span class="num">1.</span>김치찌개용 돼지고기</li>
                            <li><span class="num">2.</span>구이용 돼지고기</li>

                        </ul>
                    </div>
                    <div class="realtime_search_box">
                        <div class="info_wrap"><span class="tit">실시간 검색어 순위</span><span class="time">2022.05.27 10:00기준</span></div>
                        <div class="half_w half_w_left">


                        </div>
                        <div class="half_w half_w_right">


                        </div>
                    </div>
                </div>
                <!--실시간검색 20220615-->


                <div class="miniCartWrap">
                    <div class="miniCart">
                        <p class="noneList">장바구니에 상품을 담아주세요.</p>
                        <div class="minicartView">
                            <ul>
                                <!-- 상품 추가시에는 해당 li 하나를 기본으로 추가 해주시면 됩니다 -->
                                <!-- li 추가후 minicartSlideStae(); 함수를 실행시켜주시면 li갯수 체크 하여 슬라이드 기능 작동합니다. -->
                                <!-- 상품 갯수체크하여야 할댄 .realcount 의 값을 가져가셔도 되고 필요하시다면 input hidden으로 넣고 사용하셔도 됩니다 -->
                            </ul>
                        </div>
                        <div class="minicartBtn">
                            <button type="button" class="minicart_prev">이전</button>
                            <button type="button" class="minicart_next">다음</button>
                        </div>
                    </div>
                    <div class="minicartTotal">
                        <p class="totalprice" style="cursor:pointer;"onclick="javascript:location.href='../Order/Basket'"><span>총합계</span><em class="unit">&#8361;</em><span class="totPrice" data-totprice="">0</span></p>
                        <p class="oder"><nottag style="cursor:pointer;" onclick="javascript:location.href='../Order/Basket'"><span class="totCnt">0</span> items </nottag><a href="../../View/Order/Basket">전체주문</a></p><!--<a href="../../View/Order/Order_Member" onclick="return checkLoginOrder();">전체주문</a>-->
                    </div>
                </div>
                <span class="searchCode">* 상품바코드 (13자리, 뒷6자리) 검색이 가능합니다.</span>
            </div>
            <div style="position:absolute" id="forAuto"></div>
        </div>
        <div style="width:100%; border-top:1px solid #dddddd;"></div>
        <div class="categroyWrap" style="width:1200px; margin:0 auto; border-top:0px;">
            <div class="category">
                <button class="allcategory" type="button">전체 카테고리</button>
                <div id="customCategory">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide"><a href="../Product/Products?menu=C" id="menuC">특가상품</a></div>
                        <div class="swiper-slide"><a href="../Product/Products?menu=N" id="menuN">신제품</a></div>
                        <div class="swiper-slide"><a href="../Product/Products?menu=F" id="menuF">신선제품</a></div>
                        <div class="swiper-slide"><a href="../Product/Favorite?menu=R" id="Favorite">자주 찾는 상품</a></div>
                        <div class="swiper-slide"><a href="../Product/Products?menu=B" id="menuB">식자재 베스트</a></div>
                        <div class="swiper-slide"><a href="../Product/Event" id="Event">기획전</a></div>
                    </div>

                </div>
            </div>
            <div class="categoryCnt menu_off">
                <button type="button" class="allcategoryClose">전체 카테고리</button>
                <ul class="menu_1depth_wrap meun_wrap">
                    <li class="menu_1dpeth on">
                        <a href="#"><em class="icon"></em><span class="tit">과일/견과</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--1depth-->
                    <li class="menu_1dpeth">
                        <a href="#"><em class="icon"></em><span class="tit">채소/쌀/잡곡</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--1depth-->
                    <li class="menu_1dpeth">
                        <a href="#"><em class="icon"></em><span class="tit">정육/계란</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--1depth-->
                    <li class="menu_1dpeth">
                        <a href="#"><em class="icon"></em><span class="tit">수산/건어</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--1depth-->
                    <li class="menu_1dpeth">
                        <a href="#"><em class="icon"></em><span class="tit">반찬</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--1depth-->
                    <li class="menu_1dpeth">
                        <a href="#"><em class="icon"></em><span class="tit">간편/조리식</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--1depth-->
                    <li class="menu_1dpeth">
                        <a href="#"><em class="icon"></em><span class="tit">소스/양념/오일</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--1depth-->
                    <li class="menu_1dpeth">
                        <a href="#"><em class="icon"></em><span class="tit">우유/음료</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--1depth-->
                    <li class="menu_1dpeth">
                        <a href="#"><em class="icon"></em><span class="tit">베이커리/치즈/델리</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--1depth-->
                    <li class="menu_1dpeth">
                        <a href="#"><em class="icon"></em><span class="tit">간식/디저트</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--1depth-->
                    <li class="menu_1dpeth">
                        <a href="#"><em class="icon"></em><span class="tit">생활/청소</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--1depth-->
                    <li class="menu_1dpeth">
                        <a href="#"><em class="icon"></em><span class="tit">주방</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--1depth-->
                </ul>
                <!--1dpeth_wrap-->
                <ul class="menu_2depth_wrap meun_wrap on">
                    <li class="menu_2depth on">
                        <a href="#"><span class="tit">제철과일</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--2depth-->
                    <li class="menu_2depth">
                        <a href="#"><span class="tit">수입과일</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--2depth-->
                    <li class="menu_2depth">
                        <a href="#"><span class="tit">냉동/건과일</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--2depth-->
                    <li class="menu_2depth">
                        <a href="#"><span class="tit">견과류</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--2depth-->
                </ul>
                <!--2depth_wrap-->
                <ul class="menu_2depth_wrap meun_wrap">
                    <li class="menu_2depth on">
                        <a href="#"><span class="tit">제철과일2</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--2depth-->
                    <li class="menu_2depth">
                        <a href="#"><span class="tit">수입과일2</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--2depth-->
                    <li class="menu_2depth">
                        <a href="#"><span class="tit">냉동/건과일2</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--2depth-->
                    <li class="menu_2depth">
                        <a href="#"><span class="tit">견과류2</span><em class="menu_arrow"></em></a>
                    </li>
                    <!--2depth-->
                </ul>
                <!--2depth_wrap-->
                <ul class="menu_3depth_wrap meun_wrap on">
                    <li class="menu_3depth"><a href="#">사과</a></li>
                    <li class="menu_3depth"><a href="#">수박</a></li>
                    <li class="menu_3depth"><a href="#">참외</a></li>
                </ul>
                <!--3depth_menu-->
                <ul class="menu_3depth_wrap meun_wrap">
                    <li class="menu_3depth"><a href="#">사과2</a></li>
                    <li class="menu_3depth"><a href="#">수박2</a></li>
                    <li class="menu_3depth"><a href="#">참외2</a></li>
                </ul>
                <!--3depth_menu-->
                <ul class="menu_3depth_wrap meun_wrap">
                    <li class="menu_3depth"><a href="#">사과3</a></li>
                    <li class="menu_3depth"><a href="#">수박3</a></li>
                    <li class="menu_3depth"><a href="#">참외3</a></li>
                </ul>
                <!--3depth_menu-->
            </div>



        </div>

        <script>
            $(function () {




                $(".allcategory").click(function () {

                    if ($(".categoryCnt").hasClass("open") === true) {

                        $(".category_bg").addClass("on");


                    } else {

                    }
                    //버튼 눌렀을때 클래스 하나 더 주기



                });

                $(".allcategoryClose").click(function () {
                    if ($(".categoryCnt").hasClass("open") === false) {
                        $(".category_bg").removeClass("on");
                    }

                });






                /* $(".categroyWrap").click(function () {


                     if ($(this).find(".categoryCnt").hasClass("menu_off") === true) {

                         alert("aa");
                     }
                 });*/







            });

        </script>

    </div>



    <!-- Contents Start -->

    <style type="text/css">
        .main_banner ._03 {
            width: 114px;
            height: 557px;
            margin: 15px 0 0 15px;
            opacity: 0.2;
            border-radius: 10px;
            background-color: #000000;
            z-index: 900;
            position:relative;
        }
        .slider__div {
            width: 140px;
            height: 42px;
            position: absolute;
            bottom: 25%;
            right: 17%;
            z-index: 105;
            float:left;
            display: flex;
        }

        .slider__counter {
            z-index: 100;
            font-weight: 600;
            pointer-events: none;
            margin-left: 5px;
            margin-right: 5px;
        }
        .slider__span {
            display:inline-block;
            color : #fff;
            width : 80px;
            background : url("../../images/etc/banner_counter.png") no-repeat;
            font-size: 20px;
            line-height : 40px;
            text-align: center;
        }

        .slider_arrow_r {
            background : url("../../images/etc/banner_arrow_r.png") center no-repeat;
            width: 10px;
            height: 35px;
            display: block;
        }
        .slider_arrow_l {
            background : url("../../images/etc/banner_arrow_l.png") center no-repeat;
            width: 10px;
            height: 35px;
            display: block;
        }
        /*        .inline {

                    display : inline;
                }*/

        /*===0614 추가===*/
        .main_banner .swiper-container {
            width: 100%;
            height: 100%;
            padding-bottom: 48px;
            margin-top: 15px;
        }
        .main_banner .swiper-slide a{
            width: 100%;
            height: 100%;
        }

        .main_banner .swiper-slide {
            text-align: center;
            font-size: 18px;
            background: #fff;

            /* Center slide text vertically */
            display: -webkit-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            -webkit-justify-content: center;
            justify-content: center;
            -webkit-box-align: center;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
        }

        .main_banner .swiper-slide {
            width: 86.563%;
            border-radius: 10px;
            overflow: hidden;
        }

        .main_banner {
            width: 100%;
            margin-bottom: 44px;
        }

        .main_banner .pagination_wrap {
            width: auto;
            display: inline-block;
            position: absolute;
            left: 0;
            right: 0;
            margin: auto;
            text-align: center;
            width: 100%;
            bottom: -3px;
        }

        .main_banner .pagination_wrap .btn_wrap {
            display: inline-block;
            margin: auto;
        }

        .main_banner .swiper-pagination {
            width: 100px !important;
            height: 26px !important;
            border: 1px solid #cdcccc;
            border-radius: 20px;
            /*    left: 0;
            right: 0;
            margin: auto;*/
            line-height: 26px;
            color: #555555;
            position: relative;
            display: inline-block;
            position: relative;
            bottom: inherit;
            left: inherit;
            background: #fff;
            float: left;
            margin-bottom : 3px;
        }

        .main_banner .swiper-slide {
            height: 460px;
        }

        .main_banner .swiper-button-next,
        .main_banner .swiper-container-rtl .swiper-button-prev {
            color: #fff;
            right: 129px;
            background: url('../../images/btn/swiper_button_next.svg') no-repeat;
            width: 48px;
            height: 80px;
        }
        .main_banner .swiper-button-prev,
        .main_banner .swiper-container-rtl .swiper-button-next {
            color: #fff;
            left: 129px;
            background: url('../../images/btn/swiper_button_prev.svg') no-repeat;
            width: 48px;
            height: 80px;
        }


        .main_banner .auto_btn {
            width: 26px;
            height: 26px;
            background: #fff;
            border: 1px solid #cdcccc;
            border-radius: 50%;
            cursor: pointer;
            position: relative;
            display: inline-block;
            float: left;
            margin-right: 9px;
            margin-top: 1px;
        }

        .main_banner .auto_btn::after {
            content: "";
            display: inline-block;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: auto;
            background: url('../../images/icon/auto_stop.png')no-repeat;
            /*실제 이미지 경로에 맞게 수정*/
            width: 8px;
            height: 9px;
        }

        .main_banner .auto_btn.auto_start::after {
            content: "";
            display: inline-block;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            margin: auto;
            background: url('../../images/icon/auto_stop.png')no-repeat !important;
            /*실제 이미지 경로에 맞게 수정*/
            width: 8px;
            height: 9px;
        }

        .main_banner .auto_btn.auto_stop::after {
            content: "";
            display: inline-block;
            position: absolute;
            top: 0;
            left: 2px;
            right: 0;
            bottom: 0;
            margin: auto;
            background: url('../../images/icon/auto_start.png')no-repeat !important;
            /*실제 이미지 경로에 맞게 수정*/
            width: 8px;
            height: 10px;
        }

        .sub_banner_area {
            width: 100%;
            display: inline-block;
            text-align: center;
            margin-bottom: 86px;
        }

        .sub_banner_area .sub_banner_wrap {
            width: 1282px;
            margin: auto;
            display: inline-block;
        }

        .sub_banner_area .sub_banner {
            width: 309px;
            height: 209px;
            display: inline-block;
            float: left;
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            margin-right: 15px;
        }

        .sub_banner_area .sub_banner:last-child {
            margin-right: 0 !important;
        }

        .sub_banner_area .sub_banner img {
            display: block;
            width:100%;
            height:100%;
        }

        .sub_banner_area .sub_banner .top_tit {
            font-size: 17px;
            line-height: 1;
            color: #fff;
            margin-bottom: 13px;
            text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;
        }

        .sub_banner_area .sub_banner .main_tit {
            font-size: 25px;
            line-height: 1;
            color: #fff;
            font-weight: 600;
            text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;
        }

        .sub_banner_area .sub_banner_tit {
            width: 100%;
            max-height: 100%;
            display: inline-block;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            text-align: left;
            padding: 27px;
            box-sizing: border-box;
            letter-spacing: -1.5px;
        }

        .sub_banner_area .txt_center {
            text-align: center !important;
        }

        .sub_banner a {
            width: 100%;
            height: 100%;
            display: inline-block;
        }

        .sub_banner .txt_color1 {
            color: #592c0d !important;
        }

        .sub_banner .txt_color2 {
            color: #000 !important;
        }

        /*===0614 추가===*/

        .goods-info {

            white-space : nowrap;
            display : inline-block;

        }
        /*===  제품명이 길이가 초과하여 두줄로 변경 ===*/
        /*.goods-info-2 {   
        
            white-space :normal;
            display : inline;
            line-height :2;
               
        }*/

        .slick_row_2 {
            float: left;
            text-align: left;
            width: 220px;
            margin: 0 0 80px 23px;
        }

        .no-badge {

        }

    </style>


    <!-- ##### RecoPick API ##### -->
    <script type="text/javascript">
        //  recoPick 메인 스크립트
        recoPick('sendLog', 'visit');
    </script>
    <!-- ##### RecoPick API ##### //-->

    <!-- ##### RecoPick API ##### -->
    <script type="text/javascript" src="/Scripts/Recopick/recopick_api.js?ver=20240210170338"  ></script>
    <!-- ##### RecoPick API ##### //-->


    <script type="text/javascript">
        console.log("NEW Online_Mall");
        var custNo = "";
        var custName = "";
        var age = "";
        var adultcheck = "";


        // 20220609 유태희 메인 메뉴 변경건 start  
        var sliderConfig = new Array(); // 슬라이더 설정 정보를 갖는
        // 20220609 유태희 메인 메뉴 변경건 start
        window.onload = function () {

            //var names = document.querySelectorAll(".goodsList .goods-info")
            //for (var i = 0; i < names.length; i++) {
            //    var name = names.item(i)
            //    var text = name.innerText
            //    var width = name.clientWidth
            //    var brand = name.previousSibling  
            //    var maxWidth = brand.clientWidth       
            //    if (width > maxWidth) {

            //        $(name).addClass("goods-info-2")
            //        $(brand).css({"display" : "inline"})
            //    }



            //}

            //var brands = document.querySelectorAll(".goodsList .brands")
            //var maxWidth = 0
            //for (var i = 0; i < names.length; i++) {
            //    var name = names.item(i)
            //    var brand = brands.item(i)
            //    var parent = name.parentNode
            //    var classList = parent.classList;
            //    var test = name.innerText

            //    maxWidth = 214

            //    if (classList.contains("cold") || classList.contains("cool")) {
            //        maxWidth = 188
            //    }
            //    name.classList += " " + name.clientWidth
            //    console.log(name.innerText)
            //    console.log(name.clientWidth)
            //    console.log(brand.clientWidth)
            //    console.log(name.clientWidth + brand.clientWidth)
            //    if (name.clientWidth + brand.clientWidth < maxWidth || brand.clientWidth == 0) {
            //        brand.parentNode.classList.add("inline")
            //    }


            //}
        }

        $(window).on('load', function () {
            scalcStrWidth();
        });

        function htmlInitMain() {
            airbridge.events.send('airbridge.ecommerce.home.viewed');
            //메인 구성 정보 세팅
            var cookieMain = getCookie("cookieMain");
            var mainArray = cookieMain.split("※");
            var mainDate = "190001010000"; //마지막에 업데이트 한 일자
            var mainValue = "";            //메인 구성 정보
            var mBannerValue = "";         //메인 배너 정보
            var sBannerValue = "";         //중간 배너 정보
            var bBannerValue = "";         //베스트 이미지 정보
            var mainAddMenuConfArr = new Array(); //추가 메뉴 정보

            if (cookieMain.length > 0) {
                mainDate = mainArray[0];
                mainValue = mainArray[1];
                mBannerValue = mainArray[2];
                sBannerValue = mainArray[3];
                bBannerValue = mainArray[4];
            }

            //메인 구성 업데이트 날짜를 이용해서 변경되었다면 다시 가져옴
            if (mainDate <= vMainDate) {
                //업데이트 정보가 있다면 새로 쿠키에 넣고 불러와서 세팅
                cookieMain = fn_setMainConfCookie(false);
                mainArray = cookieMain.split("※");
                mainDate = mainArray[0];
                mainValue = mainArray[1];
                mBannerValue = mainArray[2];
                sBannerValue = mainArray[3];
                bBannerValue = mainArray[4];
            } else {
                //업데이트 정보가 없으면 0.1초 후에 정보를 다시 세팅 (중간 배너, 식자제베스트 배너의 경우 이미지를 4개, 1개씩 세팅하기 때문에 다르게 됨)
                setTimeout(fn_setMainConfCookie, 0, true);
            }

            var mainListArrays = mainValue.split("∬");
            var mBannerListArrays = mBannerValue.split("∬");
            var sBannerListArrays = sBannerValue.split("∬");
            var bBannerListArrays = bBannerValue.split("∬");

            //메인 구성 정보를 세팅
            if (mainValue != "" && mainListArrays.length > 0) {
                $.each(mainListArrays, function (idx, val) {
                    var arr = val.split("∫");
                    var SUB_MENU_NO = arr[0];
                    var MENU_TITLE = arr[1];
                    var MENU_TYPE = arr[2];
                    var IMG_PATH = arr[3];
                    var MENU_URL = arr[4];
                    var LINE_CNT = arr[5];
                    var PRO_CNT = arr[6];
                    var MANUAL_YN = arr[7];

                    var appendHtml = '';
                    if (MENU_TYPE == 1) {  // 일반적인 슬라이드 형식 
                        appendHtml += ' <div class="howaboutWrap producWrap "><div class="howaboutproduct">';
                        if (SUB_MENU_NO == '100010') { //고객님을 위한 추천상품인 경우
                            appendHtml += '<p class="howaboutproductTitle"><span>' + custName + ' 고객님을 위한 </span>' + MENU_TITLE + '</p>';
                        } else {                              //그외 나머지
                            appendHtml += ' <p class="howaboutproductTitle">' + MENU_TITLE + '</p>'
                        }
                        appendHtml += ' <ul class="goodsList goods_List goods-slider-' + SUB_MENU_NO + ' ordertype goodsNum" id="sm_' + SUB_MENU_NO + '" data-lineCnt="' + LINE_CNT + '">'
                            + '</ul>';
                        if (MENU_URL != '') {
                            appendHtml += '<div style="width:100%;height:27px;display: flex; justify-content: center;"><button class="link_more_button" style="display: inline-block;" onclick="location.href=\'' + MENU_URL + '\'">' + MENU_TITLE + ' 더보기 〉</button></div>'
                        }
                        appendHtml += '</div></div>';
                    } else if (MENU_TYPE == 2) { // 특정 포맷이 정해져 있는 슬라이드 메뉴 
                        if (SUB_MENU_NO == 100007) { // 식자제 베스트 
                            appendHtml += '<div class="bannerAndBestWrap producWrap">'
                                + '<div class="bannerAndBest">'
                                + '<div class="baaner" id="divBestPrdBanner"></div>'
                                + '<div class="best">'
                                + '<p class="sectionTitle"> ' + MENU_TITLE + '</p>'
                                + '<ul class="goodsList goods_List goods-slider-best ordertype" id="bestProductList" data-lineCnt="' + LINE_CNT + '">'
                                + '</ul>'
                                + '</div>'
                                + '<div style="width:100%;height:27px;display: flex; justify-content: center;"><button class="link_more_button" style="display: inline-block;" onclick="location.href=\'' + MENU_URL + '\'">' + MENU_TITLE + ' 더보기 〉</button></div>'
                                + '</div>'
                                + '</div>';
                        } else if (SUB_MENU_NO == 100036) { // 자주 구매한 상품, 최근 본 상품
                            names = MENU_TITLE.split(',')
                            name1 = names[0]
                            name2 = names[1]

                            appendHtml += ' <div class="favoritAdnRecentlyWrap producWrap">'
                                + '<div class="favoritAndRecently">'
                                + '<div class="favorit">'
                                + '<p class="sectionTitle">' + name1 + ' <span>회원님께서 자주 구매한 상품입니다.</span></p>'
                                + '<div class="farBox">'
                                + '<p class="noneGoods">최근 구매한 상품이 없습니다.</p>'
                                + '<ul class="goodsList goods_List goods-slider-favorit ordertype" id="saleBestPrdList">'
                                + '</ul>'
                                + '</div>'
                                + '</div>'
                                + '<div class="recently">'
                                + ' <p class="sectionTitle">' + name2 + '  <span>회원님께서 최근 본 상품입니다.</span></p>'
                                + '<div class="farBox">'
                                + '<p class="noneGoods">최근 본 상품이 없습니다.</p>'
                                + '<ul class="goodsList goods_List goods-slider-recently ordertype" id="recentlyViewPrdList">'
                                + ' </ul>'
                                + '</div>'
                                + '</div>'
                                + '<div style="width:100%;height:27px;display: flex; justify-content: center;"><button class="link_more_button" style="display: inline-block;" onclick="location.href=\'../Product/Favorite?menu=R\'">' + MENU_TITLE + ' 더보기 〉</button></div>'
                                + '</div>'
                                + '</div>';
                        }

                    } else if (SUB_MENU_NO == 100003) { // 중간배너일때
                        appendHtml += '<div class="sub_banner_area"><div class="sub_banner_wrap"></div></div > ';
                    } else if (MENU_TYPE == '4') { // 관리자가 임의로 추가한 띠배너 일때 
                        appendHtml += '<div class="imgBanner_wrap"><a href="' + MENU_URL + '"><img src="' + IMG_PATH + '" onerror="../../images/sample/mainvisuala01.jpg" alt="img_banner" /></a></div>'
                    } else if (MENU_TYPE == '5') {
                        if (IMG_PATH != '이미지가 없습니다.') {
                            appendHtml += '<div class="producWrap full_life" id = "sm_' + SUB_MENU_NO + '">'
                                + '<h2 class="productTitle" >' + MENU_TITLE
                                + '</h2>'
                                + '<div class="box_list">'
                                + '<div class="box_banner"  style="background-image:url(\'../..' + IMG_PATH + '\')"></div>'
                                + '<ul class="goodsList goods_List ordertype">'
                                + '</ul>'
                                + '</div>'
                                + '<div style="width:100%;height:27px;margin-top:20px;display: flex; justify-content: center;"><button class="link_more_button" style="display: inline-block;" onclick="location.href=\'../Product/CustomPage?menu=' + SUB_MENU_NO + '&menutype=s\'">' + MENU_TITLE + ' 더보기 〉</button></div>'
                                + '</div>';
                        } else {
                            appendHtml += ' <div class="howaboutWrap producWrap ">'
                                + '<div class="howaboutproduct" id="sm_' + SUB_MENU_NO + '">'
                                + '<p class="howaboutproductTitle">' + MENU_TITLE + '</p>'
                                + '<ul class="goodsList goods_List goods-slider-' + SUB_MENU_NO + ' ordertype goodsNum"><!-- 장바구니형일경우 ordertype 추가 --><!--상품 넘버링 필요시 goodsNum 추가 -->'
                                + '</ul>'
                                + '<div style="width:100%;height:27px;display: flex; justify-content: center;"><button class="link_more_button" style="display: inline-block;" onclick="location.href=\'../Product/CustomPage?menu=' + SUB_MENU_NO + '&menutype=s\'">' + MENU_TITLE + ' 더보기 〉</button></div>'
                                + '</div>'
                                + '</div>';
                        }

                        mainAddMenuConfArr.push({ SUB_MENU_NO: SUB_MENU_NO, IMG_PATH: IMG_PATH, LINE_CNT: LINE_CNT, PRO_CNT: PRO_CNT, MENU_TYPE: MENU_TYPE });
                    }
                    $(".contWrap").append(appendHtml);

                    if (SUB_MENU_NO == 100008) { // 장바구니 인기상품
                        setTimeout(recopickApi, 0, "basket", "main3", SUB_MENU_NO, LINE_CNT);

                    } else if (SUB_MENU_NO == 100004) { // 요즘 많이 보는 상품
                        setTimeout(recopickApi, 0, "view2", "main2", SUB_MENU_NO, LINE_CNT);

                    } else if (SUB_MENU_NO == 100010) { // 고객님을 위한 추천상품
                        setTimeout(recopickApi, 0, "realtime_api", "main1", SUB_MENU_NO, LINE_CNT);

                    } else {
                        slideInfo = {
                            subMenuNo: SUB_MENU_NO,
                            lineCnt: LINE_CNT,
                            menuType: MENU_TYPE
                        }
                        sliderConfig.push(slideInfo)
                    }

                });
            }

            // 메인 배너
            if (mBannerValue != "" && mBannerListArrays.length > 0) {
                var appendHtml = '';
                var slickSecond = 0;
                var PLAY_SECOND = '7';
                $.each(mBannerListArrays, function (idx, val) {
                    var arr = val.split("∫");
                    var LINK_URL = arr[0];
                    var IMG_PATH = arr[1];
                    PLAY_SECOND = arr[2];
                    appendHtml += '<div class="swiper-slide" > <a href="' + LINK_URL + '"><img src="' + IMG_PATH + '"  onerror="this.src=\'../../images/sample/mainbanner_test_img1.png\'" /></a></div>'
                });
                slickSecond = parseInt(PLAY_SECOND) * 1000; //밀리세컨드 단위라 x 1000
                $("#bannerItems").append(appendHtml);
                var swiper = new Swiper('.swiper-container', {
                    slidesPerView: 'auto',
                    loop: true,
                    speed: 1000,
                    spaceBetween: 14,
                    centeredSlides: true,
                    autoplay: {
                        delay: slickSecond,
                        disableOnInteraction: false,
                    },
                    pagination: {
                        el: '.swiper-pagination',
                        clickable: true,
                        type: 'fraction'

                    },
                    navigation: {
                        nextEl: '.swiper-button-next',
                        prevEl: '.swiper-button-prev',
                    },
                }); //메인배너 슬라이드

                $(".auto_btn").on("click", function () {
                    $(this).toggleClass("auto_stop");
                    if ($(this).hasClass("auto_stop") === true) {
                        swiper.autoplay.stop();
                    } else {
                        swiper.autoplay.start();
                    }
                }); //슬라이드 일시정지, 재생
            }

            // 중간 배너
            if (sBannerValue != "" && sBannerListArrays.length > 0) {
                appendHtml = '';
                $(".sub_banner_wrap").html("");
                $.each(sBannerListArrays, function (idx, val) {
                    var arr = val.split("∫");
                    var LINK_URL = arr[0];
                    var IMG_PATH = arr[1];
                    appendHtml += '<div class="sub_banner">'
                        + '<a href="' + LINK_URL + '">'
                        + '<div class="sub_banner_tit">'
                        + '</div>'
                        + '<img src="' + IMG_PATH + '" onerror="this.src=\'../../images/sample/sub_banner_img1.png\'" >'
                        + '</a>'
                        + '</div>';
                });
                $(".sub_banner_wrap").append(appendHtml);
            }

            // 식자제 베스트 배너
            if (bBannerValue != "" && bBannerListArrays.length > 0) {
                $.each(bBannerListArrays, function (idx, val) {
                    var arr = val.split("∫");
                    var LINK_URL = arr[0];
                    var IMG_PATH = arr[1];

                    appendHtml = '<a href="' + LINK_URL + '&main=C' + '"><img src="../..' + IMG_PATH + '" alt=""></a>';
                    $("#divBestPrdBanner").append(appendHtml);
                    return false; //break;
                });
            }

            setTimeout(fn_mainAddMenuProd, 0, mainAddMenuConfArr);
            setTimeout(fn_mainProduct, 0);
        }

        function fn_mainAddMenuProd(mainAddMenuConfArr) {
            $.ajax({
                type: "POST",
                url: '/View/Main/Main.aspx/GetMainProd',
                data: '{STR_CODE : "' + globalStrCode + '",WEB_YN : "Y"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: true,
                success: function (response) {
                    var subMenuProArr = $.parseJSON(response.d);

                    var subMenuNo = ''
                    var prevSubMenuNo = '';
                    var subCnt = 0;
                    var rowCnt = 0;
                    var proCnt = 0;
                    var rowSeq = 0;
                    var colSeq = 0;
                    //1:상품의 개수가 Row * (5-1) 이상인 경우 ex) 3줄로 세팅되면 14개 이상의 상품이어야 함
                    //2:상품의 개수가 Row * (5-1) 미만인 경우
                    var rowType = 1;
                    for (var i = 0; i < subMenuProArr.length; i++) { //서브메뉴의 상품 리스트 
                        var appendHtml = ''
                        var object = subMenuProArr[i]
                        if ($("#sm_" + object.SUB_MENU_NO + " .goods_List li").length == 8) {
                            if (object.IMG_PATH != '이미지가 없습니다.') {
                                continue;
                            }
                        }
                        var liClass = "";

                        var favoriteClass = "favorite";
                        var badgeList = '';
                        var badgeFlagList = '';
                        var timerHtml = '';

                        if (object.STATUS_M_NONGHAL_YN == 'Y') {
                            badgeFlagList += '<i class="flag-item-tl icon-nonghal"></i>'
                        } else if (object.PRE_END_DATE != '') {
                            timerHtml += '<p class="remainTime type_reserve">'
                                + '<span class="preSaleTime" preendtime="' + object.PRE_END_DATE + '"></span>'
                                + '</p>';
                            badgeFlagList += '<i class="flag-item-tl icon-reserve">예약판매</i>'
                        } else if (object.EVT_END_TIME != '') {
                            timerHtml += '<p class="remainTime type_timesale">'
                                + '<span class="timeSaleTime" evtendtime="' + object.EVT_END_TIME + '"></span>'
                                + '</p>';
                            badgeFlagList += '<i class="flag-item-tl icon-timesale">타임세일</i>'
                        } else if (object.EVT_STOCK_YN == 'Y') {
                            badgeFlagList += '<i class="flag-item-tl icon-limit">한정특가</i>'
                        } else if (object.STATUS_M_RECOMMEND_YN == "Y") {
                            badgeFlagList += '<i class="flag-item-tl icon-recommend">다담몰 추천</i>'
                        }

                        if (object.BEST_YN == 'Y') badgeList += '<i class="badge-best">BEST</i>';
                        if (object.NEW_YN == "Y") {
                            badgeList += '<i class="badge-new">신상품</i>'
                        }
                        if (parseInt(object.CUR_INV_QTY) < 1) liClass += " soldout"

                        if (object.NEW_EVT_YN == 'Y') {
                            badgeFlagList += '<i class="flag-item-tr icon-newevent" style="height: 80px; top:-15px; border-radius: 0px;"></i>'
                        }
                        if (object.ORD_FLAG == "1") {
                            badgeFlagList += '<i class="flag-item-tr icon-special">특가</i>'
                        }
                        if (object.TPER_MTHD == "2") {
                            //tperMthd = '<em class="cold"><img src="../../images/icon/icon_cold.jpg" alt="냉동"></em>';
                            badgeList += '<i class="badge-cold">냉동</i>'
                        } else if (object.TPER_MTHD == "3") {
                            //tperMthd = '<em class="cool"><img src="../../images/icon/icon_cool.jpg" alt="냉장"></em>';
                            badgeList += '<i class="badge-cool">냉장</i>'
                        }

                        var bgImgPath = "";
                        var imgPath = "";

                        if (object.PRD_IMG_PATH == "") {
                            imgPath = "../../images/etc/noimage.jpg";
                        } else {
                            imgPath = getImg(object.PRD_IMG_PATH, 276, object.BUNDLE_YN);
                            bgImgPath = object.BG_IMG_PATH;
                            if (bgImgPath == null) bgImgPath = "";
                            var bgImgPathArr = bgImgPath.toString().split('.');
                            bgImgPath = bgImgPathArr[0];
                        }

                        var brandName = "";
                        if (object.BRAND_NAME != "") {
                            brandName = "[" + object.BRAND_NAME + "]"
                        } else if (object.MANUFACTURE_NAME != "") {
                            brandName = "[" + object.MANUFACTURE_NAME + "]";
                        }

                        if (object.LIKE_PRD_YN == "Y") {
                            favoriteClass = "favorite_ing";
                        }

                        //if (badgeList == '') {
                        //    badgeList = '<i class=""></i>'
                        //}

                        appendHtml += '<li class="' + liClass + '">' +
                            '<div class="itemBox">' +
                            '<div class="item-img"><a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                            '<img src = "' + imgPath + '" alt = "" onerror = "this.src=\'../../images/etc/noimage.jpg\'" >' +
                            '<div class="badge-flag">' +
                            badgeFlagList +
                            '</div>' +
                            timerHtml +
                            '</a> </div >' +  //< !--실제 상품 이미지 추가 - 누끼이미지를 등록해줘야 뒤에 배경이 보입니다.이미지는 최소  276 x 276 이상 사이즈 권장-- > ' +
                            '<div class="soldout">' +
                            '<p class="message">SOLD OUT</p>' +
                            '<button type="button" class="recall" onclick="javascript:addRestock(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')">재입고 알림</button>' +
                            '</div>' +
                            '<div class="orderMenu">' +
                            '<button type="button" class="cart" onclick="javascript:addCart(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')" >장바구니</button>' +
                            '<button type="button" class="' + favoriteClass + '" onclick="javascript:addLikePrd(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\', this)">찜하기</button>' +
                            '</div>' +
                            '</div>' +
                            '<div class="itemInfo">' +
                            '<a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                            '<p class="badge-flag">' +
                            badgeList +
                            '</p > ' +
                            '<div class="goods-name"><p class="goods-brand">' + brandName + '</p>' +
                            '<span class="goods-info">' + object.ITEM_NAME + '</span></div>' +
                            //'<p class="goods-name">' + brandName + '</p>' +
                            //'<p class="goods-info "><span class="overWrap">' + object.ITEM_NAME + '</span></p>' +
                            '<p class="goods-price">' + comma(object.PRICE) + '<span>원</span></p>' +
                            '</a>' +
                            '</div>' +
                            '</li>';

                        subMenuNo = object.SUB_MENU_NO;

                        if ($('#sm_' + subMenuNo + ' .goods_List li').length < 20) {

                            $("#sm_" + subMenuNo + " .goods_List").append(appendHtml);
                        }

                        //상품 구분 별 첫번째 항목일 때
                        if (subMenuNo != prevSubMenuNo) {
                            rowType = 1;
                            subCnt = 0;
                            rowSeq = 0;
                            colSeq = 0;
                            for (var j = 0; j < mainAddMenuConfArr.length; j++) {
                                if (mainAddMenuConfArr[j].SUB_MENU_NO == subMenuNo) {
                                    rowCnt = mainAddMenuConfArr[j].LINE_CNT;
                                    proCnt = mainAddMenuConfArr[j].PRO_CNT;
                                    if (proCnt > 0 && proCnt < rowCnt * 5) {
                                        rowType = 2
                                        break;
                                    }
                                }
                            }
                        }

                        //구분된 상품의 순번
                        subCnt++;

                        rowSeq = subCnt % rowCnt == 0 ? rowCnt : subCnt % rowCnt;
                        colSeq = parseInt((subCnt - 1) / rowCnt + 1);

                        //row를 채우면서 데이터를 넣는 경우, 마지막 row에 빈 li를 채움
                        if (rowType == 2 && rowSeq == (rowCnt - 1) && parseInt(rowSeq * 5 + colSeq) > proCnt) {
                            $("#sm_" + subMenuNo + " .goods_List").append("<li></li>");
                            subCnt++;
                        }

                        prevSubMenuNo = object.SUB_MENU_NO;
                    }

                    for (var i = 0; i < mainAddMenuConfArr.length; i++) {
                        var object = mainAddMenuConfArr[i]

                        if (object.MENU_TYPE == '5') {
                            if (object.IMG_PATH == '이미지가 없습니다.' || object.IMG_PATH == '') {
                                jQuery(".goods-slider-" + object.SUB_MENU_NO).not('.slick-initialized').slick({
                                    slidesToShow: 5,
                                    slidesToScroll: 5,
                                    infinite: true,
                                    variableWidth: true,
                                    rows: object.LINE_CNT

                                });

                                scalcStrWidthSlick('sm_' + object.SUB_MENU_NO);
                                // 20220609 유태희 메뉴 변경 추가 건 start 
                                if (object.LINE_CNT > 1) {
                                    $(".goods-slider-" + object.SUB_MENU_NO + " .slick-slide  li").each(function () {
                                        $(this).css({ "width": "" })
                                    })
                                    $(".goods-slider-" + object.SUB_MENU_NO + " .slick-slide").addClass("slick_row_2")
                                }
                            }
                        }
                    }
                },
                failure: function (response) {
                    console.log(response)
                },
                error: function (response) {
                    console.log(response)
                }
            });
        }

        function fn_setMainConfCookie(isAsync) {
            var returnVal = "";
            var mainValue = "";            //메인 구성 정보
            var mBannerValue = "";         //메인 배너 정보
            var sBannerValue = "";         //중간 배너 정보
            var bBannerValue = "";         //베스트 이미지 정보
            //현재 날짜시간 구하기
            var dtNow = new Date();
            var yearNow = String(dtNow.getFullYear());
            var monthNow = (dtNow.getMonth() + 1) < 10 ? ("0" + String(dtNow.getMonth() + 1)) : String(dtNow.getMonth() + 1);
            var dateNow = dtNow.getDate() < 10 ? ("0" + String(dtNow.getDate())) : String(dtNow.getDate());
            var hourNow = dtNow.getHours() < 10 ? ("0" + String(dtNow.getHours())) : String(dtNow.getHours());
            var minuteNow = dtNow.getMinutes() < 10 ? ("0" + String(dtNow.getMinutes())) : String(dtNow.getMinutes());
            vMainDate = yearNow + monthNow + dateNow + hourNow + minuteNow;

            //메인 구성을 가져옴
            $.ajax({
                type: "POST",
                url: '/View/Main/Main.aspx/GetMainConf',
                data: '{STR_CODE : "' + globalStrCode + '",WEB_YN : "Y"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: isAsync,
                success: function (response) {
                    var result = $.parseJSON(response.d);
                    var MainConfValue = ''
                    for (var i = 0; i < result.length; i++) {
                        MainConfValue = MainConfValue + result[i].SUB_MENU_NO + "∫" + result[i].MENU_TITLE + "∫" + result[i].MENU_TYPE + "∫" + result[i].IMG_PATH + "∫" + result[i].MENU_URL + "∫" + result[i].LINE_CNT + "∫" + result[i].PRO_CNT + "∫" + result[i].MANUAL_YN + "∬";
                    }
                    mainValue = MainConfValue.substr(0, MainConfValue.length - 1);

                    //메인의 배너 이미지 정보를 가져옴
                    $.ajax({
                        type: "POST",
                        url: '/View/Main/Main.aspx/SearchBannerSync',
                        data: '{STR_CODE : "' + globalStrCode + '", ITEM_DATA : "' + recentCookie + '"}',
                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        async: isAsync,
                        success: function (response) {
                            var responseArr = $.parseJSON(response.d);
                            var mainBanner = responseArr.Table;         //메인배너
                            var mediumBanner = responseArr.Table1;      //중간배너
                            var bestBanner = responseArr.Table2; // 식자제 베스트 배너 

                            for (var i = 0; i < mainBanner.length; i++) {
                                var object = mainBanner[i];
                                mBannerValue = mBannerValue + object.LINK_URL + "∫" + object.IMG_PATH + "∫" + object.PLAY_SECOND + "∬";
                            }
                            mBannerValue = mBannerValue.substr(0, mBannerValue.length - 1);

                            for (var i = 0; i < mediumBanner.length; i++) {
                                var object = mediumBanner[i];
                                sBannerValue = sBannerValue + object.LINK_URL + "∫" + object.IMG_PATH + "∬";
                            }
                            sBannerValue = sBannerValue.substr(0, sBannerValue.length - 1);

                            for (var i = 0; i < bestBanner.length; i++) {
                                var object = bestBanner[i];
                                bBannerValue = bBannerValue + object.LINK_URL + "∫" + object.IMG_PATH + "∬";
                            }
                            bBannerValue = bBannerValue.substr(0, bBannerValue.length - 1);

                            returnVal = vMainDate + "※" + mainValue + "※" + mBannerValue + "※" + sBannerValue + "※" + bBannerValue;
                            setCookie("cookieMain", returnVal, 365);
                        },
                        failure: function (response) {
                            console.log(response)
                        },
                        error: function (response) {
                            console.log(response)
                        }
                    });
                },
                failure: function (response) {
                    console.log(response)
                },
                error: function (response) {
                    console.log(response)
                }
            });

            return returnVal;
        }

        var recentCookie = getCookie('latelyProduct');
        $(document).ready(function () {
            setTimeSaleTimer()
            //$(".contWrap").empty()
            // 20220609 유태희 메인 메뉴 변경건 start

            htmlInitMain();

            // 20220609 유태희 메뉴 변경 추가 건 end 
            $("#btnAddRestock").click(function () {
                var scanCodeArr = [];
                var bundleyn = "";
                $(".restockProduct").each(function () {
                    scanCodeArr.push($(this).attr("data-scancode"));
                    bundleyn = $(this).attr("data-bundleyn");
                });

                if (scanCodeArr.length < 1) {
                    messageShow("재입고 알림 신청을 원하는 상품을 선택해야 합니다.");
                    return;
                }

                $.ajax({
                    type: "POST",
                    url: '/View/Main/Main.aspx/AddRestockRequest',
                    //data: '{STR_CODE : "' + globalStrCode + '", SCAN_CODE : "' + scanCodeArr + '"}',
                    data: JSON.stringify({ STR_CODE: globalStrCode, SCAN_CODE: scanCodeArr, BUNDLE_YN: bundleyn }),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {
                        var result = $.parseJSON(response.d);
                        if (parseInt(result) > 0) {
                            messageShow("재입고 알림 신청상품으로 등록되었습니다.");
                            jQuery(".pop2").css("display", "none");

                        } else {
                            messageShow("재입고 알림 등록이 실패하였습니다.");
                        }
                    },
                    failure: function (response) {
                        messageShow(response);
                    },
                    error: function (response) {
                        messageShow(response);
                    }
                });
            });

            //장바구니 팝업에서 취소 버튼을 클릭한 경우
            $("#btnCloseOrderBasket").click(function () {
                jQuery(".pop1").css("display", "none");
            });

            //장바구니 팝업에서 장바구니 담기 버튼을 클릭한 경우
            $("#btnAddOrderBasket").click(function () {
                // 20220609 성인인증 관련 변경 건  start 
                //if (adultcheck == "Y" && $("#hdnLoginId").val() == "") {
                //    messageShow("20세 이상 주문 가능 상품이며 회원가입 후 구매가능합니다.");
                //} else 
                // 20220609 성인인증 관련 변경 건  start 
                //if (adultcheck == "Y" && age <= 20) {
                //    messageShow("20세 이상부터 구매가능한 상품 입니다.");
                //} 
                var itemDataArr = "";
                //가공 축산 메모
                let ordMemo = "";
                ordMemo = $("input#cartDefaultValue2").data("option")

                $(".cartProduct").each(function () {
                    if ($(this).data('out') == 'N') {
                        var productScanCode = $(this).attr("data-scancode");
                        var productCnt = $(this).children(".optionLine").children(".countWrap").find("input").val();
                        var productPrice = $(this).attr("data-price");
                        var productImgPath = $(this).attr("data-imgpath");
                        var itemData = productScanCode + "|" + productCnt + "|" + ordMemo + "|" + productScanCode; // 현재 메인에서는 본 상품만 추가할 수 있기 대문에 부모코드 자신의 코드를 집어넣는다.

                        if (itemDataArr == "") {
                            itemDataArr += itemData;
                        } else {
                            itemDataArr = itemDataArr + "$" + itemData;
                        }
                    }
                });

                if (itemDataArr.length < 1) {
                    messageShow("장바구니 추가를 원하는 상품을 선택해야 합니다.");
                    return false;
                }

                addTopBasket(itemDataArr, "Y", "N"); //상품정보, 장바구니 선택여부, 주문하기 여부

                //$("input#cartDefaultValue").data("option", '');
                //상단 장바구니에 상품 정보 넣기
            });

            //즉시구매를 누른 경우
            $("#btnBuyInstance").click(function () {
                // 20220609 성인인증 관련 변경 건  start 
                //if (adultcheck == "Y" && $("#hdnLoginId").val() == "") {
                //    messageShow("20세 이상 주문 가능 상품이며 회원가입 후 구매가능합니다.");
                //} else 
                // 20220609 성인인증 관련 변경 건  start 
                if (adultcheck == "Y" && age <= 20) {
                    //messageShow("20세 이상부터 구매가능한 상품 입니다.");
                } else {
                    var itemDataArr = "";
                    //가공 축산 메모
                    let ordMemo = "";
                    ordMemo = $("input#cartDefaultValue2").data("option")

                    $(".cartProduct").each(function () {
                        var productScanCode = $(this).attr("data-scancode");
                        var productCnt = $(this).children(".optionLine").children(".countWrap").find("input").val();
                        var productPrice = $(this).attr("data-price");
                        var productImgPath = $(this).attr("data-imgpath");

                        var itemData = productScanCode + "|" + productCnt + "|" + ordMemo ; //상품스캔코드 + 개수를 변수로 만듬

                        if (itemDataArr == "") {
                            itemDataArr += itemData;
                        } else {
                            itemDataArr = itemDataArr + "$" + itemData;
                        }
                    });

                    if (itemDataArr.length < 1) {
                        messageShow("즉시구매를 원하는 상품을 선택해야 합니다.");
                        return false;
                    }
                    //$("input#cartDefaultValue").data("option", '');
                    //상단 장바구니에 상품 정보 넣고 주문하기 페이지로 이동
                    modTopBasketAll("N");
                    addTopBasket(itemDataArr, "Y", "Y"); //상품정보, 장바구니 선택여부, 주문하기 여부
                }
            });

            $(".favorite").click(function () {
                if (checkLogin()) {
                    $(this).attr("class", "favorite_ing");
                }
            });
        });

        function fn_mainProduct() {
            // 20220609 유태희 메인 메뉴 변경건 end
            //메인화면 조회
            $.ajax({
                type: "POST",
                url: '/View/Main/Main.aspx/SearchBannerAsync',
                data: '{STR_CODE : "' + globalStrCode + '", ITEM_DATA : "' + recentCookie + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {

                    var responseArr = $.parseJSON(response.d);
                    var mediumBanner = responseArr.Table;      //중간배너 B
                    var bestBanner = responseArr.Table1;        //베스트 상품 중 이달의 상품 배너 C
                    var campnProduct = responseArr.Table2;      //특가상품 D
                    var bestProduct = responseArr.Table3;       //베스트상품 (마트내에서 잘팔린 상품) E
                    var promotion = responseArr.Table4;         //기획전 F
                    var newProduct = responseArr.Table5;        //신상품 G
                    var saleBestPrd = responseArr.Table6;       //자주구매한상품 (고객별 잘팔린 상품 : 로그인시에만 나옴)
                    var recentlyViewPrd = responseArr.Table7;   //최근 본 상품

                    let appendHtml = '';

                    var subCnt = 0;
                    var rowCnt = 0;
                    var proCnt = 0;
                    var rowSeq = 0;
                    var colSeq = 0;
                    //1:상품의 개수가 Row * (5-1) 이상인 경우 ex) 3줄로 세팅되면 14개 이상의 상품이어야 함
                    //2:상품의 개수가 Row * (5-1) 미만인 경우
                    var rowType = 1;
                    /*
                    if (mediumBanner.length > 0) {
                        appendHtml = '';
                        for (var i = 0; i < mediumBanner.length; i++) {
                            var banner = mediumBanner[i]
                            appendHtml += '<div class="sub_banner">'
                                + '<a href="' + banner.LINK_URL + '">'
                                + ' <div class="sub_banner_tit">'
                                //+ '<div class="top_tit">'+ banner.CONTENTS1+'</div>'
                                //+ '<div class="main_tit">'+ banner.CONTENTS2+'</div>'
                                + '</div>'
                                //+ '<img src="../../images/sample/sub_banner_img1.png" alt="sub_banner_img">'
                                + '<img src="' + banner.IMG_PATH +'" onerror="this.src=\'../../images/sample/sub_banner_img1.png\'" >' // 운영, 테스트 서버용
                                + '<!--실제 이미지 경로에 맞게 수정-->'
                                + '</a>'
                                + '</div>';
                        }
                        $(".sub_banner_wrap").append(appendHtml);
 
                    }

                    if (bestBanner.length > 0) {
                        //$("#imgBestPrdBanner").attr("src", "../.." + bestBanner[0].IMG_PATH);
                        appendHtml = '<a href="' + bestBanner[0].LINK_URL + '&main=C' + '"><img src="../..' + bestBanner[0].IMG_PATH + '" alt=""></a>';
                        // appendHtml = '<a href="' + bestBanner[0].LINK_URL + '"><img src="../..' + bestBanner[0].IMG_PATH + '" onerror="this.src=\'../../images/etc/noimage.jpg\'" alt=""></a>';
                        $("#divBestPrdBanner").append(appendHtml);
                    }
                    */
                    if (campnProduct.length > 0) {
                        //변수 초기화
                        appendHtml = '';
                        rowType = 1;
                        subCnt = 0;
                        rowSeq = 0;
                        colSeq = 0;
                        rowCnt = $("#sm_100005").attr("data-lineCnt");
                        proCnt = campnProduct.length;
                        rowCnt = parseInt(rowCnt) > (parseInt((proCnt - 1) / 5) + 1) ? (parseInt((proCnt - 1) / 5) + 1) : parseInt(rowCnt);

                        for (var i = 0; i < sliderConfig.length; i++) {
                            if (sliderConfig[i].subMenuNo == "100005") {
                                sliderConfig[i].lineCnt = rowCnt
                                break;
                            }
                        }

                        if (proCnt > 0 && proCnt < rowCnt * 5) {
                            rowType = 2
                        }

                        for (var i = 0; i < campnProduct.length; i++) {
                            appendHtml = '';
                            var liClass = "sale";
                            var tperMthd = "";
                            var object = campnProduct[i]
                            var favoriteClass = "favorite";

                            var badgeList = '';
                            var badgeFlagList = '';
                            var timerHtml = '';

                            if (object.STATUS_NONGHAL_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tl icon-nonghal"></i>'
                            } else if (object.PRE_END_DATE != '') {
                                timerHtml += '<p class="remainTime type_reserve">'
                                    + '<span class="preSaleTime" preendtime="' + object.PRE_END_DATE + '"></span>'
                                    + '</p>';
                                badgeFlagList += '<i class="flag-item-tl icon-reserve">예약판매</i>'
                            } else if (object.EVT_END_TIME != '') {
                                timerHtml += '<p class="remainTime type_timesale">'
                                    + '<span class="timeSaleTime" evtendtime="' + object.EVT_END_TIME + '"></span>'
                                    + '</p>';
                                badgeFlagList += '<i class="flag-item-tl icon-timesale">타임세일</i>'
                            } else if (object.EVT_STOCK_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tl icon-limit">한정특가</i>'
                            } else if (object.STATUS_RECOMMEND_YN == "Y") {
                                badgeFlagList += '<i class="flag-item-tl icon-recommend">다담몰 추천</i>'
                            }


                            if (object.BEST_YN == 'Y') badgeList += '<i class="badge-best">BEST</i>';
                            if (object.NEW_YN == "Y") {
                                badgeList += '<i class="badge-new">신상품</i>'
                            }
                            if (parseInt(object.CUR_INV_QTY) < 1) liClass += " soldout"

                            if (object.NEW_EVT_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tr icon-newevent" style="height: 80px; top:-15px; border-radius: 0px;"></i>'
                            }
                            if (object.ORD_FLAG == "1") {
                                badgeFlagList += '<i class="flag-item-tr icon-special">특가</i>'
                            }
                            if (object.TPER_MTHD == "2") {
                                //tperMthd = '<em class="cold"><img src="../../images/icon/icon_cold.jpg" alt="냉동"></em>';
                                badgeList += '<i class="badge-cold">냉동</i>'
                            } else if (object.TPER_MTHD == "3") {
                                //tperMthd = '<em class="cool"><img src="../../images/icon/icon_cool.jpg" alt="냉장"></em>';
                                badgeList += '<i class="badge-cool">냉장</i>'
                            }


                            var bgImgPath = "";
                            var imgPath = "";

                            if (campnProduct[i].PRD_IMG_PATH == "") {
                                imgPath = "../../images/etc/noimage.jpg";
                            } else {

                                imgPath = getImg(campnProduct[i].PRD_IMG_PATH, 276, campnProduct[i].BUNDLE_YN);
                                bgImgPath = campnProduct[i].BG_IMG_PATH;
                                if (bgImgPath == null) bgImgPath = "";
                                var bgImgPathArr = bgImgPath.toString().split('.');
                                bgImgPath = bgImgPathArr[0];
                            }

                            var brandName = "";
                            if (campnProduct[i].BRAND_NAME != "") {
                                brandName = "[" + campnProduct[i].BRAND_NAME + "]";
                            } else if (campnProduct[i].MANUFACTURE_NAME !="") {
                                brandName = "[" + campnProduct[i].MANUFACTURE_NAME +"]";
                            }

                            if (campnProduct[i].LIKE_PRD_YN == "Y") {
                                favoriteClass = "favorite_ing";
                            }

                            //if (badgeList == '') {
                            //    badgeList = '<i class=""></i>'
                            //}

                            appendHtml += '<li class="' + liClass + '">' +
                                '<div class="itemBox">' +
                                '<div class="item-img"><a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                                '<img src = "' + imgPath + '" alt = "" onerror = "this.src=\'../../images/etc/noimage.jpg\'" >' +
                                '<div class="badge-flag">' +
                                badgeFlagList +
                                '</div>' +
                                timerHtml +
                                '</a> </div >' +  //< !--실제 상품 이미지 추가 - 누끼이미지를 등록해줘야 뒤에 배경이 보입니다.이미지는 최소  276 x 276 이상 사이즈 권장-- > ' +
                                '<div class="soldout">' +
                                '<p class="message">SOLD OUT</p>' +
                                '<button type="button" class="recall" onclick="javascript:addRestock(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')">재입고 알림</button>' +
                                '</div>' +
                                '<div class="orderMenu">' +
                                '<button type="button" class="cart" onclick="javascript:addCart(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')" >장바구니</button>' +
                                '<button type="button" class="' + favoriteClass + '" onclick="javascript:addLikePrd(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\', this)">찜하기</button>' +
                                '</div>' +
                                '</div>' +
                                '<div class="itemInfo">' +
                                '<a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                                '<p class="badge-flag">' +
                                badgeList +
                                '</p > ' +
                                '<div class="goods-name"><p class="goods-brand">' + brandName + '</p>' +
                                '<span class="goods-info">' + object.ITEM_NAME + '</span></div>' +
                                //'<p class="goods-name">' + brandName + '</p>' +
                                //'<p class="goods-info "><span class="overWrap">' + object.ITEM_NAME + '</span></p>' +
                                '<p class="goods-price">' + comma(object.PRICE) + '<span>원</span></p>' +
                                '</a>' +
                                '</div>' +
                                '</li>';

                            //구분된 상품의 순번
                            subCnt++;

                            rowSeq = subCnt % rowCnt == 0 ? rowCnt : subCnt % rowCnt;
                            colSeq = parseInt((subCnt - 1) / rowCnt + 1);

                            //row를 채우면서 데이터를 넣는 경우, 마지막 row에 빈 li를 채움
                            if (rowType == 2 && rowSeq == (rowCnt - 1) && parseInt(rowSeq * 5 + colSeq) > proCnt) {
                                appendHtml += "<li></li>";
                                subCnt++;
                            }

                            if ($('#sm_100005 li').length < 20) {

                                $("#sm_100005").append(appendHtml);
                            }
                        }
                        //$("#campnProductList").append(appendHtml);
                        // 20220609 유태희 메뉴 변경 추가 건 start 
                        //$("#sm_100005").append(appendHtml)
                        // 20220609 유태희 메뉴 변경 추가 건 end

                        scalcStrWidthSlick('sm_100005');

                    } else {
                        $(".specialPriceWrap").css("display", "none");
                    }

                    if (bestProduct.length > 0) {
                        appendHtml = '';
                        for (var i = 0; i < bestProduct.length; i++) {
                            appendHtml = '';
                            var liClass = "";
                            var tperMthd = "";
                            var favoriteClass = "favorite";
                            var object = bestProduct[i];
                            var badgeList = '';
                            var badgeFlagList = '';
                            var timerHtml = '';

                            if (object.STATUS_NONGHAL_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tl icon-nonghal"></i>'
                            } else if (object.PRE_END_DATE != '') {
                                timerHtml += '<p class="remainTime type_reserve">'
                                    + '<span class="preSaleTime" preendtime="' + object.PRE_END_DATE + '"></span>'
                                    + '</p>';
                                badgeFlagList += '<i class="flag-item-tl icon-reserve">예약판매</i>'
                            } else if (object.EVT_END_TIME != '') {
                                timerHtml += '<p class="remainTime type_timesale">'
                                    + '<span class="timeSaleTime" evtendtime="' + object.EVT_END_TIME + '"></span>'
                                    + '</p>';
                                badgeFlagList += '<i class="flag-item-tl icon-timesale">타임세일</i>'
                            } else if (object.EVT_STOCK_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tl icon-limit">한정특가</i>'
                            } else if (object.STATUS_RECOMMEND_YN == "Y") {
                                badgeFlagList += '<i class="flag-item-tl icon-recommend">다담몰 추천</i>'
                            }

                            if (object.BEST_YN == 'Y') badgeList += '<i class="badge-best">BEST</i>';
                            if (object.NEW_YN == "Y") {
                                badgeList += '<i class="badge-new">신상품</i>'
                            }
                            if (parseInt(object.CUR_INV_QTY) < 1) liClass += " soldout"

                            if (object.NEW_EVT_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tr icon-newevent" style="height: 80px; top:-15px; border-radius: 0px;"></i>'
                            }
                            if (object.ORD_FLAG == "1") {
                                badgeFlagList += '<i class="flag-item-tr icon-special">특가</i>'
                            }
                            if (object.TPER_MTHD == "2") {
                                //tperMthd = '<em class="cold"><img src="../../images/icon/icon_cold.jpg" alt="냉동"></em>';
                                badgeList += '<i class="badge-cold">냉동</i>'
                            } else if (object.TPER_MTHD == "3") {
                                //tperMthd = '<em class="cool"><img src="../../images/icon/icon_cool.jpg" alt="냉장"></em>';
                                badgeList += '<i class="badge-cool">냉장</i>'
                            }


                            var bgImgPath = "";
                            var imgPath = "";

                            if (object.PRD_IMG_PATH == "") {
                                imgPath = "../../images/etc/noimage.jpg";
                            } else {

                                imgPath = getImg(object.PRD_IMG_PATH, 276, object.BUNDLE_YN);
                                bgImgPath = object.BG_IMG_PATH;
                                if (bgImgPath == null) bgImgPath = "";
                                var bgImgPathArr = bgImgPath.toString().split('.');
                                bgImgPath = bgImgPathArr[0];
                            }

                            var brandName = "";
                            if (object.BRAND_NAME != "") {
                                brandName = "[" + object.BRAND_NAME + "]";
                            } else if (object.MANUFACTURE_NAME != "") {
                                brandName = "[" + object.MANUFACTURE_NAME + "]";
                            }

                            if (object.LIKE_PRD_YN == "Y") {
                                favoriteClass = "favorite_ing";
                            }
                            //if (badgeList == '') {
                            //    badgeList = '<i class=""></i>'
                            //}

                            appendHtml += '<li class="' + liClass + '">' +
                                '<div class="itemBox">' +
                                '<div class="item-img"><a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                                '<img src = "' + imgPath + '" alt = "" onerror = "this.src=\'../../images/etc/noimage.jpg\'" >' +
                                '<div class="badge-flag">' +
                                badgeFlagList +
                                '</div>' +
                                timerHtml +
                                '</a> </div >' +  //< !--실제 상품 이미지 추가 - 누끼이미지를 등록해줘야 뒤에 배경이 보입니다.이미지는 최소  276 x 276 이상 사이즈 권장-- > ' +
                                '<div class="soldout">' +
                                '<p class="message">SOLD OUT</p>' +
                                '<button type="button" class="recall" onclick="javascript:addRestock(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')">재입고 알림</button>' +
                                '</div>' +
                                '<div class="orderMenu">' +
                                '<button type="button" class="cart" onclick="javascript:addCart(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')" >장바구니</button>' +
                                '<button type="button" class="' + favoriteClass + '" onclick="javascript:addLikePrd(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\', this)">찜하기</button>' +
                                '</div>' +
                                '</div>' +
                                '<div class="itemInfo">' +
                                '<a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                                '<p class="badge-flag">' +
                                badgeList +
                                '</p > ' +
                                '<div class="goods-name"><p class="goods-brand">' + brandName + '</p>' +
                                '<span class="goods-info">' + object.ITEM_NAME + '</span></div>' +
                                //'<p class="goods-name">' + brandName + '</p>' +
                                //'<p class="goods-info "><span class="overWrap">' + object.ITEM_NAME + '</span></p>' +
                                '<p class="goods-price">' + comma(object.PRICE) + '<span>원</span></p>' +
                                '</a>' +
                                '</div>' +
                                '</li>';

                            if ($('#bestProductList li').length < 20) {

                                $("#bestProductList").append(appendHtml);
                            }


                        }
                        //$("#bestProductList").append(appendHtml);

                        scalcStrWidthSlick('bestProductList');
                    } else {
                        $(".bannerAndBestWrap").css("display", "none");
                    }

                    if (promotion.length > 0) {

                    } else {
                        $("#promotionList").css("display", "none");
                    }

                    if (newProduct.length > 0) {
                        appendHtml = '';
                        rowType = 1;
                        subCnt = 0;
                        rowSeq = 0;
                        colSeq = 0;
                        rowCnt = $("#sm_100006").attr("data-lineCnt");
                        proCnt = newProduct.length;
                        rowCnt = parseInt(rowCnt) > (parseInt((proCnt - 1) / 5) + 1) ? (parseInt((proCnt - 1) / 5) + 1) : parseInt(rowCnt);

                        for (var i = 0; i < sliderConfig.length; i++) {
                            if (sliderConfig[i].subMenuNo == "100006") {
                                sliderConfig[i].lineCnt = rowCnt
                                break;
                            }
                        }

                        if (proCnt > 0 && proCnt < rowCnt * 5) {
                            rowType = 2
                        }

                        for (var i = 0; i < newProduct.length; i++) {
                            appendHtml = '';
                            var liClass = "";
                            var tperMthd = "";
                            var object = newProduct[i]
                            var favoriteClass = "favorite";

                            var badgeList = '';
                            var badgeFlagList = '';
                            var timerHtml = '';

                            if (object.STATUS_NONGHAL_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tl icon-nonghal"></i>'
                            } else if (object.PRE_END_DATE != '') {
                                timerHtml += '<p class="remainTime type_reserve">'
                                    + '<span class="preSaleTime" preendtime="' + object.PRE_END_DATE + '"></span>'
                                    + '</p>';
                                badgeFlagList += '<i class="flag-item-tl icon-reserve">예약판매</i>'
                            } else if (object.EVT_END_TIME != '') {
                                timerHtml += '<p class="remainTime type_timesale">'
                                    + '<span class="timeSaleTime" evtendtime="' + object.EVT_END_TIME + '"></span>'
                                    + '</p>';
                                badgeFlagList += '<i class="flag-item-tl icon-timesale">타임세일</i>'
                            } else if (object.EVT_STOCK_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tl icon-limit">한정특가</i>'
                            } else if (object.STATUS_RECOMMEND_YN == "Y") {
                                badgeFlagList += '<i class="flag-item-tl icon-recommend">다담몰 추천</i>'
                            }

                            if (object.BEST_YN == 'Y') badgeList += '<i class="badge-best">BEST</i>';
                            if (object.NEW_YN == "Y") {
                                badgeList += '<i class="badge-new">신상품</i>'
                            }
                            if (parseInt(object.CUR_INV_QTY) < 1) liClass += " soldout"

                            if (object.NEW_EVT_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tr icon-newevent" style="height: 80px; top:-15px; border-radius: 0px;"></i>'
                            }
                            if (object.ORD_FLAG == "1") {
                                badgeFlagList += '<i class="flag-item-tr icon-special">특가</i>'
                            }
                            if (object.TPER_MTHD == "2") {
                                //tperMthd = '<em class="cold"><img src="../../images/icon/icon_cold.jpg" alt="냉동"></em>';
                                badgeList += '<i class="badge-cold">냉동</i>'
                            } else if (object.TPER_MTHD == "3") {
                                //tperMthd = '<em class="cool"><img src="../../images/icon/icon_cool.jpg" alt="냉장"></em>';
                                badgeList += '<i class="badge-cool">냉장</i>'
                            }

                            var bgImgPath = "";
                            var imgPath = "";

                            if (object.PRD_IMG_PATH == "") {
                                imgPath = "../../images/etc/noimage.jpg";
                            } else {

                                imgPath = getImg(object.PRD_IMG_PATH, 276, object.BUNDLE_YN);
                                bgImgPath = object.BG_IMG_PATH;
                                if (bgImgPath == null) bgImgPath = "";
                                var bgImgPathArr = bgImgPath.toString().split('.');
                                bgImgPath = bgImgPathArr[0];
                            }

                            var brandName = "";
                            if (object.BRAND_NAME != "") {
                                brandName = "[" + object.BRAND_NAME + "]";
                            } else if (object.MANUFACTURE_NAME != "") {
                                brandName = "[" + object.MANUFACTURE_NAME + "]";
                            }

                            if (object.LIKE_PRD_YN == "Y") {
                                favoriteClass = "favorite_ing";
                            }


                            appendHtml += '<li class="' + liClass + '">' +
                                '<div class="itemBox">' +
                                '<div class="item-img"><a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                                '<img src = "' + imgPath + '" alt = "" onerror = "this.src=\'../../images/etc/noimage.jpg\'" >' +
                                '<div class="badge-flag">' +
                                badgeFlagList +
                                '</div>' +
                                timerHtml +
                                '</a> </div >' +  //< !--실제 상품 이미지 추가 - 누끼이미지를 등록해줘야 뒤에 배경이 보입니다.이미지는 최소  276 x 276 이상 사이즈 권장-- > ' +
                                '<div class="soldout">' +
                                '<p class="message">SOLD OUT</p>' +
                                '<button type="button" class="recall" onclick="javascript:addRestock(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')">재입고 알림</button>' +
                                '</div>' +
                                '<div class="orderMenu">' +
                                '<button type="button" class="cart" onclick="javascript:addCart(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')" >장바구니</button>' +
                                '<button type="button" class="' + favoriteClass + '" onclick="javascript:addLikePrd(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\', this)">찜하기</button>' +
                                '</div>' +
                                '</div>' +
                                '<div class="itemInfo">' +
                                '<a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                                '<p class="badge-flag">' +
                                badgeList +
                                '</p > ' +
                                '<div class="goods-name"><p class="goods-brand">' + brandName + '</p>' +
                                '<span class="goods-info">' + object.ITEM_NAME + '</span></div>' +
                                //'<p class="goods-name">' + brandName + '</p>' +
                                //'<p class="goods-info "><span class="overWrap">' + object.ITEM_NAME + '</span></p>' +
                                '<p class="goods-price">' + comma(object.PRICE) + '<span>원</span></p>' +
                                '</a>' +
                                '</div>' +
                                '</li>';

                            //구분된 상품의 순번
                            subCnt++;

                            rowSeq = subCnt % rowCnt == 0 ? rowCnt : subCnt % rowCnt;
                            colSeq = parseInt((subCnt - 1) / rowCnt + 1);

                            //row를 채우면서 데이터를 넣는 경우, 마지막 row에 빈 li를 채움
                            if (rowType == 2 && rowSeq == (rowCnt - 1) && parseInt(rowSeq * 5 + colSeq) > proCnt) {
                                appendHtml += "<li></li>";
                                subCnt++;
                            }

                            if ($('#sm_100006 li').length < 20) {

                                $("#sm_100006").append(appendHtml);
                            }
                        }
                        //$("#newProductList").append(appendHtml);
                        // 20220609 유태희 메뉴 변경 추가 건 start 
                        //$("#sm_100006").append(appendHtml)
                        // 20220609 유태희 메뉴 변경 추가 건 start 

                        scalcStrWidthSlick('sm_100006');

                    } else {
                        $(".newproducWrap").css("display", "none");
                    }

                    if (saleBestPrd.length > 0) {
                        appendHtml = '';
                        for (var i = 0; i < saleBestPrd.length; i++) {
                            var liClass = "";
                            var tperMthd = "";
                            var object = saleBestPrd[i]
                            var favoriteClass = "favorite";

                            var badgeList = '';
                            var badgeFlagList = '';
                            var timerHtml = '';

                            if (object.STATUS_NONGHAL_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tl icon-nonghal"></i>'
                            } else if (object.PRE_END_DATE != '') {
                                timerHtml += '<p class="remainTime type_reserve">'
                                    + '<span class="preSaleTime" preendtime="' + object.PRE_END_DATE + '"></span>'
                                    + '</p>';
                                badgeFlagList += '<i class="flag-item-tl icon-reserve">예약판매</i>'
                            } else if (object.EVT_END_TIME != '') {
                                timerHtml += '<p class="remainTime type_timesale">'
                                    + '<span class="timeSaleTime" evtendtime="' + object.EVT_END_TIME + '"></span>'
                                    + '</p>';
                                badgeFlagList += '<i class="flag-item-tl icon-timesale">타임세일</i>'
                            } else if (object.EVT_STOCK_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tl icon-limit">한정특가</i>'
                            } else if (object.STATUS_RECOMMEND_YN == "Y") {
                                badgeFlagList += '<i class="flag-item-tl icon-recommend">다담몰 추천</i>'
                            }

                            if (object.BEST_YN == 'Y') badgeList += '<i class="badge-best">BEST</i>';
                            if (object.NEW_YN == "Y") {
                                badgeList += '<i class="badge-new">신상품</i>'
                            }
                            if (parseInt(object.CUR_INV_QTY) < 1) liClass += " soldout"

                            if (object.NEW_EVT_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tr icon-newevent" style="height: 80px; top:-15px; border-radius: 0px;"></i>'
                            }
                            if (object.ORD_FLAG == "1") {
                                badgeFlagList += '<i class="flag-item-tr icon-special">특가</i>'
                            }
                            if (object.TPER_MTHD == "2") {
                                //tperMthd = '<em class="cold"><img src="../../images/icon/icon_cold.jpg" alt="냉동"></em>';
                                badgeList += '<i class="badge-cold">냉동</i>'
                            } else if (object.TPER_MTHD == "3") {
                                //tperMthd = '<em class="cool"><img src="../../images/icon/icon_cool.jpg" alt="냉장"></em>';
                                badgeList += '<i class="badge-cool">냉장</i>'
                            }


                            var bgImgPath = "";
                            var imgPath = "";

                            if (object.PRD_IMG_PATH == "") {
                                imgPath = "../../images/etc/noimage.jpg";
                            } else {

                                imgPath = getImg(object.PRD_IMG_PATH, 276, object.BUNDLE_YN);
                                bgImgPath = object.BG_IMG_PATH;
                                if (bgImgPath == null) bgImgPath = "";
                                var bgImgPathArr = bgImgPath.toString().split('.');
                                bgImgPath = bgImgPathArr[0];
                            }

                            var brandName = "";
                            if (object.BRAND_NAME != "") {
                                brandName = "[" + object.BRAND_NAME + "]";
                            } else if (object.MANUFACTURE_NAME != "") {
                                brandName = "[" + object.MANUFACTURE_NAME + "]";
                            }

                            if (object.LIKE_PRD_YN == "Y") {
                                favoriteClass = "favorite_ing";
                            }


                            appendHtml += '<li class="' + liClass + '">' +
                                '<div class="itemBox">' +
                                '<div class="item-img"><a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                                '<img src = "' + imgPath + '" alt = "" onerror = "this.src=\'../../images/etc/noimage.jpg\'" >' +
                                '<div class="badge-flag">' +
                                badgeFlagList +
                                '</div>' +
                                timerHtml +
                                '</a> </div >' +  //< !--실제 상품 이미지 추가 - 누끼이미지를 등록해줘야 뒤에 배경이 보입니다.이미지는 최소  276 x 276 이상 사이즈 권장-- > ' +
                                '<div class="soldout">' +
                                '<p class="message">SOLD OUT</p>' +
                                '<button type="button" class="recall" onclick="javascript:addRestock(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')">재입고 알림</button>' +
                                '</div>' +
                                '<div class="orderMenu">' +
                                '<button type="button" class="cart" onclick="javascript:addCart(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')" >장바구니</button>' +
                                '<button type="button" class="' + favoriteClass + '" onclick="javascript:addLikePrd(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\', this)">찜하기</button>' +
                                '</div>' +
                                '</div>' +
                                '<div class="itemInfo">' +
                                '<a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                                '<p class="badge-flag">' +
                                badgeList +
                                '</p > ' +
                                '<div class="goods-name"><p class="goods-brand">' + brandName + '</p>' +
                                '<span class="goods-info">' + object.ITEM_NAME + '</span></div>' +
                                //'<p class="goods-name">' + brandName + '</p>' +
                                //'<p class="goods-info "><span class="overWrap">' + object.ITEM_NAME + '</span></p>' +
                                '<p class="goods-price">' + comma(object.PRICE) + '<span>원</span></p>' +
                                '</a>' +
                                '</div>' +
                                '</li>';

                            if ($('#saleBestPrdList li').length < 20) {

                                $("#saleBestPrdList").append(appendHtml);
                            }
                        }
                        //$("#saleBestPrdList").append(appendHtml);

                        scalcStrWidthSlick('saleBestPrdList');
                    } else {
                        $("#saleBestPrdList").remove();
                    }

                    //쿠키로 최근에 본 상품 리스트 조회해야함 
                    //현재는 그냥 삭제 처리함
                    if (recentlyViewPrd.length > 0) {
                        appendHtml = '';
                        for (var i = 0; i < recentlyViewPrd.length; i++) {
                            appendHtml = '';
                            var liClass = "";
                            var tperMthd = "";
                            var object = recentlyViewPrd[i]
                            var favoriteClass = "favorite";

                            var badgeList = '';
                            var badgeFlagList = '';
                            var timerHtml = '';

                            if (object.STATUS_NONGHAL_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tl icon-nonghal"></i>'
                            } else if (object.PRE_END_DATE != '') {
                                timerHtml += '<p class="remainTime type_reserve">'
                                    + '<span class="preSaleTime" preendtime="' + object.PRE_END_DATE + '"></span>'
                                    + '</p>';
                                badgeFlagList += '<i class="flag-item-tl icon-reserve">예약판매</i>'
                            } else if (object.EVT_END_TIME != '') {
                                timerHtml += '<p class="remainTime type_timesale">'
                                    + '<span class="timeSaleTime" evtendtime="' + object.EVT_END_TIME + '"></span>'
                                    + '</p>';
                                badgeFlagList += '<i class="flag-item-tl icon-timesale">타임세일</i>'
                            } else if (object.EVT_STOCK_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tl icon-limit">한정특가</i>'
                            } else if (object.STATUS_RECOMMEND_YN == "Y") {
                                badgeFlagList += '<i class="flag-item-tl icon-recommend">다담몰 추천</i>'
                            }

                            if (object.BEST_YN == 'Y') badgeList += '<i class="badge-best">BEST</i>';
                            if (object.NEW_YN == "Y") {
                                badgeList += '<i class="badge-new">신상품</i>'
                            }
                            if (parseInt(object.CUR_INV_QTY) < 1) liClass += " soldout"

                            if (object.NEW_EVT_YN == 'Y') {
                                badgeFlagList += '<i class="flag-item-tr icon-newevent" style="height: 80px; top:-15px; border-radius: 0px;"></i>'
                            }
                            if (object.ORD_FLAG == "1") {
                                badgeFlagList += '<i class="flag-item-tr icon-special">특가</i>'
                            }
                            if (object.TPER_MTHD == "2") {
                                //tperMthd = '<em class="cold"><img src="../../images/icon/icon_cold.jpg" alt="냉동"></em>';
                                badgeList += '<i class="badge-cold">냉동</i>'
                            } else if (object.TPER_MTHD == "3") {
                                //tperMthd = '<em class="cool"><img src="../../images/icon/icon_cool.jpg" alt="냉장"></em>';
                                badgeList += '<i class="badge-cool">냉장</i>'
                            }


                            var bgImgPath = "";
                            var imgPath = "";

                            if (object.PRD_IMG_PATH == "") {
                                imgPath = "../../images/etc/noimage.jpg";
                            } else {


                                imgPath = getImg(object.PRD_IMG_PATH, 276, object.BUNDLE_YN);
                                bgImgPath = object.BG_IMG_PATH;
                                if (bgImgPath == null) bgImgPath = "";
                                var bgImgPathArr = bgImgPath.toString().split('.');
                                bgImgPath = bgImgPathArr[0];
                            }

                            var brandName = "";
                            if (object.BRAND_NAME != "") {
                                brandName = "[" + object.BRAND_NAME + "]";
                            } else if (object.MANUFACTURE_NAME != "") {
                                brandName = "[" + object.MANUFACTURE_NAME + "]";
                            }

                            if (object.LIKE_PRD_YN == "Y") {
                                favoriteClass = "favorite_ing";
                            }


                            appendHtml += '<li class="' + liClass + '">' +
                                '<div class="itemBox">' +
                                '<div class="item-img"><a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                                '<img src = "' + imgPath + '" alt = "" onerror = "this.src=\'../../images/etc/noimage.jpg\'" >' +
                                '<div class="badge-flag">' +
                                badgeFlagList +
                                '</div>' +
                                timerHtml +
                                '</a> </div >' +  //< !--실제 상품 이미지 추가 - 누끼이미지를 등록해줘야 뒤에 배경이 보입니다.이미지는 최소  276 x 276 이상 사이즈 권장-- > ' +
                                '<div class="soldout">' +
                                '<p class="message">SOLD OUT</p>' +
                                '<button type="button" class="recall" onclick="javascript:addRestock(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')">재입고 알림</button>' +
                                '</div>' +
                                '<div class="orderMenu">' +
                                '<button type="button" class="cart" onclick="javascript:addCart(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')" >장바구니</button>' +
                                '<button type="button" class="' + favoriteClass + '" onclick="javascript:addLikePrd(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\', this)">찜하기</button>' +
                                '</div>' +
                                '</div>' +
                                '<div class="itemInfo">' +
                                '<a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                                '<p class="badge-flag">' +
                                badgeList +
                                '</p > ' +
                                '<div class="goods-name"><p class="goods-brand">' + brandName + '</p>' +
                                '<span class="goods-info">' + object.ITEM_NAME + '</span></div>' +
                                //'<p class="goods-name">' + brandName + '</p>' +
                                //'<p class="goods-info "><span class="overWrap">' + object.ITEM_NAME + '</span></p>' +
                                '<p class="goods-price">' + comma(object.PRICE) + '<span>원</span></p>' +
                                '</a>' +
                                '</div>' +
                                '</li>';
                            if ($('#recentlyViewPrdList li').length < 20) {

                                $("#recentlyViewPrdList").append(appendHtml);
                            }
                        }
                        /*$("#recentlyViewPrdList").append(appendHtml);*/

                        scalcStrWidthSlick('recentlyViewPrdList');
                    } else {
                        $("#recentlyViewPrdList").remove();
                    }

                },
                failure: function (response) {
                    //messageShow(response);
                },
                error: function (response) {
                    //messageShow(response);
                }, complete: function (response) {
                    asycnSlick()
                    // 20220609 유태희 메뉴 변경 추가 건 start 
                    var lineCnt = 0
                    var subMenuNo = ''
                    for (var i = 0; i < sliderConfig.length; i++) {
                        var info = sliderConfig[i]
                        if (info.menuType == "5") continue;
                        subMenuNo = info.subMenuNo
                        //setSlick(info.subMenuNo, info.lineCnt)
                        lineCnt = info.lineCnt
                        jQuery(".goods-slider-" + subMenuNo).slick({
                            slidesToShow: 5,
                            slidesToScroll: 5,
                            infinite: true,
                            variableWidth: true,
                            rows: info.lineCnt

                        });
                        // 20220609 유태희 메뉴 변경 추가 건 start 
                        if (lineCnt > 1) {

                            $(".goods-slider-" + subMenuNo + " .slick-slide  li").each(function () {
                                $(this).css({ "width": "" })
                            })
                            $(".goods-slider-" + subMenuNo + " .slick-slide").addClass("slick_row_2")
                        }

                    }
                }
            });
        }

        // 20220609 유태희 메뉴 변경 추가 건 start 
        function asycnSlick() {
            let options = {
                slidesToShow: 3,
                slidesToScroll: 1,
                variableWidth: true
            }

            $(".goods-slider-specail").slick(options)
            $(".goods-slider-best").slick(options)
            $(".goods-slider-new").slick(options)
            $(".goods-slider-recently").slick(options)
            $(".goods-slider-favorit").slick(options)
        }

        function setSlick(subMenuNo, lineCnt) {
            console.log(subMenuNo, lineCnt)
            var options = {
                slidesToShow: 5,
                slidesToScroll: 5,
                infinite: true,
                variableWidth: true,
                row: 3
            }

            $(".goods-slider-" + subMenuNo).slick(options);
        }


        function addLikePrd(SCAN_CODE, BUNDLE_YN, el) {
            //messageShow(SCAN_CODE);
            if ($("#hdnLoginId").val() == "") {
                messageShow("관심상품 등록은 로그인 이 후 등록 가능합니다.");
                return;
            }

            var btnClass = $(el).attr('class');

            $.ajax({
                type: "POST",
                url: '/View/Main/Main.aspx/AddLikePrd',
                data: '{SCAN_CODE : "' + SCAN_CODE + '", BUNDLE_YN : "' + BUNDLE_YN + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    var result = $.parseJSON(response.d);
                    var common = result.Table[0];
                    var tag = common.TAG
                    var category = common.CATEGORY;
                    var brand = common.BRAND_NAME ? common.BRAND_NAME : common.MANUFACTURE_NAME;
                    var product_id = common.SCAN_CODE;
                    var product_name = common.ITEM_NAME;
                    var product_image_url = 'https://www.dadammall.co.kr/Upload/Product/original/' + common.PRD_IMG_PATH;
                    var product_url = encodeURI('https://www.dadammall.co.kr/View/Product/Detail?item=' + product_id + '&' + 'bundle=' + BUNDLE_YN);
                    var product_price = common.BASE_SPRC;

                    if (tag == "1") {

                        var imgClass = btnClass;
                        if (imgClass == 'favorite')
                            $(el).attr('class', 'favorite_ing');
                        else if (imgClass == 'zzim')
                            $(el).attr('class', 'zzim_ing');

                        $(".alertPop").css("width", "550px;");

                        messageShow("관심상품으로 등록하였습니다.");

                        if (category.split(">").length >= 2) {
                            // Recopick
                            recoPick('sendLog', 'like', { id: product_id, c1: category.split(">")[0], c2: category.split(">")[1] });
                            // Blux
                            bluxLikeEvent(product_id);
                        }

                    } else {
                        var imgClass = btnClass

                        if (imgClass == 'favorite_ing')
                            $(el).attr('class', 'favorite');
                        else if (imgClass == 'zzim_ing')
                            $(el).attr('class', 'zzim');

                        messageShow("관심상품에서 해제하였습니다.");
                    }
                },
                failure: function (response) {
                    messageShow(response);
                },
                error: function (response) {
                    messageShow(response);
                }
            });
        }

        //장바구니 추가 팝업 띄우기
        function addCart(SCAN_CODE, BUNDLE_YN) {
            $("#cartOptionList").html("");
            $("#cartProductList").html("");


            //if ($("#hdnLoginId").val() == "") {
            //    messageShow("재입고 알림 신청 서비스는 로그인 후 이용 가능합니다.");
            //    return;
            //}

            $('.selectValue2').val('선택 안함');
            $("#noCutSize").css("display", 'none');

            $.ajax({
                type: "POST",
                url: '/View/Main/Main.aspx/PrdSearch',
                data: '{SCAN_CODE : "' + SCAN_CODE + '", BUNDLE_YN : "' + BUNDLE_YN + '", STR_CODE : "' + globalStrCode + '"}',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {

                    var responseArr = $.parseJSON(response.d);
                    var adultproduct = responseArr.Table2;

                    adultcheck = adultproduct[0].ADULT_YN;

                    if (BUNDLE_YN == "Y") {
                        $("#cartDefaultValue").val("옵션선택");
                        $("#cartDefaultValue").attr("data-option", "");

                        var bundleArr = responseArr.Table;     //번들정보
                        var productArr = responseArr.Table1;  //상품정보
                        var bgImgPath = bundleArr[0].BG_IMG_PATH;
                        if (bgImgPath == null) bgImgPath = "";
                        var bgImgPathArr = bgImgPath.split('.');

                        $("#cartBgImgPath").addClass(bgImgPathArr[0]);
                        $("#cartPrdImgPath").attr("src", "../../Upload/BundleProduct/thumbnail/" + bundleArr[0].PRD_IMG_PATH);
                        $("#cartBrandName").html(bundleArr[0].BRAND_NAME);
                        $("#cartItemName").html(bundleArr[0].ITEM_NAME);

                        $("#cartOption").css("display", "block");

                        if (productArr.length > 0) {
                            var appendHtml = '';
                            for (var i = 0; i < productArr.length; i++) {
                                if (productArr[i].CUR_INV_QTY < 1) {
                                    appendHtml += '<li><button type="button" onclick="javascript:selectClick(this, \'cartProduct\');" data-option="' + productArr[i].SCAN_CODE + '" data-itemname="' + productArr[i].ITEM_NAME + '" data-price="' + productArr[i].PRICE + '" data-imgpath="' + productArr[i].PRD_IMG_PATH + '" data-qty="' + productArr[i].CUR_INV_QTY + '" data-out=\'Y\'>' + productArr[i].ITEM_NAME + '(품절)</button></li>';
                                } else {
                                    appendHtml += '<li><button type="button" onclick="javascript:selectClick(this, \'cartProduct\');" data-option="' + productArr[i].SCAN_CODE + '" data-itemname="' + productArr[i].ITEM_NAME + '" data-price="' + productArr[i].PRICE + '" data-imgpath="' + productArr[i].PRD_IMG_PATH + '" data-qty="' + productArr[i].CUR_INV_QTY + '" data-out=\'N\'>' + productArr[i].ITEM_NAME + '</button></li>';
                                }

                            }
                            $("#cartOptionList").append(appendHtml);
                        }

                    }

                    else {
                        var productArr = responseArr.Table;

                        //축산 가공 옵션 관련 
                        var cutSizeArr = responseArr.Table1;

                        $("#cartOptionList2").html("");
                        $("#cartDefaultValue2").data("option", "");


                        var bgImgPath = productArr[0].BG_IMG_PATH;
                        if (bgImgPath == null) bgImgPath = "";
                        var bgImgPathArr = bgImgPath.toString().split('.');

                        $("#cartBgImgPath").addClass(bgImgPathArr[0]);
                        $("#cartPrdImgPath").attr("src", "../../Upload/Product/thumbnail/" + productArr[0].PRD_IMG_PATH);
                        $("#cartBrandName").html(productArr[0].BRAND_NAME);
                        $("#cartItemName").html(productArr[0].ITEM_NAME);

                        $("#cartOption2").css("display", "none");
                        $("#cartOption").css("display", "none");


                        if (cutSizeArr == "" || cutSizeArr == undefined) {
                            $("#cartOption").css("display", "none");
                        } else {
                            let html = "";
                            $("#cartOption2").css("display", "block");
                            $(".cutSizeDiv").css("display", "block");
                            html += '<li><button type="button" class="cutBtn" data-option="">선택 안함</button></li>';
                            $(cutSizeArr).each(function (index, element) {
                                html += '<li>';
                                html += '<button type="button" class="cutBtn" data-option="' + element.CUT_SIZE + '">';
                                html += element.CUT_SIZE;
                                html += '</button>';
                                html += '</li>';
                            });
                            $("#cartOptionList2").append(html);
                            $("#noCutSize2").css("display", 'block');
                        }


                        var appendHtml = '';
                        appendHtml += '<div class="goodsCount cartProduct"  data-scancode="' + productArr[0].SCAN_CODE + '" data-price="' + productArr[0].PRICE + '" data-imgpath="' + productArr[0].PRD_IMG_PATH + '" data-qty="' + productArr[0].CUR_INV_QTY + '" data-out="N">' +
                            '<div class="optionLine">' +
                            '<span class="optionName">' + productArr[0].ITEM_NAME + '</span>' +
                            '<div class="countWrap">' +
                            '<button type="button" class="count_minus">수량 감소</button>' +
                            '<input type="text" class="count txtCartQty" numberOnly="true" value="1">' +
                            '<button type="button" class="count_plus">수량 증가</button>' +
                            '</div>' +
                            '<span class="optionPrice">' + comma(productArr[0].PRICE) + '<em>원</em></span>' +
                            '</div>' +
                            '</div>';

                        $("#cartProductList").append(appendHtml);
                    }

                    var totalPrice = 0;
                    //19세 상품 추가
                    $(".cartProduct").each(function () {
                        //messageShow($(this).children(".optionLine").children(".countWrap").find("input").val());
                        var productCnt = parseInt($(this).children(".optionLine").children(".countWrap").find("input").val());
                        var productPrice = parseInt($(this).attr("data-price"));
                        totalPrice = totalPrice + (productCnt * productPrice);
                    });

                    $("#cartTotalPrice").html(comma(totalPrice) + "<em>원</em>");

                    jQuery(".pop1").css("display", "block");
                    jQuery(".pop1").focus();
                },
                failure: function (response) {
                    messageShow(response);
                },
                error: function (response) {
                    messageShow(response);
                }
            });
        }

        $(document).on("click", ".count_minus", function () {
            var nowVal = jQuery(this).parents(".countWrap").find("input").val();
            if (nowVal > 1) {
                nowVal--;
                jQuery(this).parents(".countWrap").find("input").val(nowVal)
            }

            var totalPrice = 0;
            $(".cartProduct").each(function () {
                if ($(this).data('out') == 'N') {
                    var productCnt = parseInt($(this).children(".optionLine").children(".countWrap").find("input").val());
                    var productPrice = parseInt($(this).attr("data-price"));
                    totalPrice = totalPrice + (productCnt * productPrice);
                }
            });

            $("#cartTotalPrice").html(comma(totalPrice) + "<em>원</em>");
        });

        $(document).on("click", ".count_plus", function () {
            var nowVal = jQuery(this).parents(".countWrap").find("input").val();
            if (nowVal < 999) {
                nowVal++
                jQuery(this).parents(".countWrap").find("input").val(nowVal)
            }

            var totalPrice = 0;
            $(".cartProduct").each(function () {
                if ($(this).data('out') == 'N') {
                    var productCnt = parseInt($(this).children(".optionLine").children(".countWrap").find("input").val());
                    var productPrice = parseInt($(this).attr("data-price"));
                    totalPrice = totalPrice + (productCnt * productPrice);
                }
            });

            $("#cartTotalPrice").html(comma(totalPrice) + "<em>원</em>");
        });

        $(document).on("change keyup paste", ".txtCartQty", function () {
            var nowVal = jQuery(this).val();
            if (nowVal == "") {
                nowVal = 1;
                jQuery(this).val(nowVal);
            }
            else if (nowVal < 1) {
                nowVal = 1;
                jQuery(this).val(nowVal);
            }
            else if (nowVal > 999) {
                nowVal = 999;
                jQuery(this).val(nowVal);
            }
            else {
                nowVal = Number(nowVal);
                jQuery(this).val(nowVal);
            }

            var totalPrice = 0;
            $(".cartProduct").each(function () {
                if ($(this).data('out') == 'N') {
                    var productCnt = parseInt($(this).children(".optionLine").children(".countWrap").find("input").val());
                    var productPrice = parseInt($(this).attr("data-price"));
                    totalPrice = totalPrice + (productCnt * productPrice);
                }
            });

            $("#cartTotalPrice").html(comma(totalPrice) + "<em>원</em>");
        });



        //묶음상품인 경우 옵션을 클릭하면 추가
        function selectClick(thisBtn, flagName) {
            var txt = jQuery(thisBtn).text();
            var val = jQuery(thisBtn).attr("data-option");
            var itemName = jQuery(thisBtn).attr("data-itemname");
            var price = jQuery(thisBtn).attr("data-price");
            var imgPath = jQuery(thisBtn).attr("data-imgpath");
            var qty = jQuery(thisBtn).attr("data-qty");
            //if (qty == "0") {
            //    messageShow("품절상품은 선택할 수 없습니다.");
            //    return;
            //}
            jQuery(thisBtn).parents(".selectWrap").find("input").val(txt);
            jQuery(thisBtn).parents(".selectWrap").find("input").attr("data-option", val);
            jQuery(thisBtn).parents(".selectWrap").find("input").removeClass("open");
            jQuery(thisBtn).parents(".selectWrap").find("ul").css("display", "none");
            jQuery(".selectDim").remove();

            var itemCnt = 0;
            $("." + flagName).each(function () {
                if (val == $(this).attr("data-scancode")) {
                    itemCnt++;
                }
            });

            if (itemCnt > 0) {
                messageShow("이미 등록된 상품이 존재합니다.");
            } else {
                var appendHtml = "";
                if (flagName == "restockProduct") {
                    appendHtml += '<div class="goodsCount ' + flagName + '" data-scancode="' + val + '" data-bundleyn="Y" data-imgpath="' + imgPath + '">' +
                        '<div class="optionLine recall">' +
                        '<span class="optionName">' + itemName + '</span>' +
                        '<span class="optionPrice">' + comma(price) + '<em>원</em></span>' +
                        '<button type="button" class="del_option" onclick="javascript:selectDel(this);">옵션취소</button>' +
                        '</div>' +
                        '</div>';

                    $("#" + flagName + "List").append(appendHtml);
                } else if (flagName == "cartProduct") {
                    if ($(thisBtn).data('out') == 'N') {
                        appendHtml += '<div class="goodsCount ' + flagName + '" data-scancode="' + val + '" data-imgpath="' + imgPath + '" data-price="' + price + '" data-out="' + $(thisBtn).data('out') + '">' +
                            '<div class="optionLine">' +
                            '<span class="optionName">' + itemName + '</span>' +
                            '<div class="countWrap">' +
                            '<button type="button" class="count_minus">수량 감소</button>' +
                            '<input type="text" class="count txtCartQty" numberOnly="true" value="1">' +
                            '<button type="button" class="count_plus">수량 증가</button>' +
                            '</div>' +
                            '<span class="optionPrice">' + comma(price) + '<em>원</em></span>' +
                            '<button type="button" class="del_option" onclick="javascript:selectCartDel(this);">옵션취소</button>' +
                            '</div>' +
                            '</div>';
                    } else if ($(thisBtn).data('out') == 'Y') {
                        appendHtml += '<div class="goodsCount ' + flagName + '" data-scancode="' + val + '" data-imgpath="' + imgPath + '" data-price="' + price + '" data-out="' + $(thisBtn).data('out') + '">' +
                            '<div class="optionLine">' +
                            '<span class="optionName">' + itemName + '</span>' +
                            '<div class="countWrap">'
                            + '<button type="button" class="recallAlert" onclick="addRestockInstant(\'' + val + '\', \'Y\')">재입고 알림</button>'
                        '</div>' +
                        '<span class="optionPrice">' + comma(price) + '<em>원</em></span>' +
                        '<button type="button" class="del_option" onclick="javascript:selectCartDel(this);">옵션취소</button>' +
                        '</div>' +
                        '</div>';
                    }
                    $("#" + flagName + "List").append(appendHtml);

                    var totalPrice = 0;
                    $(".cartProduct").each(function () {
                        if ($(this).data('out') == 'N') {
                            //messageShow($(this).children(".optionLine").children(".countWrap").find("input").val());
                            var productCnt = parseInt($(this).children(".optionLine").children(".countWrap").find("input").val());
                            var productPrice = parseInt($(this).attr("data-price"));
                            totalPrice = totalPrice + (productCnt * productPrice);
                        }
                    });

                    $("#cartTotalPrice").html(comma(totalPrice) + "<em>원</em>");
                }
            }
        }

        function selectDel(thisSelect) {
            jQuery(thisSelect).parents(".goodsCount").remove();
        }

        function selectCartDel(thisSelect) {

            jQuery(thisSelect).parents(".goodsCount").remove();

            var totalPrice = 0;
            $(".cartProduct").each(function () {
                if ($(this).data('out') == 'N') {
                    //messageShow($(this).children(".optionLine").children(".countWrap").find("input").val());
                    var productCnt = parseInt($(this).children(".optionLine").children(".countWrap").find("input").val());
                    var productPrice = parseInt($(this).attr("data-price"));
                    totalPrice = totalPrice + (productCnt * productPrice);
                }
            });

            $("#cartTotalPrice").html(comma(totalPrice) + "<em>원</em>");
        }
        function addRestockInstant(SCAN_CODE, BUNDLE_YN) {  //장바구니 > 재입고알림버튼 누르면 바로 저장
            if ($("#hdnLoginId").val() == "") {
                messageShow("재입고 알림 신청 서비스는 로그인 후 이용 가능합니다.");
                return;
            }
            var scanCodeArr = [];
            var bundleyn = "";

            scanCodeArr.push(SCAN_CODE);
            bundleyn = BUNDLE_YN;

            $.ajax({
                type: "POST",
                url: '/View/Main/Main.aspx/AddRestockRequest',
                //data: '{STR_CODE : "' + globalStrCode + '", SCAN_CODE : "' + scanCodeArr + '"}',
                data: JSON.stringify({ STR_CODE: globalStrCode, SCAN_CODE: scanCodeArr, BUNDLE_YN: bundleyn }),
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                async: false,
                success: function (response) {
                    var result = $.parseJSON(response.d);
                    if (parseInt(result) > 0) {
                        messageShow("재입고 알림 신청상품으로 등록되었습니다.");
                        jQuery(".pop2").css("display", "none");

                    } else {
                        messageShow("재입고 알림 등록이 실패하였습니다.");
                    }
                },
                failure: function (response) {
                    messageShow(response);
                },
                error: function (response) {
                    messageShow(response);
                }
            });
        }

    </script>

    <div class="contWrap">
        <div class="main_banner">

            <div class="swiper-container">
                <div class="swiper-wrapper" id="bannerItems">

                </div>
                <!-- Add Pagination -->
                <div class="pagination_wrap">
                    <div class="btn_wrap">
                        <button class="auto_btn"></button>
                        <div class="swiper-pagination"></div>

                    </div>
                </div>

                <!-- Add Arrows -->
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </div>

        <!--실제 경로에 맞게 수정-->

        <!--메인슬라이드배너-->


        <!--중간배너-->

    </div>




    <script type="text/javascript">

        // ##### 공통 템플릿 #####

        //  고객님을 위한 추천상품 LayOut
        function GetGoodsListTemp_User(campnProduct, howAboutCnt) {

            appendHtml = '';
            var rowType = 1;
            var subCnt = 0;
            var rowSeq = 0;
            var colSeq = 0;
            var rowCnt = howAboutCnt;
            var proCnt = campnProduct.length;
            rowCnt = parseInt(rowCnt) > (parseInt((proCnt - 1) / 5) + 1) ? (parseInt((proCnt - 1) / 5) + 1) : parseInt(rowCnt);
            howAboutCnt = rowCnt;
            if (proCnt > 0 && proCnt < rowCnt * 5) {
                rowType = 2
            }

            for (var i = 0; i < (campnProduct.length > 15 ? 15 : campnProduct.length); i++) {

                var liClass = "";
                var tperMthd = "";
                var favoriteClass = "favorite";

                var object = campnProduct[i]

                var badgeList = '';
                var badgeFlagList = '';
                var timerHtml = '';

                if ($('#sm_100010 li').length > 20) {
                    break;
                }

                if (object.STATUS_M_NONGHAL_YN == 'Y') {
                    badgeFlagList += '<i class="flag-item-tl icon-nonghal"></i>'
                } else if (object.PRE_END_DATE != '') {
                    timerHtml += '<p class="remainTime type_reserve">'
                        + '<span class="preSaleTime" preendtime="' + object.PRE_END_DATE + '"></span>'
                        + '</p>';
                    badgeFlagList += '<i class="flag-item-tl icon-reserve">예약판매</i>'
                } else if (object.EVT_END_TIME != '') {
                    timerHtml += '<p class="remainTime type_timesale">'
                        + '<span class="timeSaleTime" evtendtime="' + object.EVT_END_TIME + '"></span>'
                        + '</p>';
                    badgeFlagList += '<i class="flag-item-tl icon-timesale">타임세일</i>'
                } else if (object.EVT_STOCK_YN == 'Y') {
                    badgeFlagList += '<i class="flag-item-tl icon-limit">한정특가</i>'
                } else if (object.STATUS_M_RECOMMEND_YN == "Y") {
                    badgeFlagList += '<i class="flag-item-tl icon-recommend">다담몰 추천</i>'
                }

                if (object.BEST_YN == 'Y') badgeList += '<i class="badge-best">BEST</i>';
                if (object.NEW_YN == "Y") {
                    badgeList += '<i class="badge-new">신상품</i>'
                }
                if (parseInt(object.CUR_INV_QTY) < 1) liClass += " soldout"

                if (object.NEW_EVT_YN == 'Y') {
                    badgeFlagList += '<i class="flag-item-tr icon-newevent" style="height: 80px; top:-15px; border-radius: 0px;"></i>'
                }
                if (object.ORD_FLAG == "1") {
                    badgeFlagList += '<i class="flag-item-tr icon-special">특가</i>'
                }
                if (object.TPER_MTHD == "2") {
                    //tperMthd = '<em class="cold"><img src="../../images/icon/icon_cold.jpg" alt="냉동"></em>';
                    badgeList += '<i class="badge-cold">냉동</i>'
                } else if (object.TPER_MTHD == "3") {
                    //tperMthd = '<em class="cool"><img src="../../images/icon/icon_cool.jpg" alt="냉장"></em>';
                    badgeList += '<i class="badge-cool">냉장</i>'
                }


                var bgImgPath = "";
                var imgPath = "";

                if (campnProduct[i].PRD_IMG_PATH == "") {
                    imgPath = "../../images/etc/noimage.jpg";
                } else {

                    imgPath = getImg(campnProduct[i].PRD_IMG_PATH, 276, campnProduct[i].BUNDLE_YN);
                    bgImgPath = campnProduct[i].BG_IMG_PATH;
                    if (bgImgPath == null) bgImgPath = "";
                    var bgImgPathArr = bgImgPath.toString().split('.');
                    bgImgPath = bgImgPathArr[0];
                }

                var brandName = "";
                if (campnProduct[i].BRAND_NAME != "") {
                    brandName = "[" + campnProduct[i].BRAND_NAME + "]";
                } else if (campnProduct[i].MANUFACTURE_NAME != "") {
                    brandName = "[" + campnProduct[i].MANUFACTURE_NAME + "]";
                }

                if (campnProduct[i].LIKE_PRD_YN == "Y") {
                    favoriteClass = "favorite_ing";
                }


                appendHtml += '<li class="' + liClass + '">' +
                    '<div class="itemBox">' +
                    '<div class="item-img"><a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                    '<img src = "' + imgPath + '" alt = "" onerror = "this.src=\'../../images/etc/noimage.jpg\'" >' +
                    '<div class="badge-flag">' +
                    badgeFlagList +
                    '</div>' +
                    timerHtml +
                    '</a> </div >' +  //< !--실제 상품 이미지 추가 - 누끼이미지를 등록해줘야 뒤에 배경이 보입니다.이미지는 최소  276 x 276 이상 사이즈 권장-- > ' +
                    '<div class="soldout">' +
                    '<p class="message">SOLD OUT</p>' +
                    '<button type="button" class="recall" onclick="javascript:addRestock(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')">재입고 알림</button>' +
                    '</div>' +
                    '<div class="orderMenu">' +
                    '<button type="button" class="cart" onclick="javascript:addCart(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')" >장바구니</button>' +
                    '<button type="button" class="' + favoriteClass + '" onclick="javascript:addLikePrd(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\', this)">찜하기</button>' +
                    '</div>' +
                    '</div>' +
                    '<div class="itemInfo">' +
                    '<a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                    '<p class="badge-flag">' +
                    badgeList +
                    '</p > ' +
                    '<div class="goods-name"><p class="goods-brand">' + brandName + '</p>' +
                    '<span class="goods-info">' + object.ITEM_NAME + '</span></div>' +
                    //'<p class="goods-name">' + brandName + '</p>' +
                    //'<p class="goods-info "><span class="overWrap">' + object.ITEM_NAME + '</span></p>' +
                    '<p class="goods-price">' + comma(object.PRICE) + '<span>원</span></p>' +
                    '</a>' +
                    '</div>' +
                    '</li>';

                //구분된 상품의 순번
                subCnt++;

                rowSeq = subCnt % rowCnt == 0 ? rowCnt : subCnt % rowCnt;
                colSeq = parseInt((subCnt - 1) / rowCnt + 1);

                //row를 채우면서 데이터를 넣는 경우, 마지막 row에 빈 li를 채움
                if (rowType == 2 && rowSeq == (rowCnt - 1) && parseInt(rowSeq * 5 + colSeq) > proCnt) {
                    appendHtml += "<li></li>";
                    subCnt++;
                }
            }
            // 20220609 유태희 메뉴 설정 관련 변경 건  start 

            //$("#howaboutThisPrd").append(appendHtml);
            $("#sm_100010").append(appendHtml)

            scalcStrWidthSlick('sm_100010');

            jQuery(".goods-slider-100010").slick({
                slidesToShow: 5,
                slidesToScroll: 5,
                infinite: true,
                variableWidth: true,
                rows: howAboutCnt
            });

            $('.goods-slider-100010').on('afterChange', function () {
                scalcStrWidthSlick('sm_100010');
            });

            // 20220609 유태희 메뉴 설정 관련 변경 건  end
            if (howAboutCnt > 1) {
                $(".goods-slider-100010 .slick-slide  li").each(function () {
                    $(this).css({ "width": "" })
                })
                $(".goods-slider-100010 .slick-slide").addClass("slick_row_2")
            }
        }

        //  요즘 많이 보는 상품 LayOut
        function GetGoodsListTemp_View2(campnProduct, theseDaysCnt) {

            appendHtml = '';
            var rowType = 1;
            var subCnt = 0;
            var rowSeq = 0;
            var colSeq = 0;
            var rowCnt = theseDaysCnt;
            var proCnt = campnProduct.length;
            rowCnt = parseInt(rowCnt) > (parseInt((proCnt - 1) / 5) + 1) ? (parseInt((proCnt - 1) / 5) + 1) : parseInt(rowCnt);
            theseDaysCnt = rowCnt;
            if (proCnt > 0 && proCnt < rowCnt * 5) {
                rowType = 2
            }

            for (var i = 0; i < (campnProduct.length > 15 ? 15 : campnProduct.length); i++) {

                var liClass = "";
                var tperMthd = "";
                var favoriteClass = "favorite";

                var object = campnProduct[i]
                var badgeList = '';
                var badgeFlagList = '';
                var timerHtml = '';

                if ($('#sm_100004 li').length > 20) {
                    break;
                }

                if (object.STATUS_M_NONGHAL_YN == 'Y') {
                    badgeFlagList += '<i class="flag-item-tl icon-nonghal"></i>'
                } else if (object.PRE_END_DATE != '') {
                    timerHtml += '<p class="remainTime type_reserve">'
                        + '<span class="preSaleTime" preendtime="' + object.PRE_END_DATE + '"></span>'
                        + '</p>';
                    badgeFlagList += '<i class="flag-item-tl icon-reserve">예약판매</i>'
                } else if (object.EVT_END_TIME != '') {
                    timerHtml += '<p class="remainTime type_timesale">'
                        + '<span class="timeSaleTime" evtendtime="' + object.EVT_END_TIME + '"></span>'
                        + '</p>';
                    badgeFlagList += '<i class="flag-item-tl icon-timesale">타임세일</i>'
                } else if (object.EVT_STOCK_YN == 'Y') {
                    badgeFlagList += '<i class="flag-item-tl icon-limit">한정특가</i>'
                } else if (object.STATUS_M_RECOMMEND_YN == "Y") {
                    badgeFlagList += '<i class="flag-item-tl icon-recommend">다담몰 추천</i>'
                }

                if (object.BEST_YN == 'Y') badgeList += '<i class="badge-best">BEST</i>';
                if (object.NEW_YN == "Y") {
                    badgeList += '<i class="badge-new">신상품</i>'
                }
                if (parseInt(object.CUR_INV_QTY) < 1) liClass += " soldout"

                if (object.NEW_EVT_YN == 'Y') {
                    badgeFlagList += '<i class="flag-item-tr icon-newevent" style="height: 80px; top:-15px; border-radius: 0px;"></i>'
                }
                if (object.ORD_FLAG == "1") {
                    badgeFlagList += '<i class="flag-item-tr icon-special">특가</i>'
                }
                if (object.TPER_MTHD == "2") {
                    //tperMthd = '<em class="cold"><img src="../../images/icon/icon_cold.jpg" alt="냉동"></em>';
                    badgeList += '<i class="badge-cold">냉동</i>'
                } else if (object.TPER_MTHD == "3") {
                    //tperMthd = '<em class="cool"><img src="../../images/icon/icon_cool.jpg" alt="냉장"></em>';
                    badgeList += '<i class="badge-cool">냉장</i>'
                }


                var bgImgPath = "";
                var imgPath = "";

                if (campnProduct[i].PRD_IMG_PATH == "") {
                    imgPath = "../../images/etc/noimage.jpg";
                } else {

                    imgPath = getImg(campnProduct[i].PRD_IMG_PATH, 276, campnProduct[i].BUNDLE_YN);
                    bgImgPath = campnProduct[i].BG_IMG_PATH;
                    if (bgImgPath == null) bgImgPath = "";
                    var bgImgPathArr = bgImgPath.toString().split('.');
                    bgImgPath = bgImgPathArr[0];
                }

                var brandName = "";
                if (campnProduct[i].BRAND_NAME != "") {
                    brandName = "[" + campnProduct[i].BRAND_NAME + "]";
                } else if (campnProduct[i].MANUFACTURE_NAME != "") {
                    brandName = "[" + campnProduct[i].MANUFACTURE_NAME + "]";
                }

                if (campnProduct[i].LIKE_PRD_YN == "Y") {
                    favoriteClass = "favorite_ing";
                }


                appendHtml += '<li class="' + liClass + '">' +
                    '<div class="itemBox">' +
                    '<div class="item-img"><a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN  + '">' +
                    '<img src = "' + imgPath + '" alt = "" onerror = "this.src=\'../../images/etc/noimage.jpg\'" >' +
                    '<div class="badge-flag">' +
                    badgeFlagList +
                    '</div>' +
                    timerHtml +
                    '</a> </div >' +  //< !--실제 상품 이미지 추가 - 누끼이미지를 등록해줘야 뒤에 배경이 보입니다.이미지는 최소  276 x 276 이상 사이즈 권장-- > ' +
                    '<div class="soldout">' +
                    '<p class="message">SOLD OUT</p>' +
                    '<button type="button" class="recall" onclick="javascript:addRestock(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')">재입고 알림</button>' +
                    '</div>' +
                    '<div class="orderMenu">' +
                    '<button type="button" class="cart" onclick="javascript:addCart(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')" >장바구니</button>' +
                    '<button type="button" class="' + favoriteClass + '" onclick="javascript:addLikePrd(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\', this)">찜하기</button>' +
                    '</div>' +
                    '</div>' +
                    '<div class="itemInfo">' +
                    '<a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                    '<p class="badge-flag">' +
                    badgeList +
                    '</p > ' +
                    '<div class="goods-name"><p class="goods-brand">' + brandName + '</p>' +
                    '<span class="goods-info">' + object.ITEM_NAME + '</span></div>' +
                    //'<p class="goods-name">' + brandName + '</p>' +
                    //'<p class="goods-info "><span class="overWrap">' + object.ITEM_NAME + '</span></p>' +
                    '<p class="goods-price">' + comma(object.PRICE) + '<span>원</span></p>' +
                    '</a>' +
                    '</div>' +
                    '</li>';

                //구분된 상품의 순번
                subCnt++;

                rowSeq = subCnt % rowCnt == 0 ? rowCnt : subCnt % rowCnt;
                colSeq = parseInt((subCnt - 1) / rowCnt + 1);

                //row를 채우면서 데이터를 넣는 경우, 마지막 row에 빈 li를 채움
                if (rowType == 2 && rowSeq == (rowCnt - 1) && parseInt(rowSeq * 5 + colSeq) > proCnt) {
                    appendHtml += "<li></li>";
                    subCnt++;
                }
            }
            // 20220609 유태희 메뉴 설정 관련 변경 건  start 

            //$("#theseDayPrd").append(appendHtml);
            $("#sm_100004").append(appendHtml); // 요즘 많이 보이는 상품 

            scalcStrWidthSlick('sm_100004');

            jQuery(".goods-slider-100004").slick({
                slidesToShow: 5,
                slidesToScroll: 5,
                infinite: true,
                variableWidth: true,
                rows: theseDaysCnt
            });
            // 20220609 유태희 메뉴 설정 관련 변경 건  end
            $(".goods-slider-100004").on('afterChange', function () {
                scalcStrWidthSlick('sm_100004');
            });

            if (theseDaysCnt > 1) {
                $(".goods-slider-100004 .slick-slide  li").each(function () {
                    $(this).css({ "width": "" })
                })
                $(".goods-slider-100004 .slick-slide").addClass("slick_row_2")
            }

        }

        //  장바구니 인기상품 LayOut
        function GetGoodsListTemp_Basket(campnProduct, basketCnt) {

            appendHtml = '';
            var rowType = 1;
            var subCnt = 0;
            var rowSeq = 0;
            var colSeq = 0;
            var rowCnt = basketCnt;
            var proCnt = campnProduct.length;
            rowCnt = parseInt(rowCnt) > (parseInt((proCnt - 1) / 5) + 1) ? (parseInt((proCnt - 1) / 5) + 1) : parseInt(rowCnt);
            basketCnt = rowCnt;
            if (proCnt > 0 && proCnt < rowCnt * 5) {
                rowType = 2
            }

            for (var i = 0; i < (campnProduct.length > 15 ? 15 : campnProduct.length); i++) {
                var liClass = "";
                var tperMthd = "";
                var favoriteClass = "favorite";

                var object = campnProduct[i]
                var badgeList = '';
                var badgeFlagList = '';
                var timerHtml = '';

                if ($('#sm_100008 li').length > 20) {
                    break;
                }

                if (object.STATUS_M_NONGHAL_YN == 'Y') {
                    badgeFlagList += '<i class="flag-item-tl icon-nonghal"></i>'
                } else if (object.PRE_END_DATE != '') {
                    timerHtml += '<p class="remainTime type_reserve">'
                        + '<span class="preSaleTime" preendtime="' + object.PRE_END_DATE + '"></span>'
                        + '</p>';
                    badgeFlagList += '<i class="flag-item-tl icon-reserve">예약판매</i>'
                } else if (object.EVT_END_TIME != '') {
                    timerHtml += '<p class="remainTime type_timesale">'
                        + '<span class="timeSaleTime" evtendtime="' + object.EVT_END_TIME + '"></span>'
                        + '</p>';
                    badgeFlagList += '<i class="flag-item-tl icon-timesale">타임세일</i>'
                } else if (object.EVT_STOCK_YN == 'Y') {
                    badgeFlagList += '<i class="flag-item-tl icon-limit">한정특가</i>'
                } else if (object.STATUS_M_RECOMMEND_YN == "Y") {
                    badgeFlagList += '<i class="flag-item-tl icon-recommend">다담몰 추천</i>'
                }

                if (object.BEST_YN == 'Y') badgeList += '<i class="badge-best">BEST</i>';
                if (object.NEW_YN == "Y") {
                    badgeList += '<i class="badge-new">신상품</i>'
                }
                if (parseInt(object.CUR_INV_QTY) < 1) liClass += " soldout"

                if (object.NEW_EVT_YN == 'Y') {
                    badgeFlagList += '<i class="flag-item-tr icon-newevent" style="height: 80px; top:-15px; border-radius: 0px;"></i>'
                }
                if (object.ORD_FLAG == "1") {
                    badgeFlagList += '<i class="flag-item-tr icon-special">특가</i>'
                }
                if (object.TPER_MTHD == "2") {
                    //tperMthd = '<em class="cold"><img src="../../images/icon/icon_cold.jpg" alt="냉동"></em>';
                    badgeList += '<i class="badge-cold">냉동</i>'
                } else if (object.TPER_MTHD == "3") {
                    //tperMthd = '<em class="cool"><img src="../../images/icon/icon_cool.jpg" alt="냉장"></em>';
                    badgeList += '<i class="badge-cool">냉장</i>'
                }

                var bgImgPath = "";
                var imgPath = "";

                if (campnProduct[i].PRD_IMG_PATH == "") {
                    imgPath = "../../images/etc/noimage.jpg";
                } else {

                    imgPath = getImg(campnProduct[i].PRD_IMG_PATH, 276, campnProduct[i].BUNDLE_YN);
                    bgImgPath = campnProduct[i].BG_IMG_PATH;
                    if (bgImgPath == null) bgImgPath = "";
                    var bgImgPathArr = bgImgPath.toString().split('.');
                    bgImgPath = bgImgPathArr[0];
                }

                var brandName = "";
                if (campnProduct[i].BRAND_NAME != "") {
                    brandName = "[" + campnProduct[i].BRAND_NAME + "]";
                } else if (campnProduct[i].MANUFACTURE_NAME != "") {
                    brandName = "[" + campnProduct[i].MANUFACTURE_NAME + "]";
                }

                if (campnProduct[i].LIKE_PRD_YN == "Y") {
                    favoriteClass = "favorite_ing";
                }


                appendHtml += '<li class="' + liClass + '">' +
                    '<div class="itemBox">' +
                    '<div class="item-img"><a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                    '<img src = "' + imgPath + '" alt = "" onerror = "this.src=\'../../images/etc/noimage.jpg\'" >' +
                    '<div class="badge-flag">' +
                    badgeFlagList +
                    '</div>' +
                    timerHtml +
                    '</a> </div >' +  //< !--실제 상품 이미지 추가 - 누끼이미지를 등록해줘야 뒤에 배경이 보입니다.이미지는 최소  276 x 276 이상 사이즈 권장-- > ' +
                    '<div class="soldout">' +
                    '<p class="message">SOLD OUT</p>' +
                    '<button type="button" class="recall" onclick="javascript:addRestock(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')">재입고 알림</button>' +
                    '</div>' +
                    '<div class="orderMenu">' +
                    '<button type="button" class="cart" onclick="javascript:addCart(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\')" >장바구니</button>' +
                    '<button type="button" class="' + favoriteClass + '" onclick="javascript:addLikePrd(\'' + object.SCAN_CODE + '\', \'' + object.BUNDLE_YN + '\', this)">찜하기</button>' +
                    '</div>' +
                    '</div>' +
                    '<div class="itemInfo">' +
                    '<a href="../Product/Detail?item=' + object.SCAN_CODE + '&bundle=' + object.BUNDLE_YN + '">' +
                    '<p class="badge-flag">' +
                    badgeList +
                    '</p > ' +
                    '<div class="goods-name"><p class="goods-brand">' + brandName + '</p>' +
                    '<span class="goods-info">' + object.ITEM_NAME + '</span></div>' +
                    //'<p class="goods-name">' + brandName + '</p>' +
                    //'<p class="goods-info "><span class="overWrap">' + object.ITEM_NAME + '</span></p>' +
                    '<p class="goods-price">' + comma(object.PRICE) + '<span>원</span></p>' +
                    '</a>' +
                    '</div>' +
                    '</li>';

                //구분된 상품의 순번
                subCnt++;

                rowSeq = subCnt % rowCnt == 0 ? rowCnt : subCnt % rowCnt;
                colSeq = parseInt((subCnt - 1) / rowCnt + 1);

                //row를 채우면서 데이터를 넣는 경우, 마지막 row에 빈 li를 채움
                if (rowType == 2 && rowSeq == (rowCnt - 1) && parseInt(rowSeq * 5 + colSeq) > proCnt) {
                    appendHtml += "<li></li>";
                    subCnt++;
                }
            }
            //20220609 유태희  메뉴 설정 관련 변경 건  start 
            $("#sm_100008").append(appendHtml);

            scalcStrWidthSlick('sm_100008');

            jQuery(".goods-slider-100008").slick({
                slidesToShow: 5,
                slidesToScroll: 5,
                infinite: true,
                variableWidth: true,
                rows: basketCnt
            });
            // 20220609 유태희  메뉴 설정 관련 변경 건  start 

            $(".goods-slider-100008").on('afterChange', function () {
                scalcStrWidthSlick('sm_100008');
            });

            if (basketCnt > 1) {
                $(".goods-slider-100008 .slick-slide  li").each(function () {
                    $(this).css({ "width": "" })
                })
                $(".goods-slider-100008 .slick-slide").addClass("slick_row_2")
            }

        }

    </script>


    <!-- Contents End -->
    <div class="footerWrap">
        <div class="footerQuickWrap">
            <div class="footerQuick">
                <div class="quickMenu">
                    <ul>
                        <li><a href="../Product/Products?menu=F">신선제품</a></li>
                        <li><a href="../Util/QuestionWrite">1:1문의</a></li>
                        <li><a href="../Info/DeliveryInfo">배송 안내</a></li>
                        <li><a href="../Util/BulkOrder">대량 주문 문의</a></li>
                    </ul>
                </div>
                <div class="mainBord" id="mainBord01">
                    <p>공지사항<a href="../Util/Notice">더보기</a></p>
                    <ul>
                        <li><a href="#">다담에서 알려드립니다. 다담에서 알려드립니다람쥐 </a></li>

                    </ul>
                </div>
                <div class="mainBord" id="mainBord02">
                    <p>FAQ<a href="../Util/Faq">더보기</a></p>
                    <ul>
                        <li><a href="#">배송 설치 관련</a></li>
                    </ul>
                </div>
                <div class="csCenter">

                    <p class="title">고객센터</p>
                    <div style="width:100%;height:100%;text-align:center;">
                        <p class="callcenter" style="display: inline-block;">1588-7941</p>
                        <table style="border: none;width:60%;display: inline-block;">
                            <tr class="csInfo">
                                <td style="border: none;text-align:center;"><span>운영시간</span></td>
                                <td style="border: none;text-align:center;"><span>08:00~17:00</span></td>
                            </tr>
                            <tr>
                                <td style="border: none;height:7px;"></td>
                            </tr>
                            <tr class="csInfo">
                                <td style="border: none;text-align:center;"><span>(월~토)</span></td>
                                <td style="border: none;text-align:center;"><span>(일요일 휴무)</span></td>
                            </tr>
                        </table>
                        <p class="closeInfo"><span>*일요일 오늘드림은 정상출고 됩니다.</span><br /><span>*고객센터 운영시간 외에는 오프라인 점포로 연결됩니다.</span></p>
                    </div>
                </div>

            </div>
        </div>
        <div class="footerGlobalWrap">
            <div class="footerGlobal">
                <ul class="footer_glmenu">
                    <li><a href="http://www.dadamretail.co.kr" target="_blank">회사소개</a></li>
                    <li><a href="../Info/agrmt">이용약관</a></li>
                    <li><a href="../Info/privacy"><strong>개인정보처리방침</strong></a></li>
                    <li><a href="../Info/guide">이용안내</a></li>
                </ul>
                <a href="#allWrap" class="goTotop">TOP</a>
            </div>
        </div>
        <div class="footerAdressWrap">

            <div class="footerAdress">

                <p><span>(주)다담리테일</span><span>대표이사 : 임장택, 임현호, 임준범</span><span>본사주소 : 광주광역시 광산구 손재로 436-68</span><span>사업자등록번호 :  <a style="font: bold; cursor: pointer; text-decoration: underline;" href="http://www.ftc.go.kr/bizCommPop.do?wrkr_no=2508600900&apv_perm_no=">250-86-00900</a> </span></p>
                <p><span>통신판매업신고번호 : 2019-광주광산-0523</span><span>고객센터 : 1588-7941</span><span>개인정보보호책임자 : 조성영 (info@umac.co.kr) </span></p>
                <p class="copyright">Copyright (c) 2019 다담몰. All rights Reserved.</p>

            </div>
        </div>
    </div>

    <div class="layerPopWrap pop1" style="display: none;" tabindex="1">
        <!-- 레이어 배경영역  -->
        <div class="layerPop">
            <!-- 실제 레이어 컨텐츠 영역  -->
            <button type="button" class="layerClose type01">닫기</button>
            <div class="cartBox">
                <div class="itemInfo">
                    <div class="itemBox">
                        <div id="cartBgImgPath" class="itemBg "></div>
                        <!-- 일반 리스트 처럼 bg사용 가능합니다. 글레스명 동일하게 사용하면 됩니다.  -->
                        <img id="cartPrdImgPath" src="../../images/sample/sample_item07.png" onerror="this.src='../../images/etc/noimage.jpg'" alt="" />
                    </div>
                    <div class="goodsOption">
                        <p class="goodsName" id="cartBrandName"></p>
                        <p class="goodsInfo" id="cartItemName"></p>
                        <div class="option" id="cartOption">
                            <span>옵션</span>
                            <div class="selectWrap">
                                <input type="text" id="cartDefaultValue" class="selectValue" value="선택 안함" data-option="" readonly="readonly" />
                                <ul id="cartOptionList">
                                </ul>
                            </div>
                            <span class="copyright" id="noCutSize" style="display: none; margin-top: 5px;">절단 크기 미선택 시 절단되지 않은 원물 상품이 배송됩니다.</span>
                        </div>
                        <div class="option" id="cartOption2" style="display: none;">
                            <span>옵션</span>
                            <div class="selectWrap">
                                <input type="text" id="cartDefaultValue2" class="selectValue" value="선택 안함" data-option="" readonly="readonly" />
                                <ul id="cartOptionList2">
                                </ul>
                            </div>
                            <span class="copyright" id="noCutSize2" style="display: none; margin-top: 5px;">절단 크기 미선택 시 절단되지 않은 원물 상품이 배송됩니다.</span>
                        </div>
                    </div>
                </div>
                <div class="goodsCountWrap" id="cartProductList">
                </div>
                <div class="totalPrice">
                    <span>총결제 금액</span>
                    <span id="cartTotalPrice">0 <em>원</em></span>
                </div>
                <div class="btn_box">
                    <button type="button" id="btnCloseOrderBasket" class="btn white">취소</button>
                    <button type="button" id="btnAddOrderBasket" class="btn black">장바구니 담기</button>
                    <button type="button" id="btnBuyInstance" class="btn red">즉시구매</button>
                </div>
            </div>
        </div>
    </div>
    <div class="layerPopWrap pop2" style="display: none;" tabindex="2">
        <!-- 레이어 배경영역  -->
        <div class="layerPop">
            <!-- 실제 레이어 컨텐츠 영역  -->
            <p class="layerTitle">재입고 알림 신청</p>
            <button type="button" class="layerClose type02">닫기</button>
            <div class="cartBox">
                <div class="itemInfo">
                    <div class="itemBox">
                        <div id="restockBgImgPath" class="itemBg "></div>
                        <!-- 일반 리스트 처럼 bg사용 가능합니다. 글레스명 동일하게 사용하면 됩니다.  -->
                        <img id="restockPrdImgPath" src="../../images/sample/sample_item07.png" onerror="this.src='../../images/etc/noimage.jpg'" alt="">
                    </div>
                    <div class="goodsOption">
                        <p class="goodsName" id="restockBrandName"></p>
                        <p class="goodsInfo" id="restockItemName"></p>
                        <div class="option" id="restockOption">
                            <span>옵션</span>
                            <div class="selectWrap">
                                <input type="text" id="restockDefaultValue" class="selectValue" value="옵션선택" data-option="" readonly="readonly" />
                                <ul id="restockOptionList">
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="goodsCountWrap" id="restockProductList">
                </div>
                <div class="contactInfo">
                    <div class="name">
                        <span>이름</span>
                        <!-- 비로그인등 직접 입력이 필요하다면 클레스 readonly제거, readonly속성 자체 삭제 -->
                        <input id="restockCustName" type="text" class="readonly" readonly="readonly" value="" />
                    </div>
                    <div class="call">
                        <span>휴대폰번호</span>
                        <input id="restockMobilNo" type="text" class="readonly" readonly="readonly" value="" />
                    </div>
                </div>
                <div class="alertInfo">
                    <p>상품이 재입고되는 즉시,<br>
                        등록하신 휴대폰 번호로 알림톡/SMS으로 알려드리겠습니다.<br />
                        재입고 알림을 신청한 상품들에 대한 목록은 마이페이지내에서 확인 가능합니다!</p>
                    <button type="button" class="btn_alertInfo" id="btnAddRestock">선택상품 재입고 알림 신청하기</button>
                </div>
            </div>
        </div>
    </div>
    <div class="layerPopWrap pop4" style="display: none;" tabindex="-1">
        <div class="layerPop">
            <div class="alertPop">
                <p></p>
                <div class="btnBox">
                    <button type="button" class="ok layerclose">확인</button>
                </div>
            </div>
        </div>
    </div>
    <div class="layerPopWrap pop5" style="display: none;" tabindex="-1">
        <div class="layerPop">
            <div class="alertPop">
                <p></p>
                <div class="btnBox">
                    <button type="button" class="ok layerclose layerComfirm" onclick="">확인</button>
                    <button type="button" class="normal layerclose" id="btnPopCancel">취소</button>
                </div>
            </div>
        </div>
    </div>
    <div class="layerPopWrap pop06" style="display: none; z-index: 119" tabindex="-2"><!-- 레이어 배경영역  -->
        <div class="layerPop deliverySelect"><!-- 실제 레이어 컨텐츠 영역  -->
            <p class="layerTitle" style="background: #fff; color: #333; text-align: center;">배송지 선택</p>
            <button type="button" class="layerClose type02" style="filter:contrast(0);">닫기</button>
            <div class="addressWrap">
                <div class="description">선택한 주소에 따라 주문 가능한 상품이 변경될 수 있습니다.</div>
                <div class="addrList"></div>
                <div class="btnBox" style="margin-bottom: 5px;">
                    <button type="button" class="nomarl layerclose">취소</button>
                    <button type="button" class="ok" onclick="messageShowFunc('배송지역에 따라 상품가격변동 및 발송 불가능한 상품은 제외될 수 있습니다.<br/>계속 하시겠습니까?', 'selectAddr','Y');">확인</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 테스트 레이어 팝업창 -->

    <script>
        jQuery(document).ready(function () {
            jQuery(".layerClose").on("click", function () {
                $(this).parents('.layerPopWrap').css("display", "none");
            })
            //jQuery(".orderMenu .cart").on("click", function () {
            //    jQuery(".pop1").css("display", "block")
            //})
            //jQuery(".soldout button.recall").on("click", function () {
            //    jQuery(".pop2").css("display", "block")
            //})
        })
        $(document).ready(function () {
            //하단 공지사항 시작
            {
                $.ajax({
                    type: "POST",
                    url: '/View/Util/Notice.aspx/NoticeSearch',
                    data: '{CURRENT_PAGE:"' + 1 + '",PAGE_CNT:"' + 5 + '"}',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {
                        var responseArr = $.parseJSON(response.d);
                        var noticeList = responseArr.Table;        //자주하는 질문 리스트
                        var lastPage = responseArr.Table1[0].LAST_PAGE;      //자주하는 질문 LastPage (Paging 용)

                        if (noticeList.length > 0) {

                            var appendHtml = '';

                            for (var i = 0; i < noticeList.length; i++) {
                                appendHtml += '<li><a href="../Util/NoticeDetail?page=1&no=' + noticeList[i].SEQ_NO + '">' + noticeList[i].TITLE + '</a></li>';
                            }
                            $('#mainBord01 >ul').empty();
                            $('#mainBord01 >ul').append(appendHtml);
                        }
                    },
                    failure: function (response) {
                        messageShow(response);
                    },
                    error: function (response) {
                        messageShow(response);
                    }
                });
                //$('.mainBord').append();
            }
            //하단 공지사항 끝
            //하단 FAQ 시작
            {
                $.ajax({
                    type: "POST",
                    url: '/View/Util/Faq.aspx/FaqSearch',
                    data: '{TITLE : "' + '' + '", FAQ_DIVISION : ' + null + ', CURRENT_PAGE : "1", PAGE_CNT : "' + 10 + '"}',
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    async: false,
                    success: function (response) {
                        var responseArr = $.parseJSON(response.d);
                        var faqCategory = responseArr.Table2;   //자주하는 질문 카테고리

                        if (faqCategory.length > 0) {
                            var appendHtml = "";
                            for (var i = 0; i < faqCategory.length; i++) {
                                appendHtml += '<li><a href="../Util/FAQ?page=1&div=' + faqCategory[i].CD_ID + '">' + faqCategory[i].CD_NM + '</a></li>';
                            }
                            $('#mainBord02 >ul').empty();
                            $('#mainBord02 >ul').append(appendHtml);
                        }

                    },
                    failure: function (response) {
                        messageShow(response);
                    },
                    error: function (response) {
                        messageShow(response);
                    }
                });
                //
            }
            //하단 FAQ 끝
        })
    </script>

    <!--사이드 내비게이션바-->
    <div class="side_nav">
        <div class="nav_wrap">

            <div class="banner">
                <a href="../Info/DeliveryInfo.aspx">
                    <img  src="../../images/element/banner_freshDeliver_2.png" alt="banner" onerror="this.src='../../images/etc/noimage.jpg'"/>
                </a>
            </div>
            <div class="banner" style="height: 120px;">
                <a href="../Info/businessCust.aspx">
                    <img  src="../../images/element/banner_benefits_2.png" alt="banner" onerror="this.src='../../images/etc/noimage.jpg'"/>
                </a>
            </div>

            <div class="arrow_btn">
                <button class="top"></button>
                <button class="bottom"></button>
            </div>
        </div>
    </div>

    <!-- Naver Analytics 연동 -->
    <!-- STEP 1. NA 스크립트인 wcslog.js 호출 -->
    <script type="text/javascript" src="//wcs.naver.net/wcslog.js"></script>

    <!-- 공통 적용 스크립트 , 모든 페이지에 노출되도록 설치. 단 전환페이지 설정값보다 항상 하단에 위치해야함 -->
    <script type="text/javascript">
        if (!wcs_add)
            var wcs_add = {};

        wcs_add["wa"] = "s_29fb49f8d7cd";

        if (!_nasa)
            var _nasa = {};

        if (window.wcs) {
            wcs.inflow();
            wcs_do(_nasa);
        }
    </script>



    <!-- Global site tag (gtag.js) - Google Ads: 711204144 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-711204144"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'AW-711204144');
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function (event) {
            var viewItemPage = /Detail/.test(window.location.pathname);
            var cartPage = /Basket/.test(window.location.pathname);
            var listPage = /Products/.test(window.location.pathname);
            var searchPage = /search/.test(window.location.pathname);
            var purchasePage = /order_result/.test(window.location.pathname);
            var google_business_vertical = 'retail';

            var ids = [];
            var totalPrice = 0;

            function callGtag(eventPageType, totalPrice, ids) {
                gtag('event', eventPageType, {
                    'value': totalPrice,
                    'items': ids
                })
            }

            if (viewItemPage) {
                ids.push({
                    'id': window.location.href.split("=")[1].split("&")[0],
                    'google_business_vertical': google_business_vertical
                });
                callGtag('view_item', document.querySelector('#totalPriceSpan').innerText.replace(/\W+/g, ''), ids);
            }
            else if (cartPage) {
                for (var i = 0; i < $('.goods-info').length; i++) {
                    ids.push({
                        'id': document.querySelectorAll('.item-img')[i].querySelector('a[href*="../Product/Detail?item="]').href.split("=")[1].split("&")[0],
                        'google_business_vertical': google_business_vertical
                    });
                    totalPrice = document.querySelector('td.total').innerText.replace(/\W+/g, '');
                }
                callGtag('add_to_cart', totalPrice, ids);
            }
            else if (searchPage || listPage) {
                var e = document.querySelectorAll('.item-img');
                for (var i = 0; i < e.length; i++) {
                    ids.push({
                        'id': e[i].querySelector('a[href*="Detail?item="]').href.split("=")[1].split("&")[0],
                        'google_business_vertical': google_business_vertical
                    });
                }
                if (listPage) {
                    callGtag('view_item_list', '', ids);
                }
                else {
                    callGtag('view_search_results', '', ids);
                }
            }
            else if (purchasePage) {
                ids.push({
                    'id': '',
                    'google_business_vertical': google_business_vertical
                });

                callGtag('purchase', document.querySelector('#totalPrice').innerText.replace(/\W+/g, ''), ids);



                gtag('event', 'conversion', {
                    'send_to': 'AW-711204144/3WHhCPrO9O0BELC6kNMC',
                    'value': document.querySelector('#totalPrice').innerText.replace(/\W+/g, ''),
                    'currency': 'KRW',
                    'transaction_id': document.querySelector('#orderNo').innerText
                });
            }
        });
    </script>

    <script>


        $(window).scroll(function () {

            var navTop = $(window).height() - 350
            var tbpos = $(window).height() * 0.3;
            var scTop = $(document).scrollTop();

            var height = $(window).height()
            if (scTop < 201) {// 스크롤 위치가 100px보다 작을때
                $(".side_nav").show().css({ top: navTop + "px" });

            } else {// 그밖의 경우 위치이동 애니
                $(".side_nav").show().stop()
                    .animate({
                        top: (tbpos + scTop) + "px"
                    }, 300, "easeOutCubic");
            }

            //if (scTop < 100) {// 스크롤 위치가 100px보다 작을때
            //    $(".side_nav").show().css({ top: tbpos +700 + "px" });
            //}
            //else {// 그밖의 경우 위치이동 애니
            //    $(".side_nav").show().stop()
            //        .animate({
            //            top: (tbpos + scTop) + "px"
            //        }, 700, "easeOutCubic");
            //}
        });//사이드네비게이션바 위치



        var scrollB = $('body').height() - $(window).height() - $(window).scrollTop();

        $(".arrow_btn .top").click(function () {
            $("html,body").stop()
                .animate({ scrollTop: "0px" }, 800, "easeOutQuad");
        });//top버튼 클릭시 상단으로 이동

        $(".arrow_btn .bottom").click(function () {
            $("html,body").stop()
                .animate({ scrollTop: $(document).height() }, 800, "easeOutQuad");
        });//bottom버튼 클릭시 하단으로 이동

    </script>
    <!--사이드 내비게이션바-->
    <script>
        <!-- 상단 내비게이션 바-->
        var subSwiper = new Swiper('#customCategory', {
            initialSlide: 0,
            speed: 700,
            observer: true,
            observeParents: true, //이걸 넣으면 모바일에서 마지막 쪽으로 이동함. 웹은 이상 없는데???
            slidesPerView: 'auto',
            centeredSlides: false,
            //touchReleaseOnEdges: false,
            //navigation: {
            //    nextEl: '#categoryNavNext',
            //    prevEl: '#categoryNavPrev',
            //},
        });
    </script>
</div>


<!-- AceCounter Log Gathering Script V.8.0.2019080601 -->
<script type="text/javascript" src="/Scripts/AceCounter/ace_counter_sdk.js"></script>
<!-- AceCounter Log Gathering Script End -->

</body>
</html>
